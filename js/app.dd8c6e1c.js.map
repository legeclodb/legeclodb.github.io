{"version":3,"file":"js/app.dd8c6e1c.js","mappings":"mEAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,EACrH,EACIG,EAAkB,GCMtB,GACAC,KAAAA,MACAC,WAAAA,CACA,GCX0O,I,UCQtOC,GAAY,OACd,EACAT,EACAM,GACA,EACA,KACA,KACA,MAIF,EAAeG,EAAiB,Q,8BCnB5BT,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,cAAcA,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAIgB,eAAgBC,SAAS,SAAUC,GAAMlB,EAAIgB,eAAeE,CAAG,EAAEC,WAAW,mBAAmB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,wBAAwBJ,EAAIoB,GAAIpB,EAAIqB,iBAAiB,SAASC,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,YAAY,IAAI,CAAC5B,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG9B,EAAI+B,WAAWR,IAAI,MAAM,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,QAAQd,MAAM,CAACC,MAAOf,EAAIiC,iBAAkBhB,SAAS,SAAUC,GAAMlB,EAAIiC,iBAAiBf,CAAG,EAAEC,WAAW,uBAAuB,KAAKjB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACT,EAAIoB,GAAIpB,EAAIkC,aAAa,SAASC,EAAGC,GAAK,OAAOlC,EAAG,MAAM,CAACsB,IAAIY,EAAI3B,YAAY,SAASuB,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,aAAa,CAACmC,IAAIF,EAAG7B,KAAKgC,UAAS,EAAKlC,MAAM,CAAC,KAAO+B,EAAGI,QAAQ,KAAO,MAAM7B,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIwC,kBAAkBd,EAAQS,EAAG,EAAE,KAAO,SAAST,GAAQ,OAAO1B,EAAIyC,kBAAkBf,EAAQS,EAAG,IAAInC,EAAIoB,GAAIpB,EAAI0C,oBAAoBP,EAAGQ,OAAO,SAASC,GAAG,OAAO1C,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6C,aAAaD,GAAGE,GAAGrC,YAAY,qBAAqBL,MAAM,CAAC,GAAKJ,EAAI+C,SAASH,IAAIlC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBJ,GAAI5C,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGc,GAAG,KAAK1C,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6C,aAAaD,GAAGO,aAAanD,EAAI6B,GAAG,KAAM7B,EAAI6C,aAAaD,GAAGQ,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI6C,aAAaD,GAAGQ,SAASpD,EAAIqD,KAAMrD,EAAIsD,YAAYV,GAAI1C,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAI+C,SAASH,GAAG,SAAW,cAAc,MAAQ,CAACW,KAAK,EAAGC,KAAK,KAAK,UAAU,IAAI9C,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIyD,oBAAoBtB,EAAIS,EAAE,EAAE,OAAS,SAASlB,GAAQ,OAAO1B,EAAI0D,oBAAoBvB,EAAIS,EAAE,IAAI5C,EAAIoB,GAAIpB,EAAI2D,mBAAmBf,IAAI,SAASgB,GAAI,OAAO1D,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6D,SAASD,GAAId,GAAGrC,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBY,GAAI,GAAO5D,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG8B,GAAI,KAAK1D,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6D,SAASD,GAAIT,cAAc,IAAG,GAAGnD,EAAIqD,MAAM,EAAE,IAAG,IAAI,EAAE,IAAGnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiC,iBAAiB,EAAE,IAAI,CAACjC,EAAI6B,GAAG,UAAU,IAAI,KAAK3B,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,SAASd,MAAM,CAACC,MAAOf,EAAI8D,kBAAmB7C,SAAS,SAAUC,GAAMlB,EAAI8D,kBAAkB5C,CAAG,EAAEC,WAAW,wBAAwB,GAAGjB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8D,kBAAkB,EAAE,IAAI,CAAC9D,EAAI6B,GAAG,UAAU,QAAQ,IAAI,GAAG3B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACT,EAAI+D,GAAG,GAAG7D,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,mBAAmBJ,EAAIoB,GAAIpB,EAAIgE,aAAa,SAAS1C,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,QAAQ,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,QAAUJ,EAAImE,aAAa,QAAU,qBAAqBzD,GAAG,CAAC,iBAAiB,SAASgB,GAAQ1B,EAAImE,aAAazC,CAAM,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,SAAS,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,SAAS,MAAQ,KAAK,OAAS,SAAS,IAAI,KAAK/D,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,oBAAoBJ,EAAIoB,GAAIpB,EAAIoE,cAAc,SAAS9C,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,SAAS,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIqE,QAAQ9C,IAAI,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,qBAAqBJ,EAAIoB,GAAIpB,EAAIsE,cAAc,SAAShD,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,SAAS,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIuE,SAAShD,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,yBAAyBJ,EAAIoB,GAAIpB,EAAIwE,kBAAkB,SAASlD,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,aAAa,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIyE,YAAYlD,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,OAAOrB,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAI0E,iBAAkBzD,SAAS,SAAUC,GAAMlB,EAAI0E,iBAAiBxD,CAAG,EAAEC,WAAW,qBAAqB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI2E,cAAc3E,EAAI4E,cAAc,KAAO,KAAK,GAAK,oBAAoB5E,EAAIoB,GAAIpB,EAAI2E,eAAe,SAASrD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI4E,aAAarD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,GAAGpB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI6E,aAAa7E,EAAI8E,aAAa,KAAO,KAAK,GAAK,oBAAoB9E,EAAIoB,GAAIpB,EAAI6E,cAAc,SAASvD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8E,YAAYvD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,GAAGpB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,YAAY3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,CAACF,EAAG,kBAAkB,CAACO,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI+E,iBAAgB,EAAM,IAAI,CAAC/E,EAAI6B,GAAG,YAAY3B,EAAG,kBAAkB,CAACO,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI+E,iBAAgB,EAAK,IAAI,CAAC/E,EAAI6B,GAAG,aAAa,IAAI,KAAK3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,UAAU3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIgF,UAAUhF,EAAIiF,UAAU,KAAO,KAAK,GAAK,kBAAkBjF,EAAIoB,GAAIpB,EAAIgF,WAAW,SAAS1D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiF,SAAS1D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,GAAGpB,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,SAAS9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIkF,WAAWlF,EAAImF,WAAW,KAAO,KAAK,GAAK,wBAAwBnF,EAAIoB,GAAIpB,EAAIkF,YAAY,SAAS5D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAImF,UAAU5D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,OAAOpB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,cAAcF,EAAIoB,GAAI,CAACpB,EAAIoF,KAAKC,KAAKC,MAAOtF,EAAIoF,KAAKC,KAAKE,OAAO,SAASC,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAAkB,IAAI,EAAE,IAAG,IAAI,GAAGjB,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,KAAK,GAAK,eAAeM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,UAAU3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,aAAa,UAAY,SAAS,eAAe,iBAAiB,CAACF,EAAG,MAAM,CAACO,YAAY,OAAOuB,YAAY,CAAC,YAAY,UAAU,CAAC9B,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY7B,EAAIoB,GAAIpB,EAAIoF,KAAKC,MAAM,SAASG,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,MAAQ,IAAIQ,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,GAAGnD,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAIoF,KAAKY,QAAQ,SAASR,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACO,YAAY,OAAOuB,YAAY,CAAC,OAAS,oBAAoB,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIiG,aAAa,IAAI,CAACjG,EAAI6B,GAAG,WAAW3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIiG,YAAY,EAAE,IAAI,CAACjG,EAAI6B,GAAG,eAAe,GAAG3B,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,QAAQ,YAAY,MAAM,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,MAAM,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,SAAS,QAAQ,GAAG3B,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,SAAS,UAAU,IAAI,MAAM,GAAG3B,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,SAASkE,MAAOlG,EAAIkG,MAAO9F,MAAM,CAAC,GAAK,YAAY,CAAEJ,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyG,gBAAgB,IAAI,CAACzG,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI0G,YAAY,SAASC,GAAK,MAAO,CAACzG,EAAG,MAAM,CAACsB,IAAImF,EAAI7D,GAAGrC,YAAY,YAAYL,MAAM,CAAC,GAAK,OAAOuG,EAAI7D,KAAK,CAAC5C,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIC,MAAM,MAAQD,EAAIrG,KAAK,MAAQ,MAAM,OAAS,MAAM,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOG,MAAM,CAAE,YAAeZ,EAAI+G,kBAAkBJ,KAAQ,CAACzG,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcL,EAAIrG,UAAUJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAI/F,OAAO,MAAQ,OAAO+F,EAAI/F,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIM,QAAQ,MAAQ,QAAQN,EAAIM,OAAO,OAAS,QAAQ/G,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIO,QAAQ,MAAQ,SAASP,EAAIO,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIQ,YAAY,MAAQ,SAASR,EAAIQ,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIS,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIU,UAAU,GAAGnH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIW,WAAYX,EAAIY,OAAQrH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,YAAY3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIY,OAAOD,WAAWtH,EAAIqD,MAAM,GAAIsD,EAAIa,OAAQtH,EAAG,MAAM,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAS,IAAGJ,EAAIoF,KAAKC,KAAKE,KAAKxE,WAAWf,EAAIoF,KAAKC,KAAKC,MAAMvE,iBAAiBmC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAad,EAAIa,YAAYxH,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,YAAeZ,EAAI0H,oBAAoBf,EAAIgB,UAAW,CAACzH,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,OAAOuG,EAAI7D,GAAG,YAAY,CAAC5C,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIgB,OAAOf,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,OAAOuG,EAAI7D,GAAG,UAAU,MAAQ6D,EAAIgB,OAAOrH,KAAK,SAAW,cAAc,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWjB,EAAIgB,gBAAgB3H,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG9B,EAAI6H,gBAAgBlB,EAAIgB,SAAS,KAAMhB,EAAIgB,OAAOG,MAAO5H,EAAG,aAAa,CAACO,YAAY,iBAAiBL,MAAM,CAAC,KAAOuG,EAAIgB,OAAOI,QAAQ,QAAU,sBAAsB/H,EAAIoB,GAAIuF,EAAIgB,OAAOG,OAAO,SAASE,EAAGC,GAAI,OAAO/H,EAAG,kBAAkB,CAACsB,IAAIyG,EAAGxH,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQiF,EAAIgB,OAAOI,QAAQE,EAAItB,EAAIgB,OAAOO,KAAKF,CAAG,IAAI,CAAChI,EAAI6B,GAAG7B,EAAI8B,GAAGmG,KAAM,IAAG,GAAGjI,EAAIqD,KAAMsD,EAAIY,OAAQrH,EAAG,aAAa,CAACO,YAAY,iBAAiBL,MAAM,CAAC,KAAOuG,EAAIY,OAAOY,QAAU,SAAU,SAAS,QAAU,sBAAsB,CAACjI,EAAG,kBAAkB,CAACO,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIoI,aAAazB,GAAK,EAAM,IAAI,CAAC3G,EAAI6B,GAAG,YAAY3B,EAAG,kBAAkB,CAACO,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIoI,aAAazB,GAAK,EAAK,IAAI,CAAC3G,EAAI6B,GAAG,aAAa,GAAG7B,EAAIqD,MAAM,GAAGnD,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWjB,EAAIgB,YAAahB,EAAIgB,OAAOvE,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAW1B,EAAIgB,YAAY3H,EAAIqD,WAAWnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQT,EAAIoB,GAAIuF,EAAIgB,OAAOhF,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,KAAKtI,EAAIoB,GAAIuF,EAAI4B,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,OAAOuG,EAAI7D,GAAG,SAAS2F,IAAK,CAACvI,EAAG,SAAS,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2I,eAAeH,EAAM,IAAI,CAACtI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,SAAS,GAAI5G,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,OAAOuG,EAAI7D,GAAG,SAAS2F,EAAG,MAAQD,EAAMlI,KAAK,SAAW,cAAc,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAAmB,GAAjBxD,EAAI8E,YAAgB5E,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,SAAaxI,EAAIqD,KAAMmF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI+I,UAAUF,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,KAAK,OAAS,SAAS,EAAE,KAAI,GAAGN,EAAIqD,OAAOrD,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI6H,gBAAgBW,OAAWtI,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,WAAWnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQT,EAAIoB,GAAIoH,EAAM7F,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,IAAI,KAAI,OAAQ3B,EAAIsC,OAAQ/I,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAUT,EAAIoB,GAAIuF,EAAIsC,QAAQ,SAASA,EAAOC,GAAK,OAAOhJ,EAAG,MAAM,CAACsB,IAAI0H,EAAIzI,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYgF,EAAOrC,MAAM,MAAQqC,EAAO3I,KAAK,MAAQ,MAAM,OAAS,MAAM,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOG,MAAM,CAAE,YAAeZ,EAAI+G,kBAAkBkC,KAAW,CAAC/I,EAAG,KAAK,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAciC,EAAO3I,UAAUN,EAAI6B,GAAG,KAAK3B,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,gBAAgB3B,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYgF,EAAOrI,OAAO,MAAQ,OAAOqI,EAAOrI,MAAM,OAAS,QAAQV,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYgF,EAAO9B,YAAY,MAAQ,SAAS8B,EAAO9B,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAGmH,EAAO7B,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAGmH,EAAO5B,UAAU,IAAI,GAAI4B,EAAOE,UAAWjJ,EAAG,MAAM,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAQ,eAAe8C,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAawB,EAAOE,UAAU,UAAUnJ,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,YAAeZ,EAAI0H,oBAAoBuB,EAAOtB,UAAW,CAACzH,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,UAAUuG,EAAI7D,GAAG,IAAIoG,EAAI,YAAY,CAAChJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYgF,EAAOtB,OAAOf,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,UAAUuG,EAAI7D,GAAG,IAAIoG,EAAI,UAAU,SAAW,cAAc,MAAQD,EAAOtB,OAAOrH,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWqB,EAAOtB,gBAAgB3H,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGmH,EAAOtB,OAAOrH,MAAM,OAAOJ,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWqB,EAAOtB,YAAasB,EAAOtB,OAAOvE,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWY,EAAOtB,YAAY3H,EAAIqD,WAAWnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQT,EAAIoB,GAAI6H,EAAOtB,OAAOhF,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,KAAKtI,EAAIoB,GAAI6H,EAAOV,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,UAAUuG,EAAI7D,GAAG,IAAIoG,EAAI,SAAST,IAAK,CAACvI,EAAG,SAAS,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2I,eAAeH,EAAM,IAAI,CAACtI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,SAAS,GAAI5G,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,UAAUuG,EAAI7D,GAAG,IAAIoG,EAAI,SAAST,EAAG,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAAmB,GAAjBN,EAAI8E,YAAgB5E,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,SAAaxI,EAAIqD,KAAMmF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI+I,UAAUF,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,KAAK,OAAS,SAAS,EAAE,KAAI,GAAGN,EAAIqD,OAAOrD,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,WAAWnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQT,EAAIoB,GAAIoH,EAAM7F,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,IAAI,KAAI,MAAM,IAAG,GAAGtI,EAAIqD,OAAO,IAAIrD,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIoJ,aAAa,IAAI,CAACpJ,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,MAAM,IAClhvB,EACIhD,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,cACpK,GCHI9B,G,gBAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,OAAO,QAAU,SAAS,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,eAAe,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,eAAe,CAACJ,EAAI6B,GAAG,YAAY3B,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,kBAAkB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,eAAe,CAACJ,EAAI6B,GAAG,UAAU3B,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAACJ,EAAI6B,GAAG,QAAS7B,EAAIqJ,QAASnJ,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACJ,EAAI6B,GAAG,eAAe7B,EAAIqD,KAAMrD,EAAIqJ,QAASnJ,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,eAAe,CAACJ,EAAI6B,GAAG,SAAS7B,EAAIqD,MAAM,GAAGnD,EAAG,eAAe,CAACO,YAAY,WAAW,CAACP,EAAG,aAAa,CAACO,YAAY,OAAOL,MAAM,CAAC,KAAO,yCAAyC,OAAS,WAAW,CAACF,EAAG,MAAM,CAACO,YAAY,iBAAiBL,MAAM,CAAC,MAAQ,6BAA6B,QAAU,YAAY,MAAQ,KAAK,OAAS,KAAK,UAAY,QAAQ,KAAO,QAAQ,CAACF,EAAG,QAAQ,CAACF,EAAI6B,GAAG,YAAY3B,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iBAAiB,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,YAAY,UAAU,YAAY,UAAU,EAAI,skBAAskB,IAAI,EACttD,GACIC,EAAkB,GCwBtB,GACAC,KAAAA,aACAgJ,MAAAA,CACA,EAEAC,OACA,OACAF,SAAAA,EAEA,EAEAG,UACA,eACA,GCvC0P,ICQtP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,Q,6/7jBChBhC,GACED,OACE,MAAO,CACLE,WAAYC,EAEZ7I,YAAY,EACZ8I,8BAA+B,EAC/BC,mBAAoB,EACpB9E,YAAa,EACbF,aAAc,EACdK,SAAU,EACVE,UAAW,EACX0E,YAAY,EACZrD,KAAM,EAEN3C,SAAU,CAAC,EACXhB,aAAc,CAAC,EACfS,YAAa,CAAC,EACdwG,UAAW,EACXC,cAAe,EACfC,mBAAoB,GAEpB/H,iBAAkB,GAClBgI,qBAAsB,GACtBC,YAAa,KAEbpG,kBAAmB,GACnBqG,sBAAuB,GACvBC,aAAc,KAEdpJ,eAAgB,EAChB0D,iBAAkB,EAElBC,cAAe,CACb,KACA,KACA,KACA,MACA,MAGN,EAEA0F,UACE,IAAIC,EAAQrK,KAAKsK,eACbC,EAAM,KAEVA,EAAMC,aAAaC,QAAS,GAAEJ,kBAC1BE,IACFvK,KAAK2E,aAAe+F,SAASH,IAE/BA,EAAMC,aAAaC,QAAS,GAAEJ,iBAC1BE,IACFvK,KAAK6E,YAAc6F,SAASH,IAE9BA,EAAMC,aAAaC,QAAS,GAAEJ,cAC1BE,IACFvK,KAAKgF,SAAW0F,SAASH,IAE3BA,EAAMC,aAAaC,QAAS,GAAEJ,eAC1BE,IACFvK,KAAKkF,UAAYwF,SAASH,IAE5BA,EAAMC,aAAaC,QAAS,GAAEJ,gBAC1BE,IACFvK,KAAK4J,WAAqB,QAAPW,EACvB,EAEAhB,UACEoB,OAAOC,iBAAiB,SAAU5K,KAAK6K,SACzC,EAEAC,gBACEH,OAAOI,oBAAoB,SAAU/K,KAAK6K,SAC5C,EAEAG,MAAO,CACLrG,aAAc,SAAUsG,GACtBT,aAAaU,QAAS,GAAElL,KAAKsK,8BAA+BW,EAC9D,EACApG,YAAa,SAAUoG,GACrBT,aAAaU,QAAS,GAAElL,KAAKsK,6BAA8BW,EAC7D,EACAjG,SAAU,SAAUiG,GAClBT,aAAaU,QAAS,GAAElL,KAAKsK,0BAA2BW,EAC1D,EACA/F,UAAW,SAAU+F,GACnBT,aAAaU,QAAS,GAAElL,KAAKsK,2BAA4BW,EAC3D,EACArB,WAAY,SAAUqB,GACpBT,aAAaU,QAAS,GAAElL,KAAKsK,4BAA6BW,EAC5D,GAGFE,SAAU,CACRlF,QACE,MAAO,CACL,oBAAsB,IAAEjG,KAAK6E,aAAe,EAAI,QAAU,IAC1D,wBAA0B,IAAsB,GAApB7E,KAAK6E,YAAmB,QAAU,IAC9D,wBAA0B,IAAE7E,KAAK6E,YAAc,EAAI,EAAI,GACvD,mBAAqB,IAAE7E,KAAK6E,YAAc,EAAI,OAAS,WACvD,oBAAsB,IAAsB,GAApB7E,KAAK6E,YAAmB,EAAI,GAExD,EAEAwB,kBACE,IAAI4E,EAAIG,IAGR,OAFIpL,KAAK2E,aAAe3E,KAAK0E,cAAc0B,SACzC6E,EAAIP,SAAS1K,KAAK0E,cAAc1E,KAAK2E,gBAChC0G,MAAMJ,GAAK,IAAOA,CAC3B,GAGFK,QAAS,CACPT,WACE,MAAMU,EAAMZ,OAAOa,SAAWC,SAASC,gBAAgBC,UACnDJ,EAAM,GAAKK,KAAKC,IAAIN,EAAMvL,KAAK2J,oBAAsB,KAIrD3J,KAAK0J,8BAAgC,IACrC1J,KAAK0J,8BAGP1J,KAAKY,WAAa2K,EAAMvL,KAAK2J,mBAE/B3J,KAAK2J,mBAAqB4B,EAC5B,EAEAjF,OAAOC,GACDA,GACFvG,KAAK8L,UAAU,CAAEC,EAAGxF,GACxB,EAEA+D,eACE,IAAI0B,EAAMhM,KAAKiM,OAAO5L,KAGtB,MAFW,SAAP2L,IACFA,EAAM,QACDA,CACT,EAEAE,aACElM,KAAKY,YAAa,CACpB,EAEAuI,cACEwB,OAAOwB,OAAO,EAAG,EACnB,EACA3F,iBACEmE,OAAOyB,SAAS,EAAGX,SAASY,KAAKC,aACnC,EAEA5L,YAAY6L,GACNA,EAAMC,QAAU,KAClBxM,KAAKY,YAAa,EAEtB,EAEA6L,SAASC,GACP,OAAOA,EAAIC,QAAQ,sBAAuB,OAC5C,EAEA3I,YAAY3D,GACV,OAAIA,KAAQL,KAAKwJ,WACRxJ,KAAKwJ,WAAWnJ,IAGnBA,GACFuM,QAAQC,IAAK,kBAAiBxM,eAEzB,cAEX,EAEAyM,YAAYC,EAAGC,GACb,OAAOD,EAAE1F,MAAQ2F,EAAE3F,KAAO,EAAK0F,EAAE1F,KAAO2F,EAAE3F,MAAQ,EAAI,CACxD,EACA4F,UAAUC,EAAKC,GACb,IAAK,MAAMlC,KAAKkC,EACdD,EAAIE,IAAInC,EAEZ,EACAoC,QAAQH,EAAKI,GACX,IAAIC,EAASC,MAAMC,KAAKP,GAAKQ,KAAKJ,GAClCJ,EAAIS,QACJ3N,KAAKiN,UAAUC,EAAKK,EACtB,EACAK,aAAaV,EAAKW,GAChB,IAAItD,EAAM,GACV,IAAK,MAAMU,KAAKiC,EACVW,EAAU5C,IACZV,EAAIuD,KAAK7C,GAEb,IAAK,MAAMA,KAAKV,EACd2C,EAAIa,OAAO9C,GACXiC,EAAIE,IAAInC,EAEZ,EACA+C,WAAWd,EAAKe,GACd,IAAI1D,EAAM,GACV,IAAK,MAAMU,KAAKgD,EACVf,EAAIgB,IAAIjD,KACViC,EAAIa,OAAO9C,GACXV,EAAIuD,KAAK7C,IAGb,GAAkB,GAAdV,EAAInE,OAAa,CACnB,IAAK,MAAM6E,KAAKiC,EACd3C,EAAIuD,KAAK7C,GAEXiC,EAAIS,QACJ3N,KAAKiN,UAAUC,EAAK3C,EACtB,CACF,EAEA4D,UAAUC,GACR,MAAMC,EAAIrO,KAAKqG,gBACf,GAAI+H,EAAMhI,OAASiI,EACjB,OAAOD,EACT,MAAME,EAAQD,GAAKrO,KAAKuG,KAAO,GACzBgI,EAAM3C,KAAKlG,IAAI2I,EAAIrO,KAAKuG,KAAM6H,EAAMhI,QAC1C,OAAOgI,EAAMI,MAAMF,EAAOC,EAC5B,EACArI,aAAakI,GACX,MAAMC,EAAIrO,KAAKqG,gBACf,OAAOuF,KAAK6C,KAAKL,EAAMhI,OAASiI,EAClC,EACAK,UAAUN,EAAOO,GACf,MAAMN,EAAIrO,KAAKqG,gBACT/E,EAAI8M,EAAMQ,UAAUD,GAC1B,OAAO/C,KAAKiD,MAAOvN,EAAI+M,GAAM,CAC/B,EAEAS,iBAAiBC,GACf/O,KAAKqN,QAAQ0B,GACb/O,KAAK4N,aAAamB,GAAW1G,GAAOA,EAAI2G,MAAM,YAC9ChP,KAAK4N,aAAamB,GAAW1G,GAAOA,EAAI2G,MAAM,YAC9ChP,KAAK4N,aAAamB,GAAW1G,GAAOA,EAAI2G,MAAM,aAC9ChP,KAAK4N,aAAamB,GAAW1G,GAAOA,EAAI2G,MAAM,eAC9ChP,KAAK4N,aAAamB,GAAW1G,GAAOA,EAAI2G,MAAM,cAChD,EACAC,gBACE,IAAK,IAAIC,KAAKlP,KAAKqD,YACjBrD,KAAK8O,iBAAiB9O,KAAKqD,YAAY6L,GAE3C,EAEAC,mBAAmB9G,GACjB,IAAK,MAAM+G,KAAKpP,KAAK+J,mBACnB,GAAI1B,EAAIgH,WAAWD,GACjB,OAAOA,EAEX,IAAIrD,EAAI1D,EAAIiH,QAAQ,KACpB,OAAa,GAANvD,EAAU1D,EAAImG,MAAM,EAAGzC,GAAK,IACrC,EACAwD,WAAW5M,GACJ3C,KAAK4C,aAAaD,KACrB3C,KAAK4C,aAAaD,GAAK,CACrBE,KAAM7C,KAAK8J,cACX5G,MAAO,EACPC,KAAMnD,KAAKwP,UAAUC,SAAS9M,IAGpC,EACA+M,UAAUC,EAAMC,GACd,IAAIC,EAAU7P,KAAKqD,YAAYsM,GAC1BE,IACHA,EAAU,IAAIC,IACd9P,KAAKqD,YAAYsM,GAAQE,IAEtBA,EAAQ3B,IAAIyB,IAAS3P,KAAK4D,SAAS+L,IACtCE,EAAQzC,IAAIuC,GAEdE,EAAQzC,IAAIwC,EACd,EACAG,YAAYpN,GACV,GAAK3C,KAAK4D,SAASjB,GAOjB,OANA3C,KAAK4D,SAASjB,GAAK,CACjBE,KAAM7C,KAAK6J,UACX3G,MAAO,GAOX,MAAM8M,EAAUhQ,KAAKmP,mBAAmBxM,GACpCqN,GACFhQ,KAAKuP,WAAWS,GAChBhQ,KAAK0P,UAAUM,EAASrN,KAGxB3C,KAAKuP,WAAW5M,GACZA,KAAK3C,KAAKqD,aACZrD,KAAKqD,YAAYV,GAAGyK,IAAIzK,GAG9B,EACAsN,aAAavN,GACX,GAAIA,EACF,IAAK,MAAMC,KAAKD,EACd1C,KAAK+P,YAAYpN,EAEvB,EACAuN,UAAUxN,GACR,GAAKA,EAEL,IAAK,IAAIC,KAAKD,EAAM,GAChB1C,KAAK4D,SAASjB,GAAGO,MAEnB,MAAM8M,EAAUhQ,KAAKmP,mBAAmBxM,GACpCqN,IACAhQ,KAAK4C,aAAaoN,GAAS9M,QAG3BlD,KAAK4C,aAAaD,GAAGO,KAE3B,CACF,EACAiN,iBACE,IAAK,IAAIlF,KAAKmF,OAAOC,OAAOrQ,KAAK4D,UAC/BqH,EAAE/H,MAAQ,EAEZ,IAAK,IAAI+H,KAAKmF,OAAOC,OAAOrQ,KAAK4C,cAC/BqI,EAAE/H,MAAQ,CAEd,EAEAJ,SAASH,GACP,MAAQ,MAAK3C,KAAK4C,aAAaD,GAAGE,IACpC,EACAyN,cACE,OAAOF,OAAOG,KAAKvQ,KAAK4C,aAC1B,EACAH,oBAAoBC,GAClB,IAAI8N,EAAI,GACR,IAAK,MAAM7N,KAAKD,EACV1C,KAAK4C,aAAaD,GAAGO,MAAQ,GAC/BsN,EAAE1C,KAAKnL,GAGX,OAAO6N,CACT,EACA9M,mBAAmBsM,GACjB,IAAIQ,EAAI,KACR,MAAMC,EAAUzQ,KAAKqD,YAAY2M,GACjC,GAAIS,EACF,IAAK,MAAM9N,KAAK8N,EACVzQ,KAAK4D,SAASjB,GAAGO,MAAQ,IAClB,MAALsN,IACFA,EAAI,IAENA,EAAE1C,KAAKnL,IAIb,OAAO6N,CACT,EAEAE,gBAAgBC,GACd,IAAK,MAAM1F,KAAK0F,EACd,GAAI1F,EAAEzJ,MACJ,OAAO,EACX,OAAO,CACT,EACAoP,WAAW1D,EAAK/G,GACd,MAAO+G,EAAI9G,OAASD,EAAMC,OACxB8G,EAAIY,KAAK,CAAEtM,OAAO,GAEtB,EACAqP,YAAYF,EAAQnL,GAClB,GAAIxF,KAAK0Q,gBAAgBC,GAAS,CAChC,GAAInD,MAAMsD,QAAQtL,GAAQ,CACxB,IAAK,MAAMlE,KAAKkE,EACd,GAAIlE,GAAK,GAAKqP,EAAOrP,GAAGE,MACtB,OAAO,EAGX,OAAO,CACT,CAEE,OAAOgE,GAAS,GAAKmL,EAAOnL,GAAOhE,KAEvC,CAEE,OAAO,CAEX,EAEAuB,oBAAoBgO,EAAKC,GAAY,EAAOC,GAAS,GACnDF,EAAMA,EAAIG,OACND,IACFF,EAAM/Q,KAAKyM,SAASsE,IACtBA,EAAM,IAAMA,EAEVA,GADEC,EACK,IAEA,WACThR,KAAKgC,iBAAmB+O,EACxB/Q,KAAK6D,kBAAoB,GACzB7D,KAAKe,eAAiB,EAEtBf,KAAK0J,8BAAgC,EACrC1J,KAAKmR,cACLnR,KAAKoR,UAAU,WACbpR,KAAKY,YAAa,CACpB,EAAEyQ,KAAKrR,MACT,EACAsR,qBAAqBP,EAAKC,GAAY,EAAOC,GAAS,GACpDF,EAAMA,EAAIG,OACND,IACFF,EAAM/Q,KAAKyM,SAASsE,IAClBC,IACFD,EAAO,IAAGA,MACZ/Q,KAAK6D,kBAAoBkN,EACzB/Q,KAAKgC,iBAAmB,GACxBhC,KAAKe,eAAiB,EAEtBf,KAAK0J,8BAAgC,EACrC1J,KAAKmR,cACLnR,KAAKoR,UAAU,WACbpR,KAAKY,YAAa,CACpB,EAAEyQ,KAAKrR,MACT,EAEAuR,UAAU7O,EAAM8O,GACd,GAAI9O,EACF,IAAK,MAAM2F,KAAO3F,EAChB,GAAI2F,EAAI2G,MAAMwC,GACZ,OAAO,EAIb,OAAO,CACT,EACAC,aAAaC,EAAMF,GACjB,MAAoB,kBAATE,EACFA,EAAK1C,MAAMwC,GAGVE,EAAKrR,MAAQqR,EAAKrR,KAAK2O,MAAMwC,IAASE,EAAKzJ,MAAQyJ,EAAKzJ,KAAK+G,MAAMwC,IAASE,EAAKrK,MAAQqK,EAAKrK,KAAK2H,MAAMwC,EAErH,EACAG,gBACE,OAAQ3R,KAAKiK,YAAc,EAAI,IAAMjK,KAAKmK,aAAe,EAAI,EAC/D,EACAyH,qBACE,OAAO5R,KAAKiK,aAAejK,KAAKmK,YAClC,EAEApD,cAAc1G,GACZ,IAAI+O,EAAI/O,EAAK2O,MAAM,oBACnB,OAAII,EACKA,EAAE,GAAM,sBAAqBA,EAAE,YAG/B/O,CAEX,EACAsH,WAAW+J,EAAMG,GAAe,GAC9B,IAAIC,EAAOJ,EAAKzJ,KAChB,IAAK6J,EACH,MAAO,GAGTA,EAAOA,EAAKC,WAAW,KAAM,SAAW,QACxC,MAAO,EAAM,CAGX,IAAIC,EAAWH,EAAe,KAAO,6BACjCtH,EAAMuH,EAAKC,WAAW,8BAA+BC,GACzD,GAAIzH,GAAOuH,EACT,MACFA,EAAOvH,CACT,CACA,OAAOuH,CACT,EACAG,YAAYP,GACV,IAAKA,EACH,MAAO,GACT,IAAII,EAAOJ,EAAKrR,KAAO,KAqBvB,OApBIqR,EAAKQ,SACPJ,GAAS,OAAMJ,EAAK/Q,cAAc+Q,EAAK1K,gBAAgB0K,EAAKxK,gBAE1DwK,EAAKS,YACPL,GAAS,OAAMJ,EAAK/Q,eAAe+Q,EAAKxK,gBAEtCwK,EAAKU,SACPN,GAAQ9R,KAAKqS,aAAaX,EAAKnK,QAAU,OAEvCmK,EAAKY,UAAYZ,EAAKa,aACxBT,GAAQ,CACN,CAAC,KAAM9R,KAAKwS,SAASd,IACrB,CAAC,KAAM1R,KAAKyS,WAAWf,IACvB,CAAC,KAAM1R,KAAK0S,YAAYhB,IACxB,CAAC,MAAOA,EAAKiB,OACbhC,QAAO5D,GAAKA,EAAE,KACb6F,KAAK7F,GAAO,GAAEA,EAAE,OAAOA,EAAE,OACzB8F,KAAK,KAAO,MAEjBf,GAAQ9R,KAAK6R,aAAaH,EAAKzJ,MACxB6J,CACT,EAEAU,SAASd,GACP,OAAkB,GAAXA,EAAKoB,GAAU,IAAMpB,EAAKoB,EACnC,EACAL,WAAWf,GACT,MAAsB,MAAlBA,EAAKqB,UACC,KAAIrB,EAAKsB,SAGVtB,EAAKsB,IAEhB,EACAN,YAAYhB,GACV,OAAOA,EAAKvK,KACd,EACA0K,aAAaC,GACX,IAAKA,EACH,MAAO,GAET,MAAO,EAAM,CACX,IAAIvH,EAAMuH,EAAKC,WAAW,8BAA+B,MACzD,GAAIxH,GAAOuH,EACT,MACFA,EAAOvH,CACT,CACA,OAAOuH,CACT,EACA1J,WAAWsJ,GACT,IAAII,EAAOJ,EAAKvO,KAChB,MAAO,EAAM,CACX,IAAIoH,EAAMuH,EAAKC,WAAW,8BAA+B,8BACzD,GAAIxH,GAAOuH,EACT,MACFA,EAAOvH,CACT,CACA,OAAOuH,EAAKC,WAAW,KAAM,SAAW,OAC1C,EACAnK,gBAAgBW,GACd,OAAOA,EAAMlI,IACf,EACA0I,kBAAkBR,GAChB,MAAO,CACL,CAAC,KAAMvI,KAAKwS,SAASjK,IACrB,CAAC,KAAMvI,KAAKyS,WAAWlK,IACvB,CAAC,KAAMvI,KAAK0S,YAAYnK,IACxB,CAAC,MAAOA,EAAMoK,OACdhC,QAAO5D,GAAKA,EAAE,KACb6F,KAAK7F,GAAO,mDAAkDA,EAAE,uCAAuCA,EAAE,oBACzG8F,KAAK,GACV,EACArL,aAAaD,EAAQ0L,EAAS,GAAI/L,EAAa,MAC7C,MAAMgM,EAAO,SAAU7E,EAAGpD,EAAG3J,GAC3B,OAAK2J,EAED3J,EAAI,EACE,oCAAmCtB,KAAKgE,YAAYqK,cAAcA,qCAAqC4E,IAAShI,iBAEhH,mDAAkDoD,sCAAsCpD,iBAJzF,EAKX,EAAEoG,KAAKrR,MACP,IAAImT,EAAO,CAAC,KAAM,OAAQ,SAAU,OAAQ,OAAQ,QAAS,OAAOC,SAAQ,CAAC/E,EAAG/M,IAAM4R,EAAK7E,EAAG9G,EAAOjG,GAAIA,KASzG,OAPI4F,IACFiM,EAAKE,OAAO,EAAG,GACG,QAAdnM,EACFiM,EAAKE,OAAO,EAAG,GACM,QAAdnM,GACPiM,EAAKE,OAAO,EAAG,KAAMF,EAAKE,OAAO,EAAG,KAEjCF,EAAKN,KAAK,GACnB,EACAR,aAAa9K,GACX,MAAM2L,EAAO,SAAU7E,EAAGpD,EAAG3J,GAC3B,OAAK2J,EAEG,GAAEoD,KAAKpD,KADN,EAEX,EAAEoG,KAAKrR,MACP,IAAImT,EAAO,CAAC,KAAM,OAAQ,SAAU,OAAQ,OAAQ,QAAS,OAAOC,SAAQ,CAAC/E,EAAG/M,IAAM4R,EAAK7E,EAAG9G,EAAOjG,GAAIA,KACzG,OAAO6R,EAAKN,KAAK,GACnB,EAEAlR,YAAYtB,EAAMyL,GAAY,GAC5B,IAAIwH,GAAW,EACf,IAEE,GAAItT,KAAKgC,kBAAoBhC,KAAKgK,qBAIhC,GAHAhK,KAAKgK,qBAAuBhK,KAAKgC,iBACjCsR,GAAW,EAEyB,GAAhCtT,KAAKgC,iBAAiBoE,OAAa,CACrC,MAAMoL,EAAK,IAAI+B,OAAOvT,KAAKgC,kBAC3BhC,KAAKiK,YAAc,SAAUyH,GAC3B,OAAO1R,KAAKuR,UAAUG,EAAKhP,KAAM8O,EACnC,EAAEH,KAAKrR,KACT,MAEEA,KAAKiK,YAAc,KAKvB,GAAIjK,KAAK6D,mBAAqB7D,KAAKkK,sBAIjC,GAHAlK,KAAKkK,sBAAwBlK,KAAK6D,kBAClCyP,GAAW,EAE0B,GAAjCtT,KAAK6D,kBAAkBuC,OAAa,CACtC,MAAMoL,EAAK,IAAI+B,OAAOvT,KAAK6D,mBAC3B7D,KAAKmK,aAAgBuH,GAAS1R,KAAKyR,aAAaC,EAAMF,EACxD,MAEExR,KAAKmK,aAAe,IAM1B,CAFA,MAAOqJ,GACL,MACF,EAEIF,GAAa,CAAC,MAAO,QAAQG,SAASpT,KACpC,CAAC,QAAS,SAAU,SAAU,SAAU,cAAe,aAAc,YAAa,WAAY,OAAOoT,SAASpT,IAChHL,KAAK0T,kBACH5H,GAAa9L,KAAK8L,WACpB9L,KAAK8L,YACP9L,KAAK0J,8BAAgC,EAEzC,EAEAnH,kBAAkBgK,EAAO/K,GACvBA,EAAMmS,aAAe,EACrBnS,EAAMoS,aAAc,CACtB,EACApR,kBAAkB+J,EAAO/K,GACnBA,EAAMmS,aAAe,GACvBpH,EAAMsH,gBAEV,EACArQ,oBAAoBhC,EAAOsS,GACzB9T,KAAKmR,YAAYnR,KAAK+T,aACtB/T,KAAK+T,YAAc/T,KAAK8C,SAASgR,GACjCtS,EAAMmS,cACR,EACAlQ,oBAAoBjC,GAClBA,EAAMmS,eACFnS,EAAMoS,aACR5T,KAAKgU,MAAMxS,EAAMnB,MAAM,GAAGkD,MAE9B,EACAP,gBAAgBxB,EAAOsS,GACjBA,GACF9T,KAAKmR,YAAYnR,KAAK8C,SAASgR,IAEjCtS,EAAMoS,aAAc,CACtB,EACAzC,YAAYtO,EAAK,MACf7C,KAAKiU,MAAMC,MAAM,oBAAqBrR,EACxC,EAGAsR,gBAAgBxD,GACd,IAAIH,EAAI,EACR,IAAK,IAAIlP,EAAI,EAAGA,EAAIqP,EAAOvK,SAAU9E,EAC/BqP,EAAOrP,GAAGE,QACZgP,GAAK,GAAKlP,GAGd,OAAOkP,CACT,EACA4D,kBAAkBzD,EAAQ1F,GACxB,IAAK,IAAI3J,EAAI,EAAGA,EAAIqP,EAAOvK,SAAU9E,EACnCqP,EAAOrP,GAAGE,MAA0B,IAAjByJ,EAAK,GAAK3J,EAEjC,EAEA+S,gBAAgBvT,GACd,GAAIwT,UAAUC,UACZ,OAAOD,UAAUC,UAAUC,UAAU1T,EAEzC,EAEA2T,cAAe,MACbC,YAAYpL,GACV,IAAK,MAAM4F,KAAK5F,EACdtJ,KAAKkP,GAAK5F,EAAK4F,EAEnB,CAEAyF,YACE,IAAIC,EAAS,GACb,IAAK,MAAM1F,KAAKlP,KACd4U,EAAO9G,KAAKoB,EAAI,IAAMlP,KAAKkP,GAAG2F,YAEhC,MAAO,KAAwB,GAAjBD,EAAOxO,OAAcwO,EAAO/B,KAAK,KAAO,GACxD,CAEAiC,YAAYC,GACVA,EAAMC,mBAAmBD,GACzB,IAAIE,EAAa,EACbC,EAAIH,EAAI/F,MAAM,aAClB,GAAIkG,EAAG,CACL,IAAIN,EAASM,EAAE,GAAGC,MAAM,KACxB,IAAK,IAAI5P,KAASqP,EAAQ,CACxB,IAAIQ,EAAM7P,EAAM4P,MAAM,KACJ,GAAdC,EAAIhP,SACsB,kBAAjBpG,KAAKoV,EAAI,IAClBpV,KAAKoV,EAAI,IAAM1K,SAAS0K,EAAI,IAE5BpV,KAAKoV,EAAI,IAAMA,EAAI,KACnBH,EAEN,CACF,CACA,OAAOA,CACT,GAGFI,iBAAiB3O,EAAKrB,EAAQ,IAAKC,EAAO,EAAGgQ,EAAS,EAAGC,GAAY,EAAMC,EAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAE3G,IAAK9O,IAAQA,EAAI+O,aAAe/O,EAAIgP,WAAahP,EAAIiP,WACnD,OAAO,KAET,IAAInF,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxB,IAAK,IAAIlP,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,IAAMoF,EAAI+O,WAAWnU,GACvBkP,EAAElP,IAAMsK,KAAKgK,MAAMlP,EAAIgP,SAASpU,IAAM+D,EAAQ,IAC9CmL,EAAElP,IAAMsK,KAAKgK,MAAMlP,EAAIiP,WAAWrU,GAAKgE,GAEzC,GAAGgQ,EAAS,GAAKA,GAAU,EAAE,CAC3B,MAAMjF,EAAS,CACb,CAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAClB,CAAC,IAAK,EAAG,EAAG,EAAG,EAAG,GAClB,CAAC,IAAK,EAAG,EAAG,EAAG,EAAG,GAClB,CAAC,IAAK,EAAG,EAAG,EAAG,EAAG,IAEpB,IAAK,IAAI/O,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,IAAM+O,EAAOiF,GAAQhU,EAC3B,CACA,GAAIiU,EAAW,CACb,MAAMlF,EAAS,CAAC,IAAK,GAAI,GAAI,GAAI,GAAI,GACrC,IAAK,IAAI/O,EAAI,EAAGA,EAAI+O,EAAOjK,SAAU9E,EACnCkP,EAAElP,IAAM+O,EAAO/O,EACnB,CACA,GAAIkU,EACF,IAAK,IAAIlU,EAAI,EAAGA,EAAIkU,EAAMpP,SAAU9E,EAClCkP,EAAElP,GAAKsK,KAAKgK,MAAMpF,EAAElP,IAAM,EAAiB,IAAXkU,EAAMlU,KAE1C,OAAOkP,CACT,EAEAqF,oBAAoBnP,EAAKrB,EAAQ,IAAKC,EAAO,EAAGgQ,EAAS,EAAGC,GAAY,EAAMC,EAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAIM,EAAS,MAC3H,IAAKpP,IAAQA,EAAI+O,aAAe/O,EAAIgP,WAAahP,EAAIiP,WACnD,OAAO,KAET,IAAInF,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxB,IAAK,IAAIlP,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,IAAMoF,EAAI+O,WAAWnU,GACvBkP,EAAElP,IAAMsK,KAAKgK,MAAMlP,EAAIgP,SAASpU,IAAM+D,EAAQ,IAC9CmL,EAAElP,IAAMsK,KAAKgK,MAAMlP,EAAIiP,WAAWrU,GAAKgE,GAEzC,GAAIgQ,EAAS,GAAKA,GAAU,EAAG,CAC7B,MAAMjF,EAAS,CACb,CAAI,EAAI,EAAI,EAAI,EAAI,EAAG,GACvB,CAAE,IAAK,GAAK,EAAG,GAAK,EAAG,GACvB,CAAE,IAAK,GAAI,GAAI,GAAI,GAAI,GACvB,CAAC,KAAM,GAAI,GAAI,GAAI,GAAI,IAEzB,IAAK,IAAI/O,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,IAAM+O,EAAOiF,GAAQhU,EAC3B,CACA,GAAIiU,EAAW,CACb,MAAMlF,EAAS,CAAC,IAAK,GAAI,GAAI,GAAI,GAAI,GACrC,IAAK,IAAI/O,EAAI,EAAGA,EAAI+O,EAAOjK,SAAU9E,EACnCkP,EAAElP,IAAM+O,EAAO/O,EACnB,CAGA,IAAIyU,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACjC,GAAIP,EACF,IAAK,IAAIlU,EAAI,EAAGA,EAAIkU,EAAMpP,SAAU9E,EAClCyU,EAAWzU,IAAMsK,KAAKgK,MAAMpF,EAAElP,IAAiB,IAAXkU,EAAMlU,KAE9C,GAAIwU,EACF,IAAK,IAAIxU,EAAI,EAAGA,EAAIwU,EAAO1P,SAAU9E,EACnCyU,EAAWzU,IAAMsK,KAAKgK,MAAMpF,EAAElP,IAAkB,IAAZwU,EAAOxU,KAE/C,IAAK,IAAIA,EAAI,EAAGA,EAAIyU,EAAW3P,SAAU9E,EACvCkP,EAAElP,IAAMyU,EAAWzU,GAErB,OAAOkP,CACT,EAEAwF,cAActE,EAAMrM,EAAQ,IAC1B,IAAKqM,IAASA,EAAK+D,aAAe/D,EAAKgE,SACrC,OAAO,KAET,IAAIlF,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxB,IAAK,IAAIlP,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,IAAMsK,KAAKgK,MAAMlE,EAAK+D,WAAWnU,GAAKoQ,EAAKgE,SAASpU,IAAM+D,EAAQ,IAEtE,OAAOmL,CACT,EAEAyF,gBAAgBvP,EAAKrB,EAAO6Q,EAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,MAG3D,IAAI1F,EAAI,IAAI9J,EAAIwC,UAAU7D,IAC1B,GAAI6Q,EACF,IAAK,IAAI5U,EAAI,EAAGA,EAAIkP,EAAEpK,SAAU9E,EAC9BkP,EAAElP,GAAKsK,KAAKgK,MAAMpF,EAAElP,IAAgB,IAAV4U,EAAK5U,KAEnC,OAAOkP,CACT,EAIA2F,WAAWC,EAAK/H,GACd,IAAIgI,EAAQ,EAAGC,EAAOF,EAAIhQ,OAAS,EACnC,MAAOiQ,GAASC,EAAM,CACpB,MAAMC,GAAUF,EAAQC,GAAQ,EAC5BF,EAAIG,GAAUlI,EAChBgI,EAAQE,EAAS,EAEjBD,EAAOC,EAAS,CACpB,CACA,OAAOF,CACT,EACA/I,QAAQP,EAAGC,GACT,OAAOD,GAAKC,EAAI,EAAID,EAAIC,EAAI,GAAK,CACnC,EACAwJ,SAASvL,GAEP,GAAiB,kBAANA,EACT,OAAOA,EACT,MAAMuF,EAAIiG,WAAWxL,GACrB,OAAOI,MAAMmF,GAAK,EAAIA,CACxB,EACAkG,MAAMzL,GACJ,GAAiB,kBAANA,EACT,OAAOA,EACT,MAAMuF,EAAI9F,SAASO,GACnB,OAAOI,MAAMmF,GAAK,EAAIA,CACxB,EACAmG,WAAWC,GACT,MAAS,QAALA,GAEU,SAALA,IAEAA,EAAE5H,MAAM,YACRhP,KAAKwW,SAASI,GAEdA,EACX,EAEAC,eAAetP,GAEb,IAAKA,EACH,OAAO,EAET,IAAIiJ,EAAI,EAKR,OAJAA,GAAiB,IAAZjJ,EAAO,GACZiJ,GAAsC,EAAjC5E,KAAKjG,IAAI4B,EAAO,GAAIA,EAAO,KAAW,EAAkB,KAAZA,EAAO,IACxDiJ,GAAiB,EAAZjJ,EAAO,GACZiJ,GAAiB,EAAZjJ,EAAO,GACLiJ,CACT,EACAsG,mBAAmBvP,EAAQjC,EAAO,EAAGgQ,EAAS,EAAGyB,EAAY,EAAGC,EAAW,GAAIC,GAAkB,EAAMC,EAAmB,GACxH,IAAI1G,EAAIxQ,KAAK6W,eAAetP,GAC5B,OAAOqE,KAAKgK,MAAMpF,GAAK,EAAM,GAAMlL,EAAO,GAAMgQ,EAAS,IAAOyB,EAAY,IAAOC,GAAYC,EAAkB,GAAM,GAAwB,IAAnBC,GAC9H,EACAC,sBAAsB5P,EAAQjC,EAAO,EAAGgQ,EAAS,EAAG8B,EAAa,GAC/D7P,EAAS,IAAIA,GACbA,EAAO,GAAK,EACZ,IAAIiJ,EAAIxQ,KAAK6W,eAAetP,GAC5B,OAAOqE,KAAKgK,MAAMpF,GAAK,EAAM,GAAMlL,EAAO,GAAMgQ,EAAS,IAAO8B,GAClE,EACAC,4BAA4B9P,EAAQ+P,EAAM,EAAGC,EAAS,IAAMC,EAAU,GACpE,IAAIhH,EAAI,EACRA,GAAiB,IAAZjJ,EAAO,GACZiJ,GAAiB,EAAZjJ,EAAO,GACZiJ,GAAiB,EAAZjJ,EAAO,GAEZ,IAAIkQ,EAAK,EAST,OAPEA,EADS,GAAPH,EACG1L,KAAKjG,IAAI4B,EAAO,GAAIA,EAAO,IAE3BA,EAAO+P,GACd9G,GAAU,EAALiH,GAAU,EAA8B,MAAvBD,EAAUjQ,EAAO,KAEvCiJ,GAAc,EAAT+G,GAA0B,KAAZhQ,EAAO,IAEnBqE,KAAKgK,MAAMpF,EACpB,EAGAkH,eAAeC,GACb,MAAMC,EAAcC,EAAAA,YACpB,OAAOD,EAAYhJ,WAAU7B,GAAKA,GAAK4K,GACzC,EAEAG,eAAeC,GACb,OAAQA,GACc,iBAAXA,GAAiC,MAAVA,CACpC,EACAC,aAAaD,GACX,OAAQA,GACc,iBAAXA,GAAiC,MAAVA,CACpC,EAEAE,mBAAmB1P,EAAOqM,GACxB,IAAIsD,EAAW,GAmBf,GAjBI3P,EAAM4P,eACRD,EAASpK,KAAM,WAEbvF,EAAMS,QACRkP,EAASpK,KAAM,MAEbvF,EAAM6P,aACJ7P,EAAM6P,YAAYC,MAAKtL,GAAiB,MAAZA,EAAEgL,UAChCG,EAASpK,KAAM,UAGfvF,EAAM+P,YACRJ,EAASpK,KAAM,QAEbvF,EAAMgQ,WACRL,EAASpK,KAAM,QAEbvF,EAAMiQ,aAAc,CACtB,IAAIC,EAAU,GACd,MAAMC,EAAOnQ,EAAMiQ,aAAa3K,UAC5B6K,GACEA,EAAKC,cACPF,EAAU,QAEdP,EAASpK,KAAM,OAAM2K,IACvB,CAEA,GAAIlQ,EAAMqQ,UAAW,CACnB,IAAIH,EAAU,GACd,MAAMC,EAAOnQ,EAAMqQ,UAAU/K,UACzB6K,GACEA,EAAKG,SACPJ,EAAU,UAEdP,EAASpK,KAAM,MAAK2K,IACtB,CACA,GAAIlQ,EAAMuQ,YAAa,CACrB,IAAIL,EAAU,GACd,MAAMC,EAAOnQ,EAAMuQ,YAAYjL,UAC3B6K,IACEA,EAAKG,OACPJ,EAAU,SACHC,EAAKK,cACZN,EAAU,SAEVlQ,EAAMuQ,YAAYf,SACpBU,EAAU,QAGZP,EAASpK,KAAM,MAAK2K,OACflQ,EAAM+J,UAAa/J,EAAM+J,UAAY/J,EAAMyQ,YAAezQ,EAAMuQ,YAAYf,SAC/EG,EAASpK,KAAM,MAAK2K,IAExB,CAEA,MAAMQ,EAAU,SAAUC,EAAgBC,GACxC,GAAIvE,EAAOwE,YAAcxE,EAAOwE,UAAU7Q,EAAO2Q,EAAgBC,GAC/D,MAAO,GACT,GAAIA,EAAOE,WAAaF,EAAOG,SAC7B,MAAO,GAGT,GAA6B,iBAAjBH,EAAOrY,OACbqY,EAAOrY,MAAQ,GAAKqY,EAAOI,OAAQ,CACrC,IAAI3E,EAAO4E,mBAIT,MAAO,GAHPN,EAAiB,OAKrB,CAGF,IAAIvW,EAAIuW,EAAiB,IAAMC,EAAOrT,KAgBtC,OAdIqT,EAAOM,UACT9W,GAAK,QAEEwW,EAAOpB,OACTnD,EAAO8E,iBAAmB1Z,KAAKgY,aAAamB,EAAOpB,UACtDpV,GAAM,IAAGwW,EAAOpB,WAGXnD,EAAO+E,iBAAmBR,EAAOI,QAAUJ,EAAOnG,OACzDrQ,GAAM,QAGJwW,EAAOS,UACTjX,GAAM,IAAGwW,EAAOS,YACXjX,CACT,EAAE0O,KAAKrR,MAEP,IAAI6Z,EAAOtR,EAAMsR,KACbtR,EAAM4P,gBACR0B,EAAOA,GAAMrL,MAAM,EAAGqL,EAAKzT,SAG7B,MAAMwM,EAAM,CAAC7F,EAAG+M,IAAM/M,EAAIA,EAAEqG,QAAQ0G,GAAK,GACzC,MAAO,IACF5B,KACAtF,EAAIiH,GAAM9M,GAAKkM,EAAQ,KAAMlM,QAC7B6F,EAAIrK,EAAMwR,QAAQhN,GAAKkM,EAAQ,MAAOlM,QACtC6F,EAAIrK,EAAMyR,eAAejN,GAAKkM,EAAQ,MAAOlM,QAC7C6F,EAAIrK,EAAM0R,QAAQlN,GAAKkM,EAAQ,MAAOlM,QACtC6F,EAAIrK,EAAM2R,UAAUnN,GAAKkM,EAAQ,QAASlM,KAEjD,EAEAoN,WAAW5R,EAAOqM,GAChB,MAAMwF,EAAOpa,KACTuI,EAAM+J,WACY,MAAhB/J,EAAMwP,SACRxP,EAAM8R,gBAAiB,GAEN,SAAf9R,EAAMpB,QACJoB,EAAM8R,eACR9R,EAAMyP,cAAe,EAGrBzP,EAAM+R,oBAAqB,GAG3B/R,EAAMyK,MAAsB,MAAdzK,EAAMyK,OACtBzK,EAAMgS,cAAe,GAEnBhS,EAAMyQ,aACRzQ,EAAMiS,eAAgB,IAI1B,MAAMC,EAAY,SAAUtB,GAE1B,GADAA,EAAOuB,OAASN,EAAK1C,eAAeyB,EAAOrT,MACvCyC,EAAM+J,WAAa6G,EAAOwB,KAAM,CAClC,IAAIA,EAAOxB,EAAOrT,KACdqT,EAAOI,OACToB,GAAQ,IACDxB,EAAOE,WACdsB,GAAQ,KACNpS,EAAMqS,YACRD,GAAQ,QACDpS,EAAMsS,iBACbF,GAAQ,UACNxB,EAAOM,YACTkB,GAAQ,SACVxB,EAAOwB,KAAOA,CAChB,MACSpS,EAAM+J,UAAY6G,EAAOwB,OAChCxB,EAAO2B,gBAAiB,EAE5B,EACMC,EAAY,SAAU5B,GAC1B/I,OAAO4K,eAAe7B,EAAQ,SAAU,CACtCrY,MAAOyH,EACP0S,UAAU,GAEd,EAEA,GAAI1S,EAAMsR,KACR,IAAK,IAAI5O,KAAK1C,EAAMsR,KAClBkB,EAAU9P,GACVA,EAAEsO,QAAS,EACXkB,EAAUxP,GAEe,kBAAbA,EAAEnK,OAAuBmK,EAAEnK,MAAQ,IACxCyH,EAAM2S,kBACT3S,EAAM2S,gBAAkB,IAC1B3S,EAAM2S,gBAAgBpN,KAAK7C,IAIjC,GAAI1C,EAAMwR,OACR,IAAK,IAAI9O,KAAK1C,EAAMwR,OAClBgB,EAAU9P,GACVA,EAAEoO,UAAW,EACboB,EAAUxP,GAGd,GAAI1C,EAAMyR,cACR,IAAK,IAAI/O,KAAK1C,EAAMyR,cAClBe,EAAU9P,GACVA,EAAEkQ,gBAAiB,EAGvB,GAAI5S,EAAM0R,OACR,IAAK,IAAIhP,KAAK1C,EAAM0R,OAClBc,EAAU9P,GACVA,EAAEmQ,UAAW,EAIZ7S,EAAM7F,OACT6F,EAAM7F,KAAO,IACXkS,EAAOyG,yBACT9S,EAAM7F,KAAO,IAAI6F,EAAM7F,QAAS1C,KAAKiY,mBAAmB1P,EAAOqM,KAE5DrM,EAAM5B,OACT4B,EAAM5B,KAAO4B,EAAM+S,IACvB,EAEAC,WAAWpV,EAAOyO,EAAS,CAAC,GAC1B,MAAM4G,EAAS3D,EACT4D,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEzC,IAAK,IAAI/J,KAAQvL,EAAO,CAItB,GAHAuL,EAAKU,QAAS,EACdpS,KAAKma,WAAWzI,EAAMkD,GAElBlD,EAAKzN,QAAS,CAChByN,EAAKgK,SAAWhK,EAAKzN,QAAQ2O,KAAI+I,GAAOH,EAAOvX,QAAQ2K,WAAU3D,GAAKA,GAAK0Q,MAC3EjK,EAAKkK,WAAa,EAClB,IAAK,MAAMta,KAAKoQ,EAAKgK,SACnBhK,EAAKkK,YAAc,GAAKta,CAC5B,MAEEoQ,EAAKgK,SAAWD,EAChB/J,EAAKkK,WAAa,MAGhBlK,EAAKzK,SACPyK,EAAKmK,SAAWL,EAAOlX,SAASsK,WAAU3D,GAAKA,GAAKyG,EAAKzK,UACvDyK,EAAKiJ,OACPjJ,EAAKoK,OAASN,EAAOO,UAAUnN,WAAU3D,GAAKA,GAAKyG,EAAKiJ,QAE1DjJ,EAAKnK,OAASvH,KAAKgW,cAActE,EACnC,CACF,EAUAsK,gBAAgBC,EAAYC,EAAcC,EAAeC,EAAU,GAAIxH,EAAS,CAAC,GAC/E,MAAM1C,EAA2B,GAAlBkK,EAAQhW,OACjB+L,GAAaD,EACbsJ,EAAS3D,EAEf,IAAK,IAAIjB,KAAKsF,EACZtF,EAAEtE,UAAW,EACf,IAAK,IAAIsE,KAAKuF,EACZvF,EAAErE,WAAY,EAChB,IAAK,IAAIqE,KAAKwF,EACZxF,EAAEyF,UAAW,EAEf,GAAInK,EAAQ,CACV,IAAK,IAAIxL,KAAOuV,EACdvV,EAAIwL,QAAS,EACf,IAAK,IAAI0E,IAAK,IAAIsF,KAAiBC,KAAkBC,GACnDxF,EAAEgE,aAAc,CACpB,CACA,GAAIzI,EAAW,CACb,IAAK,IAAIzL,KAAOuV,EACdvV,EAAIyL,WAAY,EAClB,IAAK,IAAIyE,IAAK,IAAIsF,KAAiBC,GACjCvF,EAAEiE,gBAAiB,CACvB,CAEA,IAAIyB,EAAa,IAAIC,IACrB,IAAK,IAAI3F,IAAK,IAAIsF,KAAiBC,KAAkBC,GACnDpc,KAAKma,WAAWvD,EAAGhC,GACnB0H,EAAWE,IAAI5F,EAAE0E,IAAK1E,GAGxB,MAAM6F,EAAY,SAAU5Z,EAAI6D,GAC9B,GAAmB,iBAAP7D,EACV,OAAOA,EAGT,IAAI0F,EAAQ+T,EAAWI,IAAI7Z,GAC3B,IAAK0F,EAEH,OADAqE,QAAQ+P,MAAO,oBAAmB9Z,KAC3B,KAUT,GARK0F,EAAMI,QACTyH,OAAO4K,eAAezS,EAAO,SAAU,CACrCzH,MAAO,GACPma,UAAU,IAET1S,EAAMI,OAAO8K,SAAS/M,IACzB6B,EAAMI,OAAOmF,KAAKpH,IAEf6B,EAAMN,MAAQM,EAAMV,MAAO,CAC9BU,EAAMT,QAAU,OAChB9H,KAAK0B,KAAK6G,EAAO,OAAQA,EAAMV,MAAMU,EAAMT,UAE3C,MAAM8U,EAAgB,SAAUC,EAAKC,GACnC,MAAM7R,EAAI4R,EAAIC,GACVtP,MAAMsD,QAAQ7F,KAChB4R,EAAK,GAAEC,MAAW7R,EAClB4R,EAAIC,GAAQ7R,EAAEA,EAAE7E,OAAS,GAE7B,EAEA,IAAI2W,EAAU,IACRxU,EAAMsR,KAAOtR,EAAMsR,KAAO,MAC1BtR,EAAMwR,OAASxR,EAAMwR,OAAS,MAC9BxR,EAAM0R,OAAS1R,EAAM0R,OAAS,IAEpC,IAAK,IAAId,KAAU4D,EAAS,CAC1BH,EAAczD,EAAQ,SACtByD,EAAczD,EAAQ,YAClBA,EAAO/L,KACTwP,EAAczD,EAAO/L,IAAK,QAE5B,IAAIsL,EAAOS,EAAOtL,UACd6K,GACFkE,EAAclE,EAAM,cAExB,CACF,CACA,OAAOnQ,CACT,EAAE8I,KAAKrR,MAEP,IAAK,IAAI0G,KAAOuV,EAAY,CACtBvV,EAAIgB,QACNhB,EAAIwL,QAAS,EACbxL,EAAIgB,OAAS+U,EAAU/V,EAAIgB,OAAQhB,IAGnCA,EAAIyL,WAAY,EAEbzL,EAAIC,OACPD,EAAIC,KAAOD,EAAI4U,KAGb5U,EAAI/F,QACN+F,EAAIsW,QAAUxB,EAAOvX,QAAQ2K,WAAU3D,GAAKA,GAAKvE,EAAI/F,SACnD+F,EAAIM,SACNN,EAAIuW,SAAWzB,EAAOpX,QAAQwK,WAAU3D,GAAKA,GAAKvE,EAAIM,UACpDN,EAAIO,SACNP,EAAImV,SAAWL,EAAOlX,SAASsK,WAAU3D,GAAKA,GAAKvE,EAAIO,UACrDP,EAAIQ,aACNR,EAAIwW,aAAe1B,EAAOhX,YAAYoK,WAAU3D,GAAKA,GAAKvE,EAAIQ,cAC5DR,EAAIyW,cACNzW,EAAI0W,cAAgB5B,EAAO6B,aAAazO,WAAU3D,GAAKA,GAAKvE,EAAIyW,eAElE,MAAMG,EAAgB,SAAUhV,GAC9B,IAAK,IAAIsO,KAAKtO,EACRkF,MAAMsD,QAAQ8F,EAAE5N,SAAmC,iBAAhB4N,EAAE5N,OAAO,KAC9C4N,EAAE5N,OAAS4N,EAAE5N,OAAO4J,KAAI0I,GAAO5U,EAAIsC,OAAOqP,MAAKkF,GAAOA,EAAIjC,KAAOA,MAGvE,EAEA,GAAI5U,EAAI4B,SACN5B,EAAI4B,OAAS5B,EAAI4B,OAAO8K,SAAQvQ,GAAM4Z,EAAU5Z,EAAI6D,KAChDA,EAAIsC,QAAQ,CACd,IAAK,IAAI4N,KAAKlQ,EAAIsC,OAChB4N,EAAElP,OAAS+U,EAAU7F,EAAElP,OAAQhB,GAC/BkQ,EAAEtO,OAASsO,EAAEtO,OAAO8K,SAAQvQ,GAAM4Z,EAAU5Z,EAAI6D,KAC3CkQ,EAAEjQ,OACLiQ,EAAEjQ,KAAOiQ,EAAE0E,KAGfgC,EAAc5W,EAAI4B,OACpB,CAGF,GAAI5B,EAAIY,QAAUZ,EAAIY,OAAOgB,OAAQ,CACnC5B,EAAIY,OAAOgB,OAAS5B,EAAIY,OAAOgB,OAAO8K,SAAQvQ,GAAM4Z,EAAU5Z,EAAI6D,KAC9DA,EAAIsC,QACNsU,EAAc5W,EAAIY,OAAOgB,QAE3B5B,EAAI8W,WAAa9W,EAAI4B,OACrBtI,KAAK0B,KAAKgF,EAAIY,OAAQ,WAAW,GAEjC,IAAK,IAAIhG,EAAI,EAAGA,EAAIoF,EAAI4B,OAAOlC,SAAU9E,EACnCoF,EAAIY,OAAOgB,OAAOhH,KAAOoF,EAAI4B,OAAOhH,KACtCoF,EAAIY,OAAOgB,OAAOhH,GAAGmc,eAAgB,EAG3C,CACF,CACF,EAEAC,gBAAgBC,EAAKC,EAAKlM,GACxB1R,KAAK0B,KAAKic,EAAKC,EAAKlM,EACtB,EACAmM,UAAUF,EAAKjM,GACbiM,EAAI7P,KAAK4D,EACX,EACAoM,SAASH,GACHA,EAAIvX,OAAS,GACfuX,EAAItK,OAAOsK,EAAIvX,OAAS,EAE5B,EAEA2X,aAAa7Q,EAAK8Q,EAAK3d,GACjBA,KAAQ2d,IACV9Q,EAAI7M,GAAQ2d,EAAI3d,UACT2d,EAAI3d,GAEf,EACA4d,aAAa/Q,EAAK8Q,EAAKE,GACrB,MAAM3T,EAAM2C,EAAIgR,GAChBhR,EAAIgR,GAASF,EAAIE,GACjBF,EAAIE,GAAS3T,CACf,EACA4T,YAAYC,EAAMC,GAChB,GAAID,IAASC,EACX,OAAO,EAET,GAAoB,kBAATD,GAAqC,kBAATC,GAA8B,OAATD,GAA0B,OAATC,EAC3E,OAAO,EAGT,MAAMC,EAAQlO,OAAOG,KAAK6N,GACpBG,EAAQnO,OAAOG,KAAK8N,GAC1B,GAAIC,EAAMlY,SAAWmY,EAAMnY,OACzB,OAAO,EAET,IAAK,IAAI7E,KAAO+c,EAAO,CACrB,IAAKlO,OAAOoO,OAAOH,EAAM9c,GACvB,OAAO,EAET,IAAKvB,KAAKme,YAAYC,EAAK7c,GAAM8c,EAAK9c,IACpC,OAAO,CAEX,CACA,OAAO,CACT,ICh6BJ,GACAlB,KAAAA,iBACAC,WAAAA,CACAme,WAAAA,GAEAC,OAAAA,CAAAA,GAEApV,OACA,OACAqV,OAAAA,EACAC,QAAAA,EACAxC,QAAAA,EACAH,WAAAA,EACAzM,UAAAA,EAEAvL,QAAAA,EAAAA,QACAG,QAAAA,EAAAA,QACAI,YAAAA,EAAAA,YACAF,SAAAA,EAAAA,SACAxC,WAAAA,CACA,OACA,OACA,SAGA8C,aAAAA,CACA,OACA,OACA,MAEAG,UAAAA,CACA,MACA,WACA,MACA,MACA,KACA,OACA,SACA,OACA,OACA,SAEAE,WAAAA,CACA,KACA,MAGAhD,YAAAA,CACA4X,KAAAA,CACAvX,QAAAA,MACAjC,KAAAA,YACAqC,KAAAA,IAAAA,KAEAqX,OAAAA,CACAzX,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAmc,OAAAA,CACAvc,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAoc,OAAAA,CACAxc,QAAAA,QACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAqc,MAAAA,CACAzc,QAAAA,MACAjC,KAAAA,aACAqC,KAAAA,IAAAA,MAIAqB,YAAAA,GACAI,aAAAA,GACAE,aAAAA,GACAE,iBAAAA,GACAnD,gBAAAA,GACA8C,cAAAA,EAEAiB,KAAAA,CACAC,KAAAA,CACAC,MAAAA,CACAI,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAwE,KAAAA,CACAG,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAwU,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAyU,UAAAA,CACA9P,MAAAA,UACAK,KAAAA,OACAhF,OAAAA,IAGAiF,OAAAA,CACAiZ,GAAAA,CACAvZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAme,IAAAA,CACAxZ,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAoe,IAAAA,CACAzZ,MAAAA,aACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAqe,IAAAA,CACA1Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAse,IAAAA,CACA3Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAue,IAAAA,CACA5Z,MAAAA,YACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,MAKAwe,iBAAAA,EACAC,QAAAA,GAEA,EAEApU,SAAAA,CACAqU,WACA,sBACA,EACArZ,QACA,sDAEA,qBAEA,cACA,gCACA,EACA,gBACA,aACA,OACA,YACA,qDAGA,4BAEA,EAEA,GACA,oCACA,cACA,kCACA,sCACA,kCACA,kCACA,kCACA,kCACA,kCACA,mCAEA,6CACA,yBACA,kBACA6F,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,KAEAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IACA,CAEA,QACA,EACAvF,aACA,iCACA,GAGA2D,UACAqB,SAAAA,MAAAA,kBACA,eAEA,+CACA,gDACA,iDACA,wDACA,sDAEA,iBACA,sBACA,EAEAlC,UACA,wBACAoB,OAAAA,WAAAA,WACA,wBACA,mBACA,2BACA,uBACA,GACA,YACA,EAEAW,QAAAA,CACAmU,UAEA,yCACA,2CACA,2CACA,wEAEA,kBACA,YACA,kCACA,SACA,oBACA,8BACA,QACA,MACA,aACA,YACA,SAEA,UAEA,2EACA,CACApE,wBAAAA,EACAjC,UAAAA,IAGA,QACA,6BACA1S,EAAAA,KAAAA,EACAA,EAAAA,QAAAA,KAAAA,QAAAA,WAAAA,GAAAA,GAAAA,EAAAA,QACAA,EAAAA,SAAAA,KAAAA,QAAAA,WAAAA,GAAAA,GAAAA,EAAAA,SACAA,EAAAA,SAAAA,KAAAA,SAAAA,WAAAA,GAAAA,GAAAA,EAAAA,SACAA,EAAAA,aAAAA,KAAAA,YAAAA,WAAAA,GAAAA,GAAAA,EAAAA,aACA,sCACA0J,OAAAA,eAAAA,EAAAA,cAAAA,CACAsM,IAAAA,GAAAA,EAAAA,aAAAA,WAAA,2DAGA,uBACA,mDACA,mDAEA,oBAEA,6DACA,0BAIA,cACA,4CACA,oBACA,eACAgD,EAAAA,IAAAA,GACAC,EAAAA,IAAAA,EAEA,EACAC,EAAAA,KAAAA,YAAAA,KAAAA,KAAAA,CAAAA,YAEA,oBACA,yCACA,mBACA,SAEA,QACA,aAEA,gCACA,WAGA,gBACA,kCACA,iBACA,oCACA,iBACA,oCACA,KACA,oCAEA,oCAEA,oEACA,wEACA,wEACA,wEACA,sEACA,oBACA,EAEAzX,aAAAA,EAAAA,GACA,WACAzB,EAAAA,OAAAA,QAAAA,EACAA,EAAAA,OAAAA,EAAAA,EAAAA,OAAAA,OAAAA,EAAAA,YAEA,sBACA,EACA5B,gBAAAA,GACA,6BACA,WACA4B,EAAAA,OAAAA,QAAAA,EACAA,EAAAA,OAAAA,EAAAA,EAAAA,OAAAA,OAAAA,EAAAA,YAGA,sBACA,EACAb,eACA,kBACA,0CACA,4CACA,8BACA,wCACA,IACAa,EAAAA,OAAAA,IAAAA,EAAAA,KAAAA,mBAAAA,EAAAA,EAAAA,KAAAA,KAAAA,MAAAA,EAAAA,KAAAA,OAAAA,MAAAA,EAAAA,GAAAA,IAEA,CACA,mBACA,EACAV,YAAAA,EAAAA,GACA,kBACA,GACA4Q,EAAAA,SACA,gCAEA,gBACA,kEACA3L,EAAAA,MAAAA,EAAAA,QACA,mBACA,EAEAnC,UAAAA,EAAAA,GAAAA,GACA,mCACA,8CACA,UACA,uBACAiD,EAAAA,KAAAA,UAAAA,KAAAA,OAAAA,GAAAA,EAAAA,IAAAA,KAEA,gBAAAlJ,GAAAA,IAEA,MACA,YACA,2BACA,0CACA,UACA,qCACA,kBACA,mBACA2Q,EAAAA,iBAEA,IAEA,EAEAqM,kBACA,yBACA,0BAEA,oBACA,eACArM,EAAAA,OAAAA,CACA,EACAsM,EAAAA,KAAAA,aACAA,EAAAA,KAAAA,cACAA,EAAAA,KAAAA,cACAA,EAAAA,KAAAA,kBACAA,EAAAA,KAAAA,iBAEA,0BACA,EACApX,eAAAA,GACA,oCACA,EAEA5B,kBAAAA,GACA,+CACA,GACA,EACAW,oBAAAA,GACA,QASA,OARA,mBACA+I,GAAAA,KAAAA,kBAAAA,IAAAA,KAAAA,YAAAA,GACA,KAEA,oBACAA,GAAAA,KAAAA,aAAAA,GACA,KAEA,CACA,EACAuP,mBAAAA,GACA,QASA,OARA,mBACAvP,GAAAA,KAAAA,qBAAAA,IAAAA,KAAAA,YAAAA,GACA,KAEA,oBACAA,GAAAA,KAAAA,aAAAA,GACA,KAEA,CACA,EACAwP,kBAAAA,GACA,gFACA,EACAC,qBAAAA,GACA,mDACA1X,EAAAA,WAAAA,KAAAA,gBAAAA,GAAAA,OACAA,EAAAA,UAAAA,KAAAA,gBAAAA,GAAAA,KACA,EACA2X,iBAAAA,GACA,sCACA,8CACA,gDACA,gDACA,sDACA,EACAC,oBAAAA,GACA,oBACA,mEACA,sBACA3P,GAAAA,KAAAA,mBAAAA,GACA,QACA,aAEA,WACA,YACA,sBACAA,GAAAA,EAAAA,GAEA,8BACA,EACA4P,WAAAA,GACA,+BAIA,OAHA,+BACAC,EAAAA,KAAAA,oBAAAA,IAEA,CACA,EACA3M,kBACA,sBAEA,oBACA,kCACA,8BAEA,sBACA,8BACA,sBAGA,aAEA,6BACA,8BACA4M,EAAAA,GACA,UACA,sBACAA,EAAAA,EAIA,EAEA7X,cAAAA,GACA,OACAkW,OAAAA,EAAAA,SACAC,QAAAA,EAAAA,UACA2B,YAAAA,KAAAA,mBAAAA,GAEA,EAEAzU,UAAAA,GACA,yBACA,SAEA,6BAkBA,GAjBA,yCACA0U,EAAAA,MAAAA,KAAAA,gBAAAA,KAAAA,cACA,0CACAA,EAAAA,OAAAA,KAAAA,gBAAAA,KAAAA,eACA,0CACAA,EAAAA,OAAAA,KAAAA,gBAAAA,KAAAA,eACA,8CACAA,EAAAA,WAAAA,KAAAA,gBAAAA,KAAAA,mBACA,6CACAA,EAAAA,UAAAA,KAAAA,gBAAAA,KAAAA,kBACA,iCACAA,EAAAA,IAAAA,KAAAA,kBACA,kCACAA,EAAAA,KAAAA,KAAAA,mBACA,oBACAA,EAAAA,OAAAA,GAEA,EACA,iBACAA,EAAAA,GAAAA,EAAAA,GAGA,oBACA,yBACA7V,OAAAA,QAAAA,UAAAA,KAAAA,KAAAA,GACA,gBACA,EAGA,EACA8V,UAAAA,GAAAA,GACA,8BACA9f,MAAAA,EACAqG,OAAAA,EACAE,WAAAA,EACAD,OAAAA,EACAyZ,UAAAA,EACArY,IAAAA,GACAsY,KAAAA,GACA5U,EAAAA,EACAlJ,IAAAA,KAGA,0CACA,iDACA,mDACA,2DACA,mDACA,yDACA,4BACA,8BACA,mCACA,uBAEA,QACA,eACA,SACA,qBACA,WACA,sBAEA,ICn9B8P,ICO1P,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QClB5B/C,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,cAAcA,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAIgB,eAAgBC,SAAS,SAAUC,GAAMlB,EAAIgB,eAAeE,CAAG,EAAEC,WAAW,mBAAmB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,wBAAwBJ,EAAIoB,GAAIpB,EAAIqB,iBAAiB,SAASC,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,YAAY,IAAI,CAAC5B,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG9B,EAAI+B,WAAWR,IAAI,MAAM,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,QAAQd,MAAM,CAACC,MAAOf,EAAIiC,iBAAkBhB,SAAS,SAAUC,GAAMlB,EAAIiC,iBAAiBf,CAAG,EAAEC,WAAW,uBAAuB,KAAKjB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACT,EAAIoB,GAAIpB,EAAIkC,aAAa,SAASC,EAAGC,GAAK,OAAOlC,EAAG,MAAM,CAACsB,IAAIY,EAAI3B,YAAY,SAASuB,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,aAAa,CAACmC,IAAIF,EAAG7B,KAAKgC,UAAS,EAAKlC,MAAM,CAAC,KAAO+B,EAAGI,QAAQ,KAAO,MAAM7B,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIwC,kBAAkBd,EAAQS,EAAG,EAAE,KAAO,SAAST,GAAQ,OAAO1B,EAAIyC,kBAAkBf,EAAQS,EAAG,IAAInC,EAAIoB,GAAIpB,EAAI0C,oBAAoBP,EAAGQ,OAAO,SAASC,GAAG,OAAO1C,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6C,aAAaD,GAAGE,GAAGrC,YAAY,qBAAqBL,MAAM,CAAC,GAAKJ,EAAI+C,SAASH,IAAIlC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBJ,GAAI5C,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGc,GAAG,KAAK1C,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6C,aAAaD,GAAGO,aAAanD,EAAI6B,GAAG,KAAM7B,EAAI6C,aAAaD,GAAGQ,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI6C,aAAaD,GAAGQ,SAASpD,EAAIqD,KAAMrD,EAAIsD,YAAYV,GAAI1C,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAI+C,SAASH,GAAG,SAAW,cAAc,MAAQ,CAACW,KAAK,EAAGC,KAAK,KAAK,UAAU,IAAI9C,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIyD,oBAAoBtB,EAAIS,EAAE,EAAE,OAAS,SAASlB,GAAQ,OAAO1B,EAAI0D,oBAAoBvB,EAAIS,EAAE,IAAI5C,EAAIoB,GAAIpB,EAAI2D,mBAAmBf,IAAI,SAASgB,GAAI,OAAO1D,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6D,SAASD,GAAId,GAAGrC,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBY,GAAI,GAAO5D,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG8B,GAAI,KAAK1D,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6D,SAASD,GAAIT,cAAc,IAAG,GAAGnD,EAAIqD,MAAM,EAAE,IAAG,IAAI,EAAE,IAAGnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiC,iBAAiB,EAAE,IAAI,CAACjC,EAAI6B,GAAG,UAAU,IAAI,KAAK3B,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,SAASd,MAAM,CAACC,MAAOf,EAAI8D,kBAAmB7C,SAAS,SAAUC,GAAMlB,EAAI8D,kBAAkB5C,CAAG,EAAEC,WAAW,wBAAwB,GAAGjB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8D,kBAAkB,EAAE,IAAI,CAAC9D,EAAI6B,GAAG,UAAU,QAAQ,IAAI,GAAG3B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACT,EAAI+D,GAAG,GAAG7D,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,mBAAmBJ,EAAIoB,GAAIpB,EAAIgE,aAAa,SAAS1C,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,QAAQ,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,KAAKrB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,0BAA0BJ,EAAIoB,GAAIpB,EAAI6gB,mBAAmB,SAASvf,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,cAAc,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIsd,aAAa/b,IAAI,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,qBAAqBJ,EAAIoB,GAAIpB,EAAIsE,cAAc,SAAShD,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,SAAS,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIuE,SAAShD,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,yBAAyBJ,EAAIoB,GAAIpB,EAAIwE,kBAAkB,SAASlD,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,aAAa,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIyE,YAAYlD,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,OAAOrB,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAI0E,iBAAkBzD,SAAS,SAAUC,GAAMlB,EAAI0E,iBAAiBxD,CAAG,EAAEC,WAAW,qBAAqB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI2E,cAAc3E,EAAI4E,cAAc,KAAO,KAAK,GAAK,oBAAoB5E,EAAIoB,GAAIpB,EAAI2E,eAAe,SAASrD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI4E,aAAarD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,GAAGpB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI6E,aAAa7E,EAAI8E,aAAa,KAAO,KAAK,GAAK,oBAAoB9E,EAAIoB,GAAIpB,EAAI6E,cAAc,SAASvD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8E,YAAYvD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,KAAKpB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,UAAU3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIgF,UAAUhF,EAAIiF,UAAU,KAAO,KAAK,GAAK,kBAAkBjF,EAAIoB,GAAIpB,EAAIgF,WAAW,SAAS1D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiF,SAAS1D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,GAAGpB,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,SAAS9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIkF,WAAWlF,EAAImF,WAAW,KAAO,KAAK,GAAK,wBAAwBnF,EAAIoB,GAAIpB,EAAIkF,YAAY,SAAS5D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAImF,UAAU5D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,OAAOpB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,cAAcF,EAAIoB,GAAI,CAACpB,EAAIoF,KAAKC,KAAKC,MAAOtF,EAAIoF,KAAKC,KAAKE,OAAO,SAASC,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAAkB,IAAI,EAAE,IAAG,IAAI,GAAGjB,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,KAAK,GAAK,eAAeM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,UAAU3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,aAAa,UAAY,SAAS,eAAe,iBAAiB,CAACF,EAAG,MAAM,CAACO,YAAY,OAAOuB,YAAY,CAAC,YAAY,UAAU,CAAC9B,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY7B,EAAIoB,GAAIpB,EAAIoF,KAAKC,MAAM,SAASG,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,MAAQ,IAAIQ,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,GAAGnD,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAIoF,KAAKY,QAAQ,SAASR,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACO,YAAY,OAAOuB,YAAY,CAAC,OAAS,oBAAoB,CAAC9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIiG,aAAa,IAAI,CAACjG,EAAI6B,GAAG,WAAW3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIiG,YAAY,EAAE,IAAI,CAACjG,EAAI6B,GAAG,eAAe,GAAG3B,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,QAAQ,YAAY,MAAM,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,MAAM,OAAS,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,SAAS,QAAQ,GAAG3B,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,SAAS,UAAU,IAAI,MAAM,GAAG3B,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,SAASkE,MAAOlG,EAAIkG,MAAO9F,MAAM,CAAC,GAAK,YAAY,CAAEJ,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyG,gBAAgB,IAAI,CAACzG,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI0G,YAAY,SAASC,GAAK,MAAO,CAACzG,EAAG,MAAM,CAACsB,IAAImF,EAAI7D,GAAGrC,YAAY,YAAYL,MAAM,CAAC,GAAK,OAAOuG,EAAI7D,KAAK,CAAC5C,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIC,MAAM,MAAQD,EAAIrG,KAAK,MAAQ,MAAM,OAAS,MAAM,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOG,MAAM,CAAE,YAAeZ,EAAI+G,kBAAkBJ,KAAQ,CAACzG,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcL,EAAIrG,UAAUJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAI/F,OAAO,MAAQ,OAAO+F,EAAI/F,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIyW,aAAa,MAAQ,WAAWzW,EAAIyW,YAAY,OAAS,QAAQld,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIO,QAAQ,MAAQ,SAASP,EAAIO,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0C,EAAIQ,YAAY,MAAQ,SAASR,EAAIQ,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIS,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG6E,EAAIW,YAAY,GAAIX,EAAIa,OAAQtH,EAAG,MAAM,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAS,IAAGJ,EAAIoF,KAAKC,KAAKE,KAAKxE,WAAWf,EAAIoF,KAAKC,KAAKC,MAAMvE,iBAAiBmC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAad,EAAIa,OAAQ,GAAIb,EAAIQ,gBAAgBnH,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIuF,EAAI4B,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,OAAOuG,EAAI7D,GAAG,SAAS2F,IAAK,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,OAAOuG,EAAI7D,GAAG,SAAS2F,EAAG,MAAQD,EAAMlI,KAAK,SAAW,cAAc,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG0G,EAAMlI,MAAM,KAAMkI,EAAMV,MAAO5H,EAAG,aAAa,CAACO,YAAY,iBAAiBL,MAAM,CAAC,KAAOoI,EAAMT,QAAQ,QAAU,sBAAsB/H,EAAIoB,GAAIoH,EAAMV,OAAO,SAASE,EAAGC,GAAI,OAAO/H,EAAG,kBAAkB,CAACsB,IAAIyG,EAAGxH,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ8G,EAAMT,QAAQE,EAAIO,EAAMN,KAAKF,CAAG,IAAI,CAAChI,EAAI6B,GAAG7B,EAAI8B,GAAGmG,KAAM,IAAG,GAAGjI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,WAAWnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQT,EAAIoB,GAAIoH,EAAM7F,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,IAAI,IAAG,SAAS,IAAItI,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIoJ,aAAa,IAAI,CAACpJ,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,MAAM,IACp/e,EACIhD,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,cACpK,G,wgwHCqSA,GACAvB,KAAAA,oBACAC,WAAAA,CACAme,WAAAA,GAEAC,OAAAA,CAAAA,GAEApV,OACA,OACAqV,OAAAA,EACAC,QAAAA,EACA3C,WAAAA,EACAzM,UAAAA,EAEAvL,QAAAA,EAAAA,QACAoZ,aAAAA,EAAAA,aACA/Y,SAAAA,EAAAA,SACAE,YAAAA,EAAAA,YACA1C,WAAAA,CACA,QACA,QACA,SAGA8C,aAAAA,CACA,OACA,OACA,MAEAG,UAAAA,CACA,MACA,MACA,MACA,KACA,OACA,SACA,OACA,QAEAE,WAAAA,CACA,KACA,MAGAhD,YAAAA,CACA4X,KAAAA,CACAvX,QAAAA,MACAjC,KAAAA,YACAqC,KAAAA,IAAAA,KAEAqX,OAAAA,CACAzX,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAmc,OAAAA,CACAvc,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAoc,OAAAA,CACAxc,QAAAA,QACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAqc,MAAAA,CACAzc,QAAAA,MACAjC,KAAAA,aACAqC,KAAAA,IAAAA,MAGAW,YAAAA,CAAAA,EAEAU,YAAAA,GACA6c,kBAAAA,GACAvc,aAAAA,GACAE,iBAAAA,GACAnD,gBAAAA,GAEA+D,KAAAA,CACAC,KAAAA,CACAC,MAAAA,CACAI,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAwE,KAAAA,CACAG,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAwU,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAyU,UAAAA,CACA9P,MAAAA,UACAK,KAAAA,OACAhF,OAAAA,IAGAiF,OAAAA,CACAiZ,GAAAA,CACAvZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAme,IAAAA,CACAxZ,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAoe,IAAAA,CACAzZ,MAAAA,aACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAqe,IAAAA,CACA1Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAse,IAAAA,CACA3Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,OAKAwe,iBAAAA,EACAC,QAAAA,GAGA,EAEApU,SAAAA,CACAqU,WACA,sBACA,EACArZ,QACA,sDAEA,qBACA,GACA,oCACA,kCACA,sCACA,kCACA,kCACA,kCACA,kCACA,mCAEA,6CACA,yBACA,kBACA6F,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,KAEAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IACA,CAEA,QACA,EACAvF,aACA,iCACA,GAGA2D,UACAqB,SAAAA,MAAAA,mBACA,eAEA,+CACA,0DACA,iDACA,wDACA,sDAEA,iBACA,sBACA,EAEAlC,UACA,wBACAoB,OAAAA,WAAAA,WACA,wBACA,mBACA,2BACA,uBACA,GACA,YACA,EAEAW,QAAAA,CACAmU,UAEA,yCACA,2CACA,wEACA,iEACA,CACApE,wBAAAA,EACA3B,iBAAAA,IAGA,QACA,8BACAhT,EAAAA,KAAAA,EACAA,EAAAA,QAAAA,KAAAA,QAAAA,WAAAA,GAAAA,GAAAA,EAAAA,QACAA,EAAAA,cAAAA,KAAAA,aAAAA,WAAAA,GAAAA,GAAAA,EAAAA,cACAA,EAAAA,SAAAA,KAAAA,SAAAA,WAAAA,GAAAA,GAAAA,EAAAA,SACAA,EAAAA,aAAAA,KAAAA,YAAAA,WAAAA,GAAAA,GAAAA,EAAAA,aACA,sCACA0J,OAAAA,eAAAA,EAAAA,cAAAA,CACAsM,IAAAA,GAAAA,EAAAA,aAAAA,WAAA,2DAGA,kCAEAhW,EAAAA,OAAAA,GAAAA,WAAAA,CAEA,CACA,uBACA,mDACA,mDAEA,oBAEA,6CACA,0BAGA,cACA,4CAEA,oBACA,yCACA,mBACA,SAEA,QACA,aAEA,gCACA,WAGA,gBACA,kCACA,iBACA,oCACA,iBACA,oCACA,KACA,oCAEA,oCAEA,oEACA,wEACA,wEACA,wEACA,sEACA,oBACA,EAEAb,eACA,kBACA,0CACA,4CACA,8BACA,2CACA,IACAa,EAAAA,OAAAA,IAAAA,EAAAA,KAAAA,sBAAAA,EAAAA,EAAAA,KAAAA,KAAAA,MAAAA,EAAAA,KAAAA,OAAAA,QAEA,CACA,mBACA,EACAV,YAAAA,EAAAA,GACA,kBACA,GACA4Q,EAAAA,SACA,6BAEA,gBACA,kEACA3L,EAAAA,MAAAA,EAAAA,QACA,mBACA,EAEAnE,kBAAAA,GACA,+CACA,GACA,EACAiZ,mBAAAA,GACA,QASA,OARA,mBACAvP,GAAAA,KAAAA,qBAAAA,IAAAA,KAAAA,YAAAA,GACA,KAEA,oBACAA,GAAAA,KAAAA,aAAAA,GACA,KAEA,CACA,EACAyP,qBAAAA,GACA,mDACA1X,GAAAA,EAAAA,YAAAA,KAAAA,gBAAAA,GAAAA,OACAA,GAAAA,EAAAA,YAAAA,KAAAA,gBAAAA,GAAAA,OACAA,GAAAA,EAAAA,YAAAA,KAAAA,gBAAAA,GAAAA,KACA,EACA2X,iBAAAA,GACA,qDACA,0DACA,gDACA,sDACA,EACAC,oBAAAA,GACA,gCACA,sBACA3P,GAAAA,KAAAA,mBAAAA,GAEA,8BACA,EACA4P,WAAAA,GACA,+BAIA,OAHA,+BACAC,EAAAA,KAAAA,oBAAAA,IAEA,CACA,EACA3M,kBACA,sBACA,6BACA,4BACA,sBACA,8BACA,sBAKA,EAEAjL,cAAAA,GACA,OACAkW,OAAAA,EAAAA,SACAC,QAAAA,EAAAA,UACA2B,YAAAA,KAAAA,mBAAAA,GAEA,EAEAzU,UAAAA,GACA,yBACA,SAEA,6BAgBA,GAfA,yCACA0U,EAAAA,MAAAA,KAAAA,gBAAAA,KAAAA,cACA,+CACAA,EAAAA,YAAAA,KAAAA,gBAAAA,KAAAA,oBACA,0CACAA,EAAAA,OAAAA,KAAAA,gBAAAA,KAAAA,eACA,8CACAA,EAAAA,WAAAA,KAAAA,gBAAAA,KAAAA,mBACA,6CACAA,EAAAA,UAAAA,KAAAA,gBAAAA,KAAAA,kBACA,iCACAA,EAAAA,IAAAA,KAAAA,kBACA,kCACAA,EAAAA,KAAAA,KAAAA,mBAEA,EACA,iBACAA,EAAAA,GAAAA,EAAAA,GAGA,oBACA,yBACA7V,OAAAA,QAAAA,UAAAA,KAAAA,KAAAA,GACA,gBACA,EAGA,EACA8V,UAAAA,GAAAA,GACA,8BACA9f,MAAAA,EACAwc,YAAAA,EACAjW,WAAAA,EACAD,OAAAA,EACAyZ,UAAAA,EACArY,IAAAA,GACAsY,KAAAA,GACA5U,EAAAA,KAGA,0CACA,iDACA,6DACA,2DACA,mDACA,yDACA,4BACA,8BACA,mCACA,uBAEA,QACA,eAEA,IChtBiQ,ICO7P,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QClB5BjM,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,cAAcA,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAIgB,eAAgBC,SAAS,SAAUC,GAAMlB,EAAIgB,eAAeE,CAAG,EAAEC,WAAW,mBAAmB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,QAAQd,MAAM,CAACC,MAAOf,EAAIiC,iBAAkBhB,SAAS,SAAUC,GAAMlB,EAAIiC,iBAAiBf,CAAG,EAAEC,WAAW,uBAAuB,KAAKjB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACT,EAAIoB,GAAIpB,EAAIkC,aAAa,SAASC,EAAGC,GAAK,OAAOlC,EAAG,MAAM,CAACsB,IAAIY,EAAI3B,YAAY,SAASuB,YAAY,CAAC,eAAe,QAAQ,CAAC9B,EAAG,aAAa,CAACmC,IAAIF,EAAG7B,KAAKgC,UAAS,EAAKlC,MAAM,CAAC,KAAO+B,EAAGI,QAAQ,KAAO,MAAM7B,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIwC,kBAAkBd,EAAQS,EAAG,EAAE,KAAO,SAAST,GAAQ,OAAO1B,EAAIyC,kBAAkBf,EAAQS,EAAG,IAAInC,EAAIoB,GAAIpB,EAAI0C,oBAAoBP,EAAGQ,OAAO,SAASC,GAAG,OAAO1C,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6C,aAAaD,GAAGE,GAAGrC,YAAY,qBAAqBL,MAAM,CAAC,GAAKJ,EAAI+C,SAASH,IAAIlC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBJ,GAAI5C,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGc,GAAG,KAAK1C,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6C,aAAaD,GAAGO,aAAanD,EAAI6B,GAAG,KAAM7B,EAAI6C,aAAaD,GAAGQ,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI6C,aAAaD,GAAGQ,SAASpD,EAAIqD,KAAMrD,EAAIsD,YAAYV,GAAI1C,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAI+C,SAASH,GAAG,SAAW,cAAc,MAAQ,CAACW,KAAK,EAAGC,KAAK,KAAK,UAAU,IAAI9C,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAO1B,EAAIyD,oBAAoBtB,EAAIS,EAAE,EAAE,OAAS,SAASlB,GAAQ,OAAO1B,EAAI0D,oBAAoBvB,EAAIS,EAAE,IAAI5C,EAAIoB,GAAIpB,EAAI2D,mBAAmBf,IAAI,SAASgB,GAAI,OAAO1D,EAAG,kBAAkB,CAACsB,IAAIxB,EAAI6D,SAASD,GAAId,GAAGrC,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIgD,oBAAoBY,GAAI,GAAO5D,EAAIiD,gBAAgBd,EAAIS,EAAG,IAAI,CAAC5C,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG8B,GAAI,KAAK1D,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAI,IAAG9B,EAAI6D,SAASD,GAAIT,cAAc,IAAG,GAAGnD,EAAIqD,MAAM,EAAE,IAAG,IAAI,EAAE,IAAGnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiC,iBAAiB,EAAE,IAAI,CAACjC,EAAI6B,GAAG,UAAU,IAAI,KAAK3B,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,SAASuB,YAAY,CAAC,MAAQ,UAAU,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,MAAM,KAAO,KAAK,YAAc,eAAe,OAASJ,EAAI4B,YAAY,SAASd,MAAM,CAACC,MAAOf,EAAI8D,kBAAmB7C,SAAS,SAAUC,GAAMlB,EAAI8D,kBAAkB5C,CAAG,EAAEC,WAAW,wBAAwB,GAAGjB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8D,kBAAkB,EAAE,IAAI,CAAC9D,EAAI6B,GAAG,UAAU,QAAQ,IAAI,GAAG3B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACT,EAAI+D,GAAG,GAAG7D,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,mBAAmBJ,EAAIoB,GAAIpB,EAAIgE,aAAa,SAAS1C,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,QAAQ,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,KAAKrB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,uBAAuBJ,EAAIoB,GAAIpB,EAAI8gB,gBAAgB,SAASxf,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,WAAW,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIgc,UAAUza,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,qBAAqBJ,EAAIoB,GAAIpB,EAAIsE,cAAc,SAAShD,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,EAAE,MAAQ,SAASA,GAAQ,OAAO1B,EAAI4B,YAAY,SAAS,IAAI,CAAC1B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIuE,SAAShD,IAAI,MAAQ,KAAK,OAAS,SAAS,EAAE,IAAG,IAAI,OAAOrB,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAI0E,iBAAkBzD,SAAS,SAAUC,GAAMlB,EAAI0E,iBAAiBxD,CAAG,EAAEC,WAAW,qBAAqB,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI2E,cAAc3E,EAAI4E,cAAc,KAAO,KAAK,GAAK,oBAAoB5E,EAAIoB,GAAIpB,EAAI2E,eAAe,SAASrD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI4E,aAAarD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,GAAGpB,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,SAAS3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI6E,aAAa7E,EAAI8E,aAAa,KAAO,KAAK,GAAK,oBAAoB9E,EAAIoB,GAAIpB,EAAI6E,cAAc,SAASvD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8E,YAAYvD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,KAAKpB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,UAAU3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIgF,UAAUhF,EAAIiF,UAAU,KAAO,KAAK,GAAK,kBAAkBjF,EAAIoB,GAAIpB,EAAIgF,WAAW,SAAS1D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIiF,SAAS1D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,GAAGpB,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,SAAS9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIkF,WAAWlF,EAAImF,WAAW,KAAO,KAAK,GAAK,wBAAwBnF,EAAIoB,GAAIpB,EAAIkF,YAAY,SAAS5D,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAImF,UAAU5D,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,GAAGpB,EAAG,OAAO,CAAC8B,YAAY,CAAC,MAAQ,SAAS9B,EAAG,WAAW,CAACE,MAAM,CAAC,QAAUJ,EAAI6J,WAAW,QAAU,oBAAoB,KAAO,MAAMnJ,GAAG,CAAC,iBAAiB,SAASgB,GAAQ1B,EAAI6J,WAAWnI,CAAM,IAAI,CAAC1B,EAAI6B,GAAG,YAAY,OAAO3B,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,cAAcF,EAAIoB,GAAI,CAACpB,EAAIoF,KAAKC,KAAKC,QAAQ,SAASE,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAO,QAAOE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,QAAOE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAAkB,IAAI,EAAE,IAAG,IAAI,GAAGjB,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,SAAS9B,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,QAAU,YAAY,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI8F,cAAc,IAAI,CAAC9F,EAAI6B,GAAG,SAAS,UAAU,IAAI,MAAM,GAAG3B,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,SAASkE,MAAOlG,EAAIkG,MAAO9F,MAAM,CAAC,GAAK,YAAY,CAAEJ,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyG,gBAAgB,IAAI,CAACzG,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI0G,YAAY,SAASiL,GAAM,MAAO,CAACzR,EAAG,MAAM,CAACsB,IAAImQ,EAAK7O,GAAGrC,YAAY,OAAOL,MAAM,CAAC,GAAK,QAAQuR,EAAK7O,KAAK,CAAC5C,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,WAAWL,MAAM,CAAC,GAAK,QAAQuR,EAAK7O,GAAG,UAAU,CAAC5C,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0N,EAAK/K,MAAM,MAAQ+K,EAAKrR,KAAK,MAAQ,KAAK,OAAS,KAAK,QAAU,MAAwB,GAAjBN,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,QAAQuR,EAAK7O,GAAG,QAAQ,SAAW,cAAc,MAAQ6O,EAAKrR,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAW+J,WAAc3R,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOG,MAAM,CAAE,YAAeZ,EAAI+G,kBAAkB4K,KAAS,CAACzR,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG6P,EAAKrR,SAASJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0N,EAAKiJ,MAAM,MAAQ,MAAMjJ,EAAKiJ,KAAK,OAAS,QAAQ1a,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0N,EAAKzK,QAAQ,MAAQ,SAASyK,EAAKzK,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG6P,EAAKrK,YAAY,KAAKpH,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,SAASyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI+gB,kBAAkBpP,OAAUzR,EAAG,MAAM,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAQ,uCAAuC8C,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAakK,EAAKnK,OAAQ,WAAWtH,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQG,MAAM,CAAE,YAAeZ,EAAIghB,kBAAkBrP,IAAQ3P,YAAY,CAAC,YAAY,MAAM,CAAC9B,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAW+J,OAAWA,EAAKvO,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWsJ,OAAU3R,EAAIqD,SAASnD,EAAG,MAAM,CAACO,YAAY,QAAQT,EAAIoB,GAAIuQ,EAAKhP,MAAM,SAAS2F,EAAI/G,GAAG,OAAOrB,EAAG,UAAU,CAACsB,IAAID,EAAEd,YAAY,MAAML,MAAM,CAAC,QAAU,OAAO,KAAO,IAAIM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIgD,oBAAoBsF,EAAI,IAAI,CAACtI,EAAI6B,GAAG7B,EAAI8B,GAAGwG,KAAO,IAAG,aAAa,IAAItI,EAAImG,aAAanG,EAAIoG,OAAS,EAAGlG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaJ,EAAIoG,MAAMC,OAAO,WAAWrG,EAAIsG,gBAAgB,MAAQ,KAAK,wBAAwB,IAAI5F,GAAG,CAAC,OAASV,EAAIuG,QAAQzF,MAAM,CAACC,MAAOf,EAAIwG,KAAMvF,SAAS,SAAUC,GAAMlB,EAAIwG,KAAKtF,CAAG,EAAEC,WAAW,UAAUjB,EAAG,KAAK,CAACO,YAAY,0BAA0BuB,YAAY,CAAC,cAAc,QAAQ,CAAC9B,EAAG,KAAK,CAACO,YAAY,aAAa,CAACP,EAAG,WAAW,CAACO,YAAY,YAAYL,MAAM,CAAC,QAAU,qBAAqBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIoJ,aAAa,IAAI,CAACpJ,EAAI6B,GAAG,UAAU,MAAM,GAAG7B,EAAIqD,MAAM,IAC13V,EACIhD,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG,cACpK,G,+42HCiOA,GACAvB,KAAAA,aACAC,WAAAA,CACAme,WAAAA,GAEAC,OAAAA,CAAAA,GAEApV,OACA,OACA0X,WAAAA,EACAxR,UAAAA,EAEAvL,QAAAA,EAAAA,QACA8X,UAAAA,EAAAA,UACAzX,SAAAA,EAAAA,SAEAM,aAAAA,CACA,OACA,OACA,MAEAG,UAAAA,CACA,MACA,MACA,KACA,OACA,SACA,OACA,OACA,SAEAE,WAAAA,CACA,KACA,MAGAhD,YAAAA,CACA4X,KAAAA,CACAvX,QAAAA,MACAjC,KAAAA,YACAqC,KAAAA,IAAAA,KAEAqX,OAAAA,CACAzX,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAmc,OAAAA,CACAvc,QAAAA,OACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAoc,OAAAA,CACAxc,QAAAA,QACAjC,KAAAA,cACAqC,KAAAA,IAAAA,KAEAqc,MAAAA,CACAzc,QAAAA,MACAjC,KAAAA,aACAqC,KAAAA,IAAAA,MAGAW,YAAAA,CAAAA,EAEAU,YAAAA,GACA8c,eAAAA,GACAxc,aAAAA,GAEAc,KAAAA,CACAC,KAAAA,CACAC,MAAAA,CACAI,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,MAKAwe,iBAAAA,EACAC,QAAAA,GAEA,EAEApU,SAAAA,CACAqU,WACA,sBACA,EACArZ,QACA,sDAEA,qBACA,GACA,oCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,mCAEA,6CACA,yBACA,kBACA6F,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,KAEAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IACA,CAKA,OAHA,iBACAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,OAAAA,EAAAA,QAAAA,EAAAA,IAEA,CACA,EACAvF,aACA,iCACA,GAGA2D,UACAqB,SAAAA,MAAAA,gBACA,eAEA,+CACA,+DACA,iDAEA,iBACA,sBACA,EAEAlC,UACA,wBACAoB,OAAAA,WAAAA,WACA,wBACA,mBACA,2BACA,uBACA,GACA,YACA,EAEAW,QAAAA,CACAmU,UAEA,iDACA,iCACApE,wBAAAA,EACA1B,iBAAAA,EACAH,oBAAAA,IAEA,mEAEA,mCACA,sCAEA,QACA,6BACA9H,EAAAA,WAAAA,OACAA,EAAAA,KAAAA,EACA,YACAA,EAAAA,SAAAA,EAAAA,QAAAA,KAAAA,GAAAA,KAAAA,QAAAA,WAAAA,GAAAA,GAAAA,OAEAA,EAAAA,OAAAA,KAAAA,UAAAA,WAAAA,GAAAA,GAAAA,EAAAA,OACAA,EAAAA,SAAAA,KAAAA,SAAAA,WAAAA,GAAAA,GAAAA,EAAAA,SACA,yBAEA,0BAGA,cACA,4CAEA,oBACA,yCACA,mBACA,SAEA,QACA,aACA,uBACA,iDAEA,oBAEA,gCACA,WAGA,gBACA,kCACA,iBACA,oCACA,iBACA,oCACA,KACA,oCAEA,oCAEA,oEACA,wEACA,wEACA,wEACA,sEACA,qBAEA,qEACA,EAEA7L,eACA,wDACA,8BACA,mCACA,IACA6L,EAAAA,OAAAA,IAAAA,EAAAA,KAAAA,4BAAAA,IAEA,CACA,mBACA,EACA1L,cACA,8BACA,+CACAiF,EAAAA,MAAAA,EAAAA,QACA,mBACA,EAEA6V,kBAAAA,GACA,SAKA,OAJA,UACAtQ,GAAAA,EAAAA,QAAAA,KAAAA,GAAAA,aAAAA,KAAAA,YAAAA,cAAAA,iCAAAA,KAAAA,IAEAA,GAAAA,aAAAA,KAAAA,YAAAA,uCACA,CACA,EAEA1J,kBAAAA,GACA,oDACA,GACA,EACAia,kBAAAA,GACA,QASA,OARA,mBACAvQ,GAAAA,KAAAA,YAAAA,GACA,KAEA,oBACAA,GAAAA,KAAAA,aAAAA,EAAAA,MACA,KAEA,CACA,EACA2P,oBAAAA,GACA,0DACA,8BACA,EACAD,iBAAAA,GACA,oEACA,gDACA,8CACA,EACAE,WAAAA,GACA,+BAIA,OAHA,+BACAC,EAAAA,KAAAA,oBAAAA,IAEA,CACA,EACA3M,kBACA,sBACA,6BACA,0BACA,sBAGA,EAEA5H,UAAAA,GACA,yBACA,SAEA,6BAYA,GAXA,yCACA0U,EAAAA,MAAAA,KAAAA,gBAAAA,KAAAA,cACA,4CACAA,EAAAA,SAAAA,KAAAA,gBAAAA,KAAAA,iBACA,0CACAA,EAAAA,OAAAA,KAAAA,gBAAAA,KAAAA,eACA,iCACAA,EAAAA,IAAAA,KAAAA,kBACA,kCACAA,EAAAA,KAAAA,KAAAA,mBAEA,EACA,iBACAA,EAAAA,GAAAA,EAAAA,GAGA,oBACA,yBACA7V,OAAAA,QAAAA,UAAAA,KAAAA,KAAAA,GACA,gBACA,EAGA,EACA8V,UAAAA,GAAAA,GACA,8BACA9f,MAAAA,EACAsgB,SAAAA,EACAha,OAAAA,EACAoB,IAAAA,GACAsY,KAAAA,GACA5U,EAAAA,KAGA,0CACA,iDACA,uDACA,mDACA,4BACA,8BACA,mCACA,uBAEA,QACA,eAEA,IC9iBqP,ICOjP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QClB5BjM,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,eAAe,GAAGA,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,OAAO,WAAa,aAAa9B,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,SAAS,CAACE,MAAM,CAAC,YAAY,YAAY,wBAAwB,oBAAoBU,MAAM,CAACC,MAAOf,EAAImhB,SAAUlgB,SAAS,SAAUC,GAAMlB,EAAImhB,SAASjgB,CAAG,EAAEC,WAAW,aAAa,CAACjB,EAAG,QAAQ,CAACE,MAAM,CAAC,mBAAmB,aAAaghB,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,QAAQ8f,GAAG,WAAW,MAAO,CAACphB,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,UAAU,YAAY,WAAW,CAAChC,EAAI6B,GAAG,aAAa,EAAE0f,OAAM,MAAS,CAACrhB,EAAG,0BAA0B,CAACmC,IAAI,WAAW,GAAGnC,EAAG,QAAQ,CAACE,MAAM,CAAC,mBAAmB,aAAaghB,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,QAAQ8f,GAAG,WAAW,MAAO,CAACphB,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,UAAU,YAAY,WAAW,CAAChC,EAAI6B,GAAG,YAAY,EAAE0f,OAAM,MAAS,CAACrhB,EAAG,mBAAmB,CAACmC,IAAI,WAAW,IAAI,IAAI,IACz/B,EACIhC,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,eAAeuB,YAAY,CAAC,YAAY,WAAW,CAAC9B,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,UAAU3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQiQ,OAAOC,OAAOtQ,EAAIwhB,SAAS,OAASxhB,EAAIyhB,cAAcL,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAiB,WAAfyO,EAAEkB,KAAK5L,KAAmB7F,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAK5Q,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAASzQ,EAAI,EAAEC,WAAW,kBAAkBnB,EAAIqD,KAAqB,UAAfoN,EAAEkB,KAAK5L,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAMqQ,EAAEkB,KAAKhM,IAAI,IAAM8K,EAAEkB,KAAK/L,IAAI,KAAO,KAAK,KAAO,SAAS,KAAO,IAAI9E,MAAM,CAACC,MAAO0P,EAAEkB,KAAK5Q,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAAS3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAAkBnB,EAAIqD,MAAM,KAAK,GAAG,CAAC7B,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,MAAM,CAACE,MAAM,CAAC,GAAM,QAAOqQ,EAAEkB,KAAKrR,SAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,UAAU,QAAQ,GAAGxF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,sBAAsBJ,EAAIoB,GAAIpB,EAAI4Q,OAAOhQ,OAAO,SAASU,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,KAAKrB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,uBAAuBJ,EAAIoB,GAAIpB,EAAI4Q,OAAO3J,QAAQ,SAAS3F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIqE,QAAQ9C,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,4BAA4BJ,EAAIoB,GAAIpB,EAAI4Q,OAAOzJ,YAAY,SAAS7F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIyE,YAAYlD,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,yBAAyB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,wBAAwBJ,EAAIoB,GAAIpB,EAAI4Q,OAAO1J,QAAQ,SAAS5F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIuE,SAAShD,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,OAAOrB,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI0hB,YAAY,IAAI,CAAC1hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2hB,YAAY,IAAI,CAAC3hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI4hB,YAAY,IAAI,CAAC5hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI6hB,YAAY,IAAI,CAAC7hB,EAAI6B,GAAG,UAAU,KAAK3B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,eAAeM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIsU,gBAAgBtU,EAAI8hB,eAAe,IAAI,CAAC9hB,EAAI6B,GAAG,uBAAuB3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,aAAa,UAAY,MAAM,eAAe,gBAAgB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,MAAMF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI8hB,gBAAgB,QAAQ,QAAQ,GAAG5hB,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,QAAQ3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI+hB,MAAMC,SAAQhV,GAAKA,EAAEiV,SAAQ,IAAI,CAACjiB,EAAI6B,GAAG,WAAW,KAAK3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQJ,EAAI+hB,MAAM,OAAS/hB,EAAIkiB,YAAYd,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,gBAAgB8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAKxJ,QAASlH,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,UAAWzQ,EAAI,EAAEC,WAAW,oBAAoB,GAAG,CAACK,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,OAAO,KAAK,GAAG,CAAClE,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAAGA,EAAEkB,KAAKwQ,OAA2RniB,EAAIqD,KAAvRnD,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,KAAO,KAAK,KAAO,GAAG,YAAc,OAAOU,MAAM,CAACC,MAAO0P,EAAEkB,KAAKyQ,MAAOnhB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAAS3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAA4BsP,EAAEkB,KAAKwQ,OAAQjiB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,MAAQ,cAAc,CAAChC,EAAI6B,GAAG,OAAO7B,EAAIqD,KAAK,GAAG,CAAC7B,IAAI,eAAe8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,KAAO,IAAIU,MAAM,CAACC,MAAO0P,EAAEkB,KAAK0Q,OAAQphB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,SAAU3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,mBAAmB,QAAQ,IAAI,GAAGjB,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,mBAAmB,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,SAAS3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIsiB,QAAQN,SAAQhV,GAAKA,EAAEiV,SAAQ,IAAI,CAACjiB,EAAI6B,GAAG,WAAW,KAAK3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQJ,EAAIsiB,QAAQ,OAAStiB,EAAIkiB,YAAYd,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,gBAAgB8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAKxJ,QAASlH,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,UAAWzQ,EAAI,EAAEC,WAAW,oBAAoB,GAAG,CAACK,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,OAAO,KAAK,GAAG,CAAClE,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAAGA,EAAEkB,KAAKwQ,OAA2RniB,EAAIqD,KAAvRnD,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,KAAO,KAAK,KAAO,GAAG,YAAc,OAAOU,MAAM,CAACC,MAAO0P,EAAEkB,KAAKyQ,MAAOnhB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAAS3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAA4BsP,EAAEkB,KAAKwQ,OAAQjiB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,SAAS,MAAQ,cAAc,CAAChC,EAAI6B,GAAG,OAAO7B,EAAIqD,KAAK,GAAG,CAAC7B,IAAI,eAAe8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,KAAO,IAAIU,MAAM,CAACC,MAAO0P,EAAEkB,KAAK0Q,OAAQphB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,SAAU3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,mBAAmB,QAAQ,IAAI,GAAGjB,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,WAAW3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,uBAAuB,CAACJ,EAAI6B,GAAG,QAAQ3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,cAAc,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIuiB,YAAY,EAAE,IAAI,CAACviB,EAAI6B,GAAG,SAAS3B,EAAG,cAAc,CAACE,MAAM,CAAC,OAAS,qBAAqB,KAAOJ,EAAIwiB,SAAS,YAAc,GAAG,aAAe,IAAI9hB,GAAG,CAAC,MAAQV,EAAIyiB,mBAAmB,KAAKviB,EAAG,MAAM,CAACO,YAAY,oBAAoBT,EAAIoB,GAAIpB,EAAIuiB,aAAa,SAASrX,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIuiB,YAAYjP,OAAOtT,EAAIuiB,YAAYhT,QAAQrE,GAAI,EAAE,IAAI,CAAGA,EAAErC,MAAmI7I,EAAIqD,KAAhInD,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ8K,EAAE5K,OAAO,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAa4K,EAAErC,MAAO3I,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQ5B,MAAM,CAAC,MAAQ8K,EAAErC,MAAMvI,KAAO,MAAQ4K,EAAEyG,KAAKrR,OAAO,CAACJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,MAAM,IAAM,OAAO5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAErC,MAAMjC,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,QAAQJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,QAAQ,IAAM,QAAQ5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEyG,KAAK/K,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAGN,EAAIqD,MAAM,IAAG,KAAKnD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,WAAW3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,oBAAoB,CAACJ,EAAI6B,GAAG,QAAQ3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,cAAc,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI0iB,SAAS,EAAE,IAAI,CAAC1iB,EAAI6B,GAAG,SAAS3B,EAAG,cAAc,CAACE,MAAM,CAAC,OAAS,kBAAkB,KAAOJ,EAAIwiB,SAAS,YAAc,GAAG,aAAe,IAAI9hB,GAAG,CAAC,MAAQV,EAAI2iB,gBAAgB,KAAKziB,EAAG,MAAM,CAACO,YAAY,oBAAoBT,EAAIoB,GAAIpB,EAAI0iB,UAAU,SAASxX,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI0iB,SAASpP,OAAOtT,EAAI0iB,SAASnT,QAAQrE,GAAI,EAAE,IAAI,CAAGA,EAAErC,MAAmI7I,EAAIqD,KAAhInD,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ8K,EAAE5K,OAAO,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAa4K,EAAErC,MAAO3I,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQ5B,MAAM,CAAC,MAAQ8K,EAAErC,MAAMvI,KAAO,MAAQ4K,EAAEyG,KAAKrR,OAAO,CAACJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,MAAM,IAAM,OAAO5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAErC,MAAMjC,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,QAAQJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,QAAQ,IAAM,QAAQ5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEyG,KAAK/K,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAGN,EAAIqD,MAAM,IAAG,QAAQ,KAAKnD,EAAG,MAAM,CAACO,YAAY,WAAW,CAAGT,EAAI4iB,SAASC,UAAiK7iB,EAAIqD,KAA1JnD,EAAG,MAAM,CAACO,YAAY,aAAauB,YAAY,CAAC,QAAU,OAAO,SAAW,aAAa,CAAC9B,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,eAAe,GAA2C,GAA9BJ,EAAI4iB,SAASE,OAAOzc,OAAanG,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAACO,YAAY,aAAa,CAACT,EAAI+D,GAAG,GAAG/D,EAAIoB,GAAIpB,EAAI+iB,iBAAiB/iB,EAAI4iB,SAASE,SAAS,SAASrP,EAAEuP,GAAI,MAAO,CAAC9iB,EAAG,MAAM,CAACsB,IAAIwhB,EAAG9f,SAAS,CAAC,UAAYlD,EAAI8B,GAAG2R,MAAM,KAAI,KAAKzT,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,UAAUyF,MAAOlG,EAAIkG,OAAQ,CAAgC,GAA9BlG,EAAI4iB,SAASE,OAAOzc,OAAanG,EAAG,MAAM,CAACO,YAAY,aAAauB,YAAY,CAAC,QAAU,SAAS,CAAC9B,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,QAAQ,CAAChC,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,gCAAgC3B,EAAG,MAAMF,EAAI6B,GAAG,2DAA2D3B,EAAG,MAAMF,EAAI6B,GAAG,2EAA2E3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,4CAA4C3B,EAAG,SAAS,CAACQ,GAAG,CAAC,WAAa,SAASgB,GAAQ,OAAO1B,EAAIijB,UAAU,4BAA4B,EAAK,EAAE,WAAa,SAASvhB,GAAQ,OAAO1B,EAAIijB,UAAU,4BAA4B,EAAM,IAAI,CAACjjB,EAAI6B,GAAG,cAAc7B,EAAI6B,GAAG,wBAAwB3B,EAAG,MAAMF,EAAI6B,GAAG,4DAA4D3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,kBAAkB7B,EAAI6B,GAAG,2BAA2B3B,EAAG,MAAMF,EAAI6B,GAAG,kBAAkB3B,EAAG,SAAS,CAACQ,GAAG,CAAC,WAAa,SAASgB,GAAQ,OAAO1B,EAAIijB,UAAU,yBAAyB,EAAK,EAAE,WAAa,SAASvhB,GAAQ,OAAO1B,EAAIijB,UAAU,yBAAyB,EAAM,IAAI,CAACjjB,EAAI6B,GAAG,iBAAiB7B,EAAI6B,GAAG,wBAAwB3B,EAAG,MAAMF,EAAI6B,GAAG,8DAA8D3B,EAAG,MAAMF,EAAI6B,GAAG,sCAAsC3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,wCAAwC3B,EAAG,MAAMF,EAAI6B,GAAG,mDAAmD3B,EAAG,MAAMF,EAAI6B,GAAG,+BAA+B3B,EAAG,OAAO,KAAKF,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI4iB,SAASE,QAAQ,SAASrS,EAAE0S,GAAI,MAAO,CAACjjB,EAAG,MAAM,CAACsB,IAAI2hB,EAAG1iB,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,aAAa,CAACT,EAAI+D,GAAG,GAAE,GAAM/D,EAAIoB,GAAIpB,EAAIojB,iBAAiB3S,IAAI,SAASgD,EAAEuP,GAAI,MAAO,CAAC9iB,EAAG,MAAM,CAACsB,IAAIwhB,EAAG9f,SAAS,CAAC,UAAYlD,EAAI8B,GAAG2R,MAAM,KAAI,GAAGvT,EAAG,MAAM,CAACO,YAAY,QAAQ,CAAEgQ,EAAEb,KAAM1P,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUzc,MAAM,MAAQ6J,EAAEb,KAAKyT,UAAU/iB,KAAK,GAAK,cAAc6iB,EAAG,MAAQ,MAAM,QAAU,MAAOnjB,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc+iB,EAAG,MAAQ1S,EAAEb,KAAKyT,UAAU/iB,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUziB,OAAO,MAAQ,OAAO6P,EAAEb,KAAKyT,UAAUziB,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUpc,QAAQ,MAAQ,QAAQwJ,EAAEb,KAAKyT,UAAUpc,OAAO,OAAS,QAAQ/G,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUnc,QAAQ,MAAQ,SAASuJ,EAAEb,KAAKyT,UAAUnc,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUlc,YAAY,MAAQ,SAASsJ,EAAEb,KAAKyT,UAAUlc,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAUjc,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAUhc,UAAU,GAAGnH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAU/b,YAAY,GAAGpH,EAAG,MAAM,CAACO,YAAY,eAAeT,EAAIoB,GAAIqP,EAAEb,KAAKyT,UAAU9a,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,SAAS,CAACsB,IAAIiH,EAAG/H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAM,IAAI,CAACtI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,SAAS,EAAE,IAAG,GAAGJ,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAehS,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,eAAe,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYlS,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,eAAe,KAAK7B,EAAIqD,MAAM,GAAGrD,EAAIqD,KAAMoN,EAAEb,KAAM1P,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIqP,EAAEb,KAAKrH,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,KAAK,GAAK,WAAW6iB,EAAG,IAAI1a,KAAMvI,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,WAAW+iB,EAAG,IAAI1a,EAAG,MAAQD,EAAMlI,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAAEgF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe5Z,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,SAAS,EAAE,KAAI,GAAGN,EAAIqD,KAAOmF,EAAM8T,SAAgpBtc,EAAIqD,KAA1oBnD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,QAAiB,GAAG3B,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,GAAO,OAAWA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc9a,EAAOiI,EAAEb,iBAAiB,IAAG,GAAG1P,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIqP,EAAEb,KAAKqR,YAAY,SAAStP,EAAKlJ,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,SAAS,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0N,EAAK/K,MAAM,MAAQ+K,EAAKrR,KAAK,MAAQ,KAAK,GAAK,QAAQ6iB,EAAG,IAAI1a,KAAOzI,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,QAAQ+iB,EAAG,IAAI1a,EAAG,MAAQkJ,EAAKrR,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe9Q,EAAK,IAAI,CAAC3R,EAAI6B,GAAG,eAAe3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe9Q,EAAMlB,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,0BAA0B,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYhR,EAAK,IAAI,CAAC3R,EAAI6B,GAAG,eAAe3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYhR,EAAMlB,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,0BAA0B,KAAK7B,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY0N,EAAKiJ,MAAM,MAAQjJ,EAAKrR,KAAK,MAAQ,QAAQN,EAAI6B,GAAG7B,EAAI8B,GAAG6P,EAAKrR,QAAQ,GAAGJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkB2I,SAAYzR,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAW+J,GAAM,OAAWA,EAAKvO,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWsJ,OAAU3R,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc3R,EAAMlB,EAAEb,iBAAiB,IAAG,KAAK5P,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,QAAQ,CAAEgQ,EAAExH,OAAQ/I,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAExH,OAAOoa,UAAUzc,MAAM,MAAS,GAAE6J,EAAExH,OAAOoa,UAAU/iB,gBAAgB,GAAK,cAAc6iB,EAAG,MAAQ,MAAM,QAAU,OAAO,GAAGnjB,EAAIqD,KAAMoN,EAAExH,OAAQ/I,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIqP,EAAExH,OAAOV,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,KAAK,GAAK,WAAW6iB,EAAG,IAAI1a,KAAMvI,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,WAAW+iB,EAAG,IAAI1a,EAAG,MAAQD,EAAMlI,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAAEgF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe5Z,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,KAAK,OAAS,SAAS,EAAE,KAAI,GAAGN,EAAIqD,KAAOmF,EAAM8T,SAAgpBtc,EAAIqD,KAA1oBnD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,QAAiB,GAAG3B,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,GAAO,OAAWA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc9a,EAAOiI,EAAEb,iBAAiB,IAAG,KAAK5P,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,QAAQ,CAAEgQ,EAAE8S,QAASrjB,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAE8S,QAAQF,UAAUzc,MAAM,MAAQ6J,EAAE8S,QAAQF,UAAU/iB,KAAK,GAAK,cAAc6iB,EAAG,MAAQ,MAAM,OAAS,MAAM,QAAU,MAAOnjB,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc+iB,EAAG,MAAQ1S,EAAE8S,QAAQF,UAAU/iB,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAE8S,QAAQF,UAAUziB,OAAO,MAAQ,OAAO6P,EAAE8S,QAAQF,UAAUziB,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAE8S,QAAQF,UAAUjG,aAAa,MAAQ,WAAW3M,EAAE8S,QAAQF,UAAUjG,YAAY,OAAS,QAAQld,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAE8S,QAAQF,UAAUnc,QAAQ,MAAQ,SAASuJ,EAAE8S,QAAQF,UAAUnc,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAE8S,QAAQF,UAAUlc,YAAY,MAAQ,SAASsJ,EAAE8S,QAAQF,UAAUlc,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAE8S,QAAQF,UAAUjc,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAE8S,QAAQF,UAAU/b,YAAY,GAAGpH,EAAG,MAAM,CAACO,YAAY,eAAeT,EAAIoB,GAAIqP,EAAE8S,QAAQF,UAAU9a,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,SAAS,CAACsB,IAAIiH,GAAI,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,SAAS,EAAE,IAAG,GAAGJ,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAehS,EAAE8S,QAAQF,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,eAAe,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYlS,EAAE8S,QAAQF,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,eAAe,KAAK7B,EAAIqD,MAAM,GAAGrD,EAAIqD,KAAMoN,EAAE8S,QAASrjB,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIpB,EAAIwjB,UAAU/S,EAAE8S,QAAQhb,SAAS,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,KAAO,KAAK,OAAS,KAAK,GAAK,WAAW6iB,EAAG,IAAI1a,MAAO,GAAGvI,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,GAAO,OAAWA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc9a,EAAOiI,EAAE8S,oBAAoB,IAAG,KAAKvjB,EAAIqD,SAAS,KAAI,GAAGrD,EAAIoB,GAAIpB,EAAIyjB,iBAAiB,SAAShQ,EAAElS,GAAG,MAAO,CAACrB,EAAG,YAAY,CAACsB,IAAID,EAAEnB,MAAM,CAAC,OAASqT,EAAEiQ,QAAQ,SAAW,cAAc,eAAe,UAAU,MAAQjQ,EAAEnT,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwP,EAAE9B,KAAK/K,MAAM,MAAQ,KAAK,OAAS,SAAS,GAAG1G,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAW6L,EAAE9B,YAAa8B,EAAE9B,KAAK/I,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIqS,EAAE9B,KAAK/I,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,aAAa,CAACsB,IAAIsH,EAAG1I,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,KAAK,OAAS,OAAO,KAAI,GAAGN,EAAIqD,OAAO,KAAI,EACnlwB,EACIhD,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,eACjG,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,eAC5E,GCJI9B,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAIgY,OAAO,SAAW,aAAa,MAAQ,CAACzU,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,WAAW,CAACtD,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAEhC,EAAI2jB,YAAazjB,EAAG,iBAAiB,CAAC8B,YAAY,CAAC,eAAe,QAAQ5B,MAAM,CAAC,KAAO,OAAOJ,EAAIoB,GAAIpB,EAAI4Q,OAAOhQ,OAAO,SAASU,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,WAAW,EAAE,IAAG,GAAGvB,EAAIqD,KAAMrD,EAAI4jB,aAAc1jB,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,OAAOJ,EAAIoB,GAAIpB,EAAI4Q,OAAO3J,QAAQ,SAAS3F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIqE,QAAQ9C,IAAI,MAAQ,WAAW,EAAE,IAAG,GAAGvB,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAACO,YAAY,YAAY,CAAET,EAAI6jB,SAAU3jB,EAAG,SAAS,CAACQ,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAa,KAAK,EAAE,WAAa,SAASzS,GAAQ,OAAO1B,EAAImU,MAAM,aAAc,KAAK,EAAE,MAAQ,SAASzS,GAAQ,OAAO1B,EAAI8jB,QAAQ,KAAK,IAAI,CAAC5jB,EAAG,aAAa,CAACO,YAAY,mBAAmBL,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,SAAS,GAAGjE,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI+jB,cAAc,SAAS7Y,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAajJ,EAAE,EAAE,WAAa,SAASxJ,GAAQ,OAAO1B,EAAImU,MAAM,aAAcjJ,EAAE,EAAE,MAAQ,SAASxJ,GAAQ,OAAO1B,EAAI8jB,QAAQ5Y,EAAE,IAAI,CAAChL,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQ5G,EAAIkS,YAAYhH,GAAG,MAAQ,SAAS,EAAE,KAAI,IAC5tD,EACI7K,EAAkB,GC2BtB,IACAC,KAAAA,cACAqe,OAAAA,CAAAA,GACArV,MAAAA,CACA0O,OAAAA,CACAjS,KAAAA,OACAie,UAAAA,GAEAC,KAAAA,CACAle,KAAAA,MACAie,UAAAA,GAGAH,SAAAA,CACA9d,KAAAA,QACAme,SAAAA,GAEAP,YAAAA,CACA5d,KAAAA,QACAme,SAAAA,GAEAN,aAAAA,CACA7d,KAAAA,QACAme,SAAAA,GAEAC,aAAAA,CACApe,KAAAA,QACAme,SAAAA,GAGAE,aAAAA,CACAre,KAAAA,QACAme,SAAAA,IAGA3a,OACA,OACArF,QAAAA,EAAAA,QACAG,QAAAA,EAAAA,QACAI,YAAAA,EAAAA,YACAF,SAAAA,EAAAA,SAEAqM,OAAAA,CACAhQ,MAAAA,GACAqG,OAAAA,GACAC,OAAAA,IAGA,EAEAkE,SAAAA,CACA2Y,eACA,+CACA,GAGA1Z,UACA,gDACA,iDACA,iDACA,EAEAkB,QAAAA,CACA8Y,UAAAA,GACA,4EACA,uEACA,mEACA,EAEAP,QAAAA,GACA,sBACA,mBACA,iDAEA,ICvGoQ,MCQhQ,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QCThC,IACEva,OACE,MAAO,CACLrF,QAAS4T,EAAAA,QACTzT,QAASyT,EAAAA,QACTrT,YAAaqT,EAAAA,YACbvT,SAAUuT,EAAAA,SACVD,YAAaC,EAAAA,YAEblH,OAAQ,CACNhQ,MAAO,GACPqG,OAAQ,GACRE,WAAY,GACZD,OAAQ,IAGVsa,QAAS,GACTO,MAAO,GACPO,QAAS,GACTI,SAAU,GACVH,YAAa,GAEbK,SAAU,CACRC,WAAW,EACXyB,SAAS,EACTxB,OAAQ,IAGd,EAEAvX,QAAS,CACPgZ,SAAU,MACR5P,YAAY6P,GACV,GAAkB,iBAAPA,EAAiB,CAC1B,MAAMC,EAAOD,EAGPlW,GAAKmW,GAAQ,IAAa,GAAPA,EAAY,EAAI,GACzCxkB,KAAKykB,MAAQ,IAAIC,YAAYrW,EAC/B,KACK,IAAIkW,EAAI7P,cAAgB1U,KAAK0U,YAKhC,KAAM,mBALuC,CAC7C,MAAMwN,EAASqC,EACfvkB,KAAKykB,MAAQ,IAAIC,YAAYxC,EAAOuC,MACtC,CAGA,CACF,CACA/H,IAAIpb,GACF,MAAMqjB,EAAOrjB,GAAK,EACZsjB,EAAU,GAAJtjB,EACZ,OAA0C,IAAlCtB,KAAKykB,MAAME,GAAS,GAAKC,EACnC,CACApI,IAAIlb,EAAG2J,GACL,MAAM0Z,EAAOrjB,GAAK,EACZsjB,EAAU,GAAJtjB,EACR2J,EACFjL,KAAKykB,MAAME,IAAS,GAAKC,EAEzB5kB,KAAKykB,MAAME,MAAW,GAAKC,EAC/B,GAGFC,SAAShI,EAAKxc,GACZ,MAAM4H,EAAOmI,OAAO0U,yBAAyBjI,EAAKxc,GAClD,GAAI4H,EAAM,CACR,GAAIA,EAAKyU,IACP,OAAO,EACT,GAAIzU,EAAKuU,IACP,OAAO,CACX,CACA,OAAO,CACT,EAGAiD,UACE,IAAIsF,EAAI/kB,KAER+kB,EAAEC,WAAaC,gBAAgBC,GAC/BH,EAAEI,YAAcF,gBAAgBG,GAChCL,EAAEM,YAAcJ,gBAAgBK,GAChCP,EAAExC,SAAW0C,gBAAgBM,GAAc5U,QAAO5D,IAAMA,EAAEyY,SAE1DT,EAAEU,UAAYR,gBAAgBS,GAC9BX,EAAEY,WAAaV,gBAAgBW,GAC/Bb,EAAEc,QAAUZ,gBAAgBa,GAAiBnV,QAAO5D,IAAMA,EAAEyY,SAE5DT,EAAE5e,MAAQ8e,gBAAgBc,GAAWpV,QAAO5D,IAAMA,EAAEyY,SAEpDxlB,KAAKgc,gBAAgB+I,EAAExC,SAAUwC,EAAEC,WAAYD,EAAEI,YAAaJ,EAAEM,aAChErlB,KAAKgc,gBAAgB+I,EAAEc,QAASd,EAAEU,UAAWV,EAAEY,YAC/C3lB,KAAKub,WAAWwJ,EAAE5e,OAElB4e,EAAExC,SAAS7U,MAAK,CAACX,EAAGC,IAAMA,EAAE3F,KAAK2e,cAAcjZ,EAAE1F,QACjD0d,EAAEc,QAAQnY,MAAK,CAACX,EAAGC,IAAMA,EAAE3F,KAAK2e,cAAcjZ,EAAE1F,QAChD0d,EAAE5e,MAAMuH,MAAK,CAACX,EAAGC,IAAMA,EAAE3F,KAAK2e,cAAcjZ,EAAE1F,QAE9C0d,EAAEkB,QAAUlB,EAAE5e,MAAMwK,QAAO5D,GAAe,MAAVA,EAAE4N,OAClCoK,EAAEmB,OAASnB,EAAE5e,MAAMwK,QAAO5D,GAAe,KAAVA,EAAE4N,OACjCoK,EAAEoB,QAAUpB,EAAE5e,MAAMwK,QAAO5D,GAAe,KAAVA,EAAE4N,OAClCoK,EAAEqB,YAAcrB,EAAE5e,MAAMwK,QAAO5D,GAAe,SAAVA,EAAE4N,OACtCoK,EAAEsB,SAAWtB,EAAE5e,MAAMwK,QAAO5D,GAAe,YAAVA,EAAE4N,OACnCoK,EAAEuB,SAAWvB,EAAE5e,MAAMwK,QAAO5D,GAAe,aAAVA,EAAE4N,OAEnCoK,EAAEwB,mBAAqB,IAAIhK,IAC3BwI,EAAEyB,oBAAsB,IAAIjK,IAC5B,IAAIqB,EAAM,EACV,IAAK,IAAIzK,IAAQ,CACf4R,EAAExC,SAAUwC,EAAEC,WAAYD,EAAEI,YAAaJ,EAAEM,YAC3CN,EAAEc,QAASd,EAAEU,UAAWV,EAAEY,WAC1BZ,EAAE5e,OAEF,IAAK,IAAIuL,KAAQyB,EACfzB,EAAKlM,QAAUoY,EACfmH,EAAEwB,mBAAmB/J,IAAI9K,EAAK4J,IAAK5J,GACnCqT,EAAEyB,oBAAoBhK,IAAI9K,EAAKrR,KAAMqR,GAGzCqT,EAAE0B,UAAY7I,EAEd,IAAI8I,EAAkB,EAClBC,EAAkB,CAAC,OACnBC,EAAkB,IAAIrK,IACtBsK,EAAY,EACZC,EAAY,IAAIvK,IACpB,IAAK,MAAMwK,KAAM/mB,KAAK4X,YAAa,CACjC,MAAMrW,EAAO,GAAEwlB,KACfH,EAAgBpK,IAAIjb,EAAKmlB,GACzBC,EAAgB7Y,KAAKvM,GACrBmlB,GACF,CACA,IAAK,MAAMK,KAAM/mB,KAAK4X,YAAa,CACjC,MAAMrW,EAAO,GAAEwlB,KACfH,EAAgBpK,IAAIjb,EAAKmlB,GACzBC,EAAgB7Y,KAAKvM,GACrBmlB,GACF,CACA,IAAK,IAAIne,KAASvI,KAAKujB,UAAUwB,EAAEC,WAAYD,EAAEI,YAAaJ,EAAEM,YAAaN,EAAEU,UAAWV,EAAEY,WAAYZ,EAAE5e,OACxG,IAAK,IAAIgT,KAAUnZ,KAAKgnB,iBAAiBze,GAAQ,CAC/C,IAAIoP,EAAawB,EAAOrT,KAiBxB,GAhBIqT,EAAOI,OACT5B,GAAc,IACPwB,EAAOE,WACd1B,GAAc,KAChBwB,EAAOxB,WAAaA,EAEC,MAAjBwB,EAAOpB,SACToB,EAAOkB,gBAAiB,GAE1BlB,EAAOuN,gBAAkBE,EAAgBlK,IAAI/E,GACxCwB,EAAOuN,kBACVE,EAAgBpK,IAAI7E,EAAY+O,GAChCvN,EAAOuN,gBAAkBA,IACzBC,EAAgB7Y,KAAK6J,IAGnBpP,EAAM+J,SAAU,CAClB,MAAMqI,EAAOxB,EAAOwB,KACpBxB,EAAO0N,UAAYC,EAAUpK,IAAI/B,GAC5BxB,EAAO0N,YACVC,EAAUtK,IAAI7B,EAAMkM,GACpB1N,EAAO0N,UAAYA,IAEvB,CACF,CAEF9B,EAAE2B,gBAAkBA,EACpB3B,EAAE4B,gBAAkBA,EACpB5B,EAAE6B,gBAAkBA,EACpB7B,EAAE8B,UAAYA,EACd9B,EAAE+B,UAAYA,CAChB,EACAG,cACEjnB,KAAK4Q,WAAW5Q,KAAK2Q,OAAOhQ,MAAOX,KAAKiE,SACxCjE,KAAK4Q,WAAW5Q,KAAK2Q,OAAO3J,OAAQhH,KAAKoE,SACzCpE,KAAK4Q,WAAW5Q,KAAK2Q,OAAOzJ,WAAYlH,KAAKwE,aAC7CxE,KAAK4Q,WAAW5Q,KAAK2Q,OAAO1J,OAAQjH,KAAKsE,SAC3C,EAEA4iB,oBAAoBC,GAClB,MAAM9O,EAAQiD,GAAQtb,KAAKumB,mBAAmB7J,IAAIpB,GAC5C8L,EAAQ,CACZ,QAAS,CAAC/O,EAAK,oBAAqBA,EAAK,iBACzC,OAAQ,CAACA,EAAK,mBAAoBA,EAAK,gBACvC,OAAQ,CAACA,EAAK,mBAAoBA,EAAK,gBACvC,QAAS,CAACA,EAAK,oBAAqBA,EAAK,iBACzC,QAAS,CAACA,EAAK,oBAAqBA,EAAK,iBACzC,OAAQ,CAACA,EAAK,mBAAoBA,EAAK,gBACvC,QAAS,CAACA,EAAK,oBAAqBA,EAAK,iBACzC,OAAQ,CAACA,EAAK,mBAAoBA,EAAK,iBAEzC,OAAO8O,KAAaC,EAAQA,EAAMD,GAAa,EACjD,EACAE,uBAAuBF,GACrB,MAAM9O,EAAQiD,GAAQtb,KAAKumB,mBAAmB7J,IAAIpB,GAC5C8L,EAAQ,CACZ,QAAS,CAAC/O,EAAK,qBAAsBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC5E,OAAQ,CAACA,EAAK,oBAAqBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC1E,OAAQ,CAACA,EAAK,oBAAqBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC1E,QAAS,CAACA,EAAK,qBAAsBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC5E,QAAS,CAACA,EAAK,qBAAsBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC5E,OAAQ,CAACA,EAAK,oBAAqBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC1E,QAAS,CAACA,EAAK,qBAAsBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,YAC5E,OAAQ,CAACA,EAAK,oBAAqBA,EAAK,WAAYA,EAAK,WAAYA,EAAK,aAE5E,OAAO8O,KAAaC,EAAQA,EAAMD,GAAa,EACjD,EAEAG,wBACE,MAAMjP,EAAQiD,GAAQtb,KAAKumB,mBAAmB7J,IAAIpB,GAC5CnI,EAAO,CACXkF,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OACtEA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAQA,EAAK,QAErF,OAAOlF,CACT,EACAoU,kBAAkBC,GAChB,MAAMnP,EAAQiD,GAAQtb,KAAKumB,mBAAmB7J,IAAIpB,GAC5C8L,EAAQ,CACZ,OAAQ/O,EAAK,OACb,OAAQA,EAAK,OACb,OAAQA,EAAK,OACb,OAAQA,EAAK,OACb,MAAOA,EAAK,OACZ,OAAQA,EAAK,OACb,QAASA,EAAK,OACd,SAAUA,EAAK,OACf,MAAOA,EAAK,OACZ,OAAQA,EAAK,OACb,QAASA,EAAK,OACd,QAASA,EAAK,OACd,OAAQA,EAAK,QAEf,OAAOmP,KAAeJ,EAAQA,EAAMI,GAAe,EACrD,EAEAC,mBAAmB/gB,EAAKiK,EAAS3Q,KAAK2Q,QACpC,QAASA,EAAOhQ,OAASX,KAAK6Q,YAAYF,EAAOhQ,MAAO+F,EAAIsW,aACxDrM,EAAO3J,QAAUhH,KAAK6Q,YAAYF,EAAO3J,OAAQN,EAAIuW,cACrDtM,EAAOzJ,YAAclH,KAAK6Q,YAAYF,EAAOzJ,WAAYR,EAAIwW,kBAC7DvM,EAAO1J,QAAUjH,KAAK6Q,YAAYF,EAAO1J,OAAQP,EAAImV,UAC3D,EACA6L,kBAAkBhhB,EAAKiK,EAAS3Q,KAAK2Q,QAEnC,OAASA,EAAO1J,QAAUjH,KAAK6Q,YAAYF,EAAO1J,OAAQP,EAAImV,SAChE,EAEA8L,wBAAwBpf,GACtB,MAAMqf,EAAW,SAAU7K,GACzB,IAAKA,EACH,OAEF,MAAM8K,EAAc,SAAU1O,GAC5B,IAAIjW,EAAQ,EACZ,IAAK,MAAMsQ,KAAKuJ,EACVvJ,EAAE1N,MAAQqT,EAAOrT,MAAQ0N,EAAEuE,QAAUoB,EAAOpB,QAAUvE,EAAEiG,WAAaN,EAAOM,WAAajG,EAAEmH,MAAQxB,EAAOwB,MAC5GnH,EAAEsU,QAAU3O,EAAO2O,QAAUlc,KAAKmc,KAAKvU,EAAE1S,QAAU8K,KAAKmc,KAAK5O,EAAOrY,UAClEoC,EAGN,OAAOA,CACT,EAEA,IAAK,IAAI5B,EAAI,EAAGA,EAAIyb,EAAQ3W,QACtByhB,EAAY9K,EAAQzb,IAAM,EAE5Byb,EAAQ1J,OAAO/R,EAAG,KAGhBA,CAGR,EACAsmB,EAASrf,EAAMsR,MACf+N,EAASrf,EAAMwR,OACjB,EAGAiO,cAAcziB,GACZ,OAAOA,EAAM0iB,WAAa,WAAa,EACzC,EACAxf,cAAcF,GACZ,MAAO,CACLoW,OAAQpW,EAAM+J,SACdsM,QAASrW,EAAMgK,UAEnB,EACA8Q,cAAc9a,EAAO2f,GACnB,IAAIC,EAAQ,GAER5f,EAAMuQ,aACRqP,EAAMra,KAAM,iEAEd,IAAK,MAAMqL,KAAUnZ,KAAKujB,UAAUhb,EAAMsR,KAAMtR,EAAMwR,QAAS,CAC7D,GAAI,CAAC,QAAQtG,SAAS0F,EAAOrT,MAC3B,SAGF,IAAIhF,EAAQd,KAAKooB,eAAejP,GAC5BA,EAAO/L,MACTtM,EAAS,GAAEqY,EAAO/L,IAAIK,OAAO0L,EAAO/L,IAAI8I,QAG1C,IAAImS,EAAkB,GAClBpV,EAASkG,EAAOE,SAAW,IAAM,IACjCiP,EAAWnP,EAAOM,UAAY,QAAU,GACxC8O,EAAO,GACPC,EAAQ,GACRN,EAAIO,YAAYhV,SAAS0F,KAC3BkP,GAAmB,YAEjBH,EAAIQ,kBAAkBjV,SAAS0F,KACjCkP,GAAmB,QACnBG,EAAQ,4BAEL,CAAC,KAAM,WAAY,UAAW,MAAM/U,SAAS0F,EAAOrT,QACvDyiB,EAAO,KAGTJ,EAAMra,KAAM,+CAA8Cua,aAA2BG,MAAUrP,EAAOrT,OAAOwiB,IAAWrV,IAASnS,IAAQynB,iBAC3I,CACA,OAAOJ,EAAM/hB,OAAU,6BAA4B+hB,EAAMtV,KAAK,YAAc,EAC9E,EACAmQ,UAAUngB,EAAIqF,GACZ,IAAIub,EAAUhY,SAASkd,eAAe9lB,GAClCqF,EACFub,EAAQmF,UAAUxb,IAAI,qBAEtBqW,EAAQmF,UAAUC,OAAO,oBAC7B,EAEAC,gBAAgBC,EAAY7b,EAAM,MAC3BA,IACHA,EAAM,IAAI8b,WAAWhpB,KAAK0mB,iBAC1BxZ,EAAI+b,KAAK,IAEX,IAAK,MAAMzV,KAAKuV,EACd7b,EAAIsG,EAAEkT,kBAAoB1mB,KAAKooB,eAAe5U,GAChD,OAAOtG,CACT,EACAgc,mBAAmB5f,GACjB,IAAI6e,EAAQ,GACZ,IAAK,IAAI7mB,EAAI,EAAGA,EAAItB,KAAK0mB,kBAAmBplB,EAAG,CAC7C,MAAMjB,EAAOL,KAAK2mB,gBAAgBrlB,GAClC,IAAI2J,EAAI3B,EAAKhI,GACTinB,EAAO,CAAC,OAAO9U,SAASpT,GAAQ,GAAK,IACrC4K,GACFkd,EAAMra,KAAM,wDAAuDzN,IAAO4K,IAAIsd,iBAElF,CACA,OAAOJ,CACT,EACAhF,iBAAiB3S,GACf,MAAMlH,EAAOtJ,KAAK8oB,gBAAgBtY,EAAEb,KAAK8Y,aACzC,OAAOzoB,KAAKkpB,mBAAmB5f,EACjC,EACAwZ,iBAAiBqG,GACf,IAAI7f,EAAO,KACX,IAAK,IAAIkH,KAAK2Y,EACZ7f,EAAOtJ,KAAK8oB,gBAAgBtY,EAAEiY,YAAanf,GAC7C,OAAOtJ,KAAKkpB,mBAAmB5f,EACjC,EAIA8f,iBAAiBjW,EAAMzB,EAAM9I,GAC3B,MAAMygB,EAAKzgB,EACTmE,GAAKA,EAAEnE,OAASA,GAASmE,EAAE2E,MAAQA,EACnC3E,GAAKA,GAAK2E,EACZ,IAAIpQ,EAAI6R,EAAKvE,UAAUya,GACnB/nB,GAAK,GACP6R,EAAKE,OAAO/R,EAAG,GAEjB6R,EAAKE,OAAO,EAAG,EAAGzK,EAAQ,CAAE8I,KAAMA,EAAM9I,MAAOA,GAAU8I,EAC3D,EACA4X,oBAAoBnW,EAAMzB,EAAM9I,EAAQ,MACtC,QAAIuK,EAAKM,SAAS/B,MAET9I,GACsD,MAAtDuK,EAAKkF,MAAKtL,GAAKA,EAAEnE,OAASA,GAASmE,EAAE2E,MAAQA,GAExD,EACA8Q,eAAe9Q,EAAM9I,EAAQ,MAC3B5I,KAAKopB,iBAAiBppB,KAAKsiB,YAAa5Q,EAAM9I,EAChD,EACA2gB,kBAAkB7X,GAChB1R,KAAKsiB,YAAYjP,OAAOrT,KAAKsiB,YAAYhT,QAAQoC,GAAO,EAC1D,EACA8X,cAAc9X,EAAM9I,EAAQ,MAC1B,OAAO5I,KAAKspB,oBAAoBtpB,KAAKsiB,YAAa5Q,EAAM9I,EAC1D,EACA8Z,YAAYhR,EAAM9I,EAAQ,MACxB5I,KAAKopB,iBAAiBppB,KAAKyiB,SAAU/Q,EAAM9I,EAC7C,EACA6gB,eAAe/X,GACb1R,KAAKyiB,SAASpP,OAAOrT,KAAKyiB,SAASnT,QAAQoC,GAAO,EACpD,EACAgY,WAAWhY,EAAM9I,EAAQ,MACvB,OAAO5I,KAAKspB,oBAAoBtpB,KAAKyiB,SAAU/Q,EAAM9I,EACvD,EAIAwf,eAAejP,GACb,IAAI3I,EAAI,EAwBR,OAvBI2I,EAAOrY,OACT0P,EAAI2I,EAAOrY,MACPqY,EAAOwQ,WAGTnZ,GAAK2I,EAAOwQ,WAGPxQ,EAAOyQ,SAIZpZ,EADEhD,MAAMsD,QAAQqI,EAAOyQ,SAASjkB,KAC5BwT,EAAOyQ,SAASjkB,IAAIwT,EAAOyQ,SAASjkB,IAAIS,OAAS,GAGjD+S,EAAOyQ,SAASjkB,IAGfwT,EAAO/L,MAGdoD,EAAsB,IAAlB2I,EAAO/L,IAAI8I,MAEV1F,CACT,EAEA,cAAcqZ,GACZ,IAAK,IAAIzb,KAASyb,EACZzb,UACKA,EAEb,EAEA,kBAAkB7F,SACTvI,KAAKujB,UAAUhb,EAAMsR,KAAMtR,EAAMwR,OAC1C,EAEA+P,cAAcxO,GACZ,MAAM9K,EAAIxQ,KAAKumB,mBAAmB7J,IAAIpB,GAItC,OAAO9K,CACT,EACAuZ,eAAe1pB,GACb,MAAMmQ,EAAIxQ,KAAKwmB,oBAAoB9J,IAAIrc,GAIvC,OAHKmQ,GACH5D,QAAQC,IAAK,GAAExM,eAEVmQ,CACT,EAEAwZ,WAAWtY,EAAMhL,GACf,SAAIgL,GACGA,EAAKzN,UAAWyN,EAAKzN,QAAQwP,SAAS/M,EAAI/F,OAInD,EACAspB,aAAavY,EAAMiJ,EAAO,MACxB,SAAI3a,KAAKgqB,WAAWtY,EAAM1R,KAAK2P,KAAKyT,UAAUtiB,QACvC6Z,GAAQjJ,EAAKiJ,MAAQA,EAI9B,EACAuP,gBAAgBxY,EAAMiJ,EAAMwP,GAC1B,SAAIzY,GACGiJ,GAAQjJ,EAAKiJ,MAAQA,KACZ,UAARA,KACMwP,GAAOzY,EAAK0Y,YAAcD,GAM1C,EAEAE,gBACE,IAAIC,EAAYtqB,KAAKsqB,UACjBC,EAAWvqB,KAAKwqB,aACfxqB,KAAKiqB,aAAaK,EAAUG,OAAO3pB,MAAO,QAC7CwpB,EAAUG,OAAO3pB,MAAQ,MACtBd,KAAKiqB,aAAaK,EAAUI,MAAM5pB,MAAO,OAC5CwpB,EAAUI,MAAM5pB,MAAQ,MACrBd,KAAKiqB,aAAaK,EAAUK,OAAO7pB,MAAO,OAC7CwpB,EAAUK,OAAO7pB,MAAQ,MACtBd,KAAKiqB,aAAaK,EAAUM,UAAU9pB,MAAO,WAChDwpB,EAAUM,UAAU9pB,MAAQ,MAEzBd,KAAKkqB,gBAAgBK,EAASM,QAAQ/pB,MAAO,SAAU,OAC1DypB,EAASM,QAAQ/pB,MAAQ,MACtBd,KAAKkqB,gBAAgBK,EAASO,QAAQhqB,MAAO,SAAU,QAC1DypB,EAASO,QAAQhqB,MAAQ,KAC7B,EAGAiqB,kBACmB/qB,KAAK6kB,SAAtB,MAEMmG,EAAgB,SAAUnO,GAC9B,OAAOzM,OAAOC,OAAOwM,GAAKjK,KAAI7F,GAAKA,EAAEjM,OACvC,EACMmqB,EAAe,SAAUpO,GAC7B,OAAOzM,OAAOC,OAAOwM,GAAKjK,KAAI7F,GAAK/M,KAAKmU,gBAAgBpH,IAC1D,EAAEsE,KAAKrR,MACDkrB,EAAc,SAAU/X,GAC5B,IAAI3C,EAAI,GACR,MAAMnH,EAAQ,CAAC,UAAW,SAAU,UACpC,IAAK,MAAMwT,KAAO1J,EAAM,CACtB,IAAI5I,EAAM,GACV,IAAK,MAAMuS,KAAQzT,EACb+G,OAAOoO,OAAO3B,EAAKC,IACrBvS,EAAIuD,KAAK+O,EAAIC,IAGjBtM,EAAE1C,KAAKvD,EACT,CACA,OAAOiG,CACT,EACM2a,EAAiB,SAAUhY,GAC/B,IAAI3C,EAAI,GACR,IAAK,IAAIvF,KAAKkI,OACGiY,GAAXngB,EAAErC,MACJ4H,EAAE1C,KAAK,CAAC7C,EAAEyG,KAAK4J,IAAKrQ,EAAErC,MAAM0S,MAE5B9K,EAAE1C,KAAK7C,EAAEqQ,KAEb,OAAO9K,CACT,EAEA,IAAIA,EAAI,CAAC,EAOT,OANAA,EAAE+Q,QAAUyJ,EAAchrB,KAAKuhB,SAC/B/Q,EAAEG,OAASsa,EAAajrB,KAAK2Q,QAC7BH,EAAEsR,MAAQoJ,EAAYlrB,KAAK8hB,OAC3BtR,EAAE6R,QAAU6I,EAAYlrB,KAAKqiB,SAC7B7R,EAAEiS,SAAW0I,EAAenrB,KAAKyiB,UACjCjS,EAAE8R,YAAc6I,EAAenrB,KAAKsiB,aAC7B9R,CACT,EACA6a,kBAAkBxO,GACC7c,KAAK6kB,SAAtB,MACMiF,EAAgB9pB,KAAK8pB,cAErBkB,EAAgB,SAAU9d,EAAK8Q,GAEnC,GADA9Q,EAAMkD,OAAOC,OAAOnD,GAChB8Q,GAAO9Q,EAAI9G,QAAU4X,EAAI5X,OAC3B,IAAK,IAAI9E,EAAI,EAAGA,EAAI4L,EAAI9G,SAAU9E,SACrB4L,EAAI5L,GAAGR,cAAgBkd,EAAI1c,KACpC4L,EAAI5L,GAAGR,MAAQkd,EAAI1c,GAG3B,EACM2pB,EAAe,SAAU/d,EAAK8Q,GAElC,GADA9Q,EAAMkD,OAAOC,OAAOnD,GAChB8Q,GAAO9Q,EAAI9G,QAAU4X,EAAI5X,OAC3B,IAAK,IAAI9E,EAAI,EAAGA,EAAI4L,EAAI9G,SAAU9E,EAChCtB,KAAKoU,kBAAkBlH,EAAI5L,GAAI0c,EAAI1c,GAGzC,EAAE+P,KAAKrR,MACDkrB,EAAc,SAAUhe,EAAK8Q,GACjC,GAAIA,GAAO9Q,EAAI9G,QAAU4X,EAAI5X,OAC3B,IAAK,IAAI9E,EAAI,EAAGA,EAAI4L,EAAI9G,SAAU9E,EAAG,CACnC,IAAIgqB,EAAIpe,EAAI5L,GACRsV,EAAIoH,EAAI1c,GACZ,MAAM+H,EAAQ,CAAC,UAAW,SAAU,UACpC,IAAK,MAAMyT,KAAQzT,EACb+G,OAAOoO,OAAO8M,EAAGxO,KACnBwO,EAAExO,GAAQlG,EAAE2U,QAGlB,CAEJ,EACMJ,EAAiB,SAAUje,EAAK8Q,GACpC,GAAIA,EAAK,CACP9Q,EAAImG,OAAO,EAAGnG,EAAI9G,QAClB,IAAK,IAAI6E,KAAK+S,EACZ,GAAIxQ,MAAMsD,QAAQ7F,GAAI,CACpB,IAAItI,EAAI,CACN+O,KAAMoY,EAAc7e,EAAE,IACtBrC,MAAOkhB,EAAc7e,EAAE,KAErBtI,EAAE+O,MAAQ/O,EAAEiG,OACdsE,EAAIY,KAAKnL,EACb,KACK,CACH,IAAIA,EAAImnB,EAAc7e,GAClBtI,GACFuK,EAAIY,KAAKnL,EACb,CAEJ,CACA,OAAOuK,CACT,EAEA8d,EAAchrB,KAAKuhB,QAAS1E,EAAI0E,SAChC0J,EAAajrB,KAAK2Q,OAAQkM,EAAIlM,QAC9Bua,EAAYlrB,KAAK8hB,MAAOjF,EAAIiF,OAC5BoJ,EAAYlrB,KAAKqiB,QAASxF,EAAIwF,SAC9B8I,EAAenrB,KAAKyiB,SAAU5F,EAAI4F,UAClC0I,EAAenrB,KAAKsiB,YAAazF,EAAIyF,YACvC,EAEAT,eACE,IAAIjN,EAAS5U,KAAK+qB,kBAGdhW,EAAMpK,OAAO6gB,SAASC,KAAK9e,QAAQ,OAAQ,IAAIA,QAAQ,MAAO,IAClEoI,GAAO,IAEP,IAAI3F,EAAIzE,OAAO6gB,SAASC,KAAKzc,MAAM,SAAU,IAM7C,OALII,IACF2F,GAAO3F,EAAE,GACT2F,GAAO,KAETA,GAAO,KAAO2W,mBAAmBC,KAAKC,UAAUhX,IACzCG,CACT,EACA8W,eAAe9W,GACb,IAAIH,EAAS,CAAC,EAEVM,EAAIH,EAAI/F,MAAM,YAUlB,OATIkG,IACFN,EAAOjS,EAAI+H,SAASwK,EAAE,KAGxBA,EAAIH,EAAI/F,MAAM,aACVkG,IACFN,EAAO7I,EAAI4f,KAAKG,MAAM9W,mBAAmBE,EAAE,MAGtCN,CACT,GAGFzJ,SAAU,CACR4gB,eACE,MAAMC,EAAMhsB,KAAKuhB,QACjB,IAAI/Q,EAAI,CAAC,EACT,IAAK,MAAMtB,KAAK8c,EACdxb,EAAEtB,GAAK8c,EAAI9c,GAAGpO,MAChB,OAAO0P,CACT,GAGFxF,MAAO,CACL2F,OAAQ,CAAEsb,QAAS,WAAcjsB,KAAK2B,aAAe,EAAGuqB,MAAM,GAC9D3K,QAAS,CAAE0K,QAAS,WAAcjsB,KAAK2B,aAAe,EAAGuqB,MAAM,GAC/DpK,MAAO,CAAEmK,QAAS,WAAcjsB,KAAK2B,aAAe,EAAGuqB,MAAM,GAC7D7J,QAAS,CAAE4J,QAAS,WAAcjsB,KAAK2B,aAAe,EAAGuqB,MAAM,GAC/D5J,YAAa,WAActiB,KAAK2B,aAAe,EAC/C8gB,SAAU,WAAcziB,KAAK2B,aAAe,GAG9CwqB,QAAS,WAEHnsB,KAAK2iB,SAAS0B,SAAWrkB,KAAK2iB,SAASC,WACrC5iB,KAAKosB,gBACPpsB,KAAK2iB,SAAS0B,SAAU,EAG9B,GCxOF,IACAhkB,KAAAA,SACAC,WAAAA,CACA+rB,YAAAA,IAEA3N,OAAAA,CAAAA,EAAAA,IAEApV,OACA,OACAka,gBAAAA,GAEA8I,aAAAA,CAAAA,EACAC,QAAAA,GACAC,aAAAA,EAEAvK,WAAAA,CACA,CACA1gB,IAAAA,UACAkE,MAAAA,IAEA,CACAlE,IAAAA,QACAkE,MAAAA,MAEA,CACAlE,IAAAA,QACAkE,MAAAA,MAEA,CACAlE,IAAAA,SACAkE,MAAAA,QAGA+b,aAAAA,CACA,CACAjgB,IAAAA,QACAkE,MAAAA,IAEA,CACAlE,IAAAA,QACAkE,MAAAA,OAIA,EAEA2E,UACA,eACA,mBAEA,oBACA,oBACA,yCACAsO,IAAAA,EAAAA,SAAAA,EAAAA,WACAS,EAAAA,UAAAA,EAAAA,YAAAA,EAAAA,SAKA,aACA,yHACA,SACA5Q,EAAAA,KAAAA,EAAAA,KAAAA,QAAAA,IAAAA,EAAAA,MACA,WACAA,EAAAA,OAAAA,EAAAA,OAAAA,QAAAA,IAAAA,EAAAA,MAGA,oBACA,SACA,kBACA,gBACAwD,EAAAA,YAAAA,EACAA,EAAAA,MAAAA,WAAA,cACAyE,EAAAA,EAAAA,MAAAA,CACA,CACA,QACA,EACA,gBACA,CAAAnQ,KAAAA,YAAAoF,MAAAA,OAAA3E,MAAAA,EAAA4E,IAAAA,EAAAC,IAAAA,IACA,CAAAtF,KAAAA,iBAAAoF,MAAAA,sBAAA3E,MAAAA,EAAA4E,IAAAA,EAAAC,IAAAA,GACA,CAAAtF,KAAAA,oBAAAoF,MAAAA,eAAA3E,OAAAA,GACA,CAAAT,KAAAA,gBAAAoF,MAAAA,cAAA3E,OAAAA,GACA,CAAAT,KAAAA,mBAAAoF,MAAAA,aAAA3E,OAAAA,GACA,CAAAT,KAAAA,sBAAAoF,MAAAA,WAAA3E,OAAAA,GACA,CAAAT,KAAAA,mBAAAoF,MAAAA,cAAA3E,OAAAA,GACA,CAAAT,KAAAA,qBAAAoF,MAAAA,iBAAA3E,OAAAA,GACA,CAAAT,KAAAA,qBAAAoF,MAAAA,aAAA3E,OAAAA,KAGA,6BACA,gBACA,oBACA,6BACA,uBACA,mBACA,OACA2E,MAAAA,EAAAA,MACAyC,SAAAA,EACAukB,OAAAA,EACArK,OAAAA,EACAzK,WAAAA,EACA+O,gBAAAA,EAAAA,IAAAA,GAEA,YACA,iDACA,EACA,aACA,cACA,cACA,EACA1E,QACA,gBACA,aACA,aACA,EAEA,EACA,uBACA,EAEA,kBACA,CAAAvc,MAAAA,QACA,CAAAA,MAAAA,UACA,CAAAA,MAAAA,QACA,CAAAA,MAAAA,QACA,CAAAA,MAAAA,WACA,CAAAA,MAAAA,gBACA,CAAAA,MAAAA,SACA,CAAAA,MAAAA,aACA,CAAAA,MAAAA,aACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,gBACA,CAAAA,MAAAA,eACA,CAAAA,MAAAA,SAAA0c,MAAAA,IACA,CAAA1c,MAAAA,cACA,CAAAA,MAAAA,gBAEA,oBACA,CAAAA,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,SAAA0c,MAAAA,IACA,CAAA1c,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,QAAA0c,MAAAA,IACA,CAAA1c,MAAAA,UACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,gBAGA,wBACA,8BACA,0BACApE,EAAAA,OAAAA,SACA,QACA,EACA0Z,EAAAA,KAAAA,MAAAA,YAAAA,SACAA,EAAAA,KAAAA,MAAAA,YAAAA,SACAA,EAAAA,KAAAA,MAAAA,aAAAA,SACAA,EAAAA,KAAAA,MAAAA,eAAAA,SACAA,EAAAA,KAAAA,MAAAA,aAAAA,UACAA,EAAAA,KAAAA,MAAAA,aAAAA,UACAA,EAAAA,KAAAA,QAAAA,aAAAA,UACAA,EAAAA,KAAAA,QAAAA,aAAAA,SACA,EAEAxR,UACA,EAEA+B,QAAAA,CACAohB,SAAAA,GACA,wCAGA,OAFA,GACA9f,QAAAA,IAAAA,GAAAA,eACA,CACA,EAEAqW,GAAAA,GACA,MACA,YACA,uCACA,2BACA5iB,KAAAA,EAAAA,UACAqR,KAAAA,KAAAA,SAAAA,EAAAA,WACA+R,QAAAA,GAGA,CACA,EAGAkJ,gBAAAA,EAAAA,MACA,SACA,qBAGA,iCAEA,EAEArf,QAAAA,EAAAA,GACA,sBACA,EAEAsf,QAAAA,EAAAA,GACA,WACA,IACA,gBACA,WACA,MACApc,EAAAA,EACAqc,EAAAA,EAEA,CACA,WACA,EAEAC,SAAAA,GAEA,0BACA,sCACA,iCACAC,EAAAA,EAAAA,iBAAAA,CACA5K,MAAAA,EAAAA,MACAC,OAAAA,EAAAA,OACAsE,gBAAAA,EAAAA,iBAGA,cACA,iBADA,MAEA,kBACA,qBAEA,gBACA,qCACA,sCAEA,6BACA,aAEA,cACA,4BACA,SAEA,oBACA,iBACA,mBACA,iCACAsF,EAAAA,mBAAAA,IAGA,4CACAA,EAAAA,gBAAAA,EAAAA,aACAA,EAAAA,mBAAAA,EAEA,EACA,cACA,kDAEA,mDAGA,EAEA,cACA,iCACA,mFACA,KACA,QACA,CACA,WACA,aAGA,cACA,QACA,SACA,eACA,wBACA,yCACA,2BACA,WACA,QACA,MAIA,yCACA,2BACA,WACA,QACA,CAEA,QACA,aAEA,4DACA,4DACA,iCACA,gCACA,iCACA,qCAEA,eACA,WACAtlB,EAAAA,OAAAA,EAAAA,kBAAAA,EAAAA,OAAAA,OAAAA,EAAAA,YAIA,yBACA,WACA,GACAsmB,YAAAA,IAAAA,WAAAA,EAAAA,EAAAA,YAAAA,EAAAA,iBACAC,UAAAA,EAAAA,IAAAA,EAAAA,WAAAA,IAAAA,MAAAA,EAAAA,WACAC,WAAAA,KAAAA,gBAAAA,EAAAA,EAAAA,WAAAA,MAEA1D,cAAAA,EACA2D,YAAAA,SAAAA,EAAAA,EAAAA,MACA,4CACA,EACAC,WAAAA,SAAAA,GACA,SACA,+BACA,EAEAhF,eAAAA,GACA,2BACA,YACA,4CACA,eAEA,4CACA,0BACA,KAKA,OAJA,0BACAiF,GAAAA,EACApiB,EAAAA,EAAAA,MAAAA,GAEA,OACA,CACA,WACA,EACAqiB,cAAAA,GACA,iBACA,yDACA,cACA,8BAEA,EAEAC,aAAAA,EAAAA,EAAAA,MACA,qCACA,SACA,QACA,sCACA,6BACA,IACAC,GAAAA,EAAAA,IAAAA,GAAAA,EAAAA,GAAAA,QACA,CACA,aACA,kBACA,qCACAA,GAAAA,KAAAA,aAAAA,EACA,CAIA,OAFA,MACA,mBACA,CACA,EACAC,WAAAA,GACA,QACAD,GAAAA,KAAAA,aAAAA,EAAAA,OAAAA,GACA,wBACAA,GAAAA,KAAAA,aAAAA,EAAAA,GAEA,aACA,uBACA,gBACA,gEACA,EAGA,aACA,cACA,qDACA,aAGA,KACAA,GAAAA,EAAAA,GAAAA,EACAA,GAAAA,EAAAA,GAAAA,EACAA,GAAAA,EAAAA,GAAAA,EACAA,GAAAA,EAAAA,GAAAA,CACA,CAKA,OAFA,MACA,mBACA,CACA,EAEAE,eAAAA,EAAAA,GACA1J,EAAAA,EAAAA,QAAAA,GAAAA,KAAAA,YAAAA,KACA,4GACA,mBACA,2BACA,uDACAxT,EAAAA,OAAAA,EAAAA,EAAAA,GACA,KACA,CAEA,QACA,GAGA,QACA,aAEA,gBACA,qBACA,YAEA,WACA,KACA,KAEA,sBACA,8BACA,SAEA,OACAjI,MAAAA,EACAilB,MAAAA,EACA/E,YAAAA,GACAC,kBAAAA,IAGA,IACA,sCAEAiF,GAAAA,KAGA,yCACA,4BACA,MACA,SACA,eAEA,wBACA,MACA,gBACAH,GAAAA,KAAAA,IAAAA,KAAAA,IAAAA,EAAAA,GAAAA,GAAAA,IACAhd,EAAAA,OAAAA,EACAA,EAAAA,YAAAA,KAAAA,IAGAA,EAAAA,kBAAAA,KAAAA,EAEA,CAEA,aACA,WACA,cACAA,EAAAA,OAAAA,CACA4S,UAAAA,EACA9a,OAAAA,IAEA,sCACA,eACA,YACAkI,EAAAA,OAAAA,EAAAA,MACAA,EAAAA,YAAAA,EAAAA,YAAAA,OAAAA,EAAAA,aACAA,EAAAA,kBAAAA,EAAAA,kBAAAA,OAAAA,EAAAA,mBACAA,EAAAA,OAAAA,OAAAA,KAAAA,GACAod,EAAAA,cAAAA,EAAAA,aAEA,CACA,CACA,QACA,aAEA,gBACA,6DACA,iBACA,yCACA,SAGA,OADAC,EAAAA,KAAAA,GACA,yBACA,KACA,IACA,aAEA,kBACA,SACA,kBACA,iCACA,SAEA,eACA,cACA,wBACA,SACAA,EAAAA,KAAAA,EACA,CACA,CACA,eACA,YAEA,mBACA,QACA,aAGA,OAAAzK,UAAAA,GACA,IACA,KACA,OACA,OACA,OAEA,oBACAoK,GAAAA,EAAAA,MACA/E,EAAAA,EAAAA,OAAAA,EAAAA,aACAC,EAAAA,EAAAA,OAAAA,EAAAA,mBACAoF,EAAAA,cAAAA,EAAAA,YACA,EAEA,aACAC,EAAAA,GACA,uBACA,aACA,IACAA,EAAAA,KAAAA,GACAC,EAAAA,GAEA,CACAnL,EAAAA,cAAAA,CACA,CAEA,aACA,oBACA,YACAoL,EAAAA,KAAAA,GACAD,EAAAA,GAEA,CACA,aACA,oBACA,KACA,qBACA,iCACA,MACA,MAEAE,EAAAA,OAAAA,EAAAA,QAAAA,EAAAA,OAAAA,GACAD,EAAAA,KAAAA,GACAD,EAAAA,GACA,WACAG,EAAAA,EAAAA,QACA,0CACA,CACA,CACA,CAiBA,OAfA,WACAtL,EAAAA,eAAAA,EAAAA,EAAAA,cACAA,EAAAA,UAAAA,GAGAA,EAAAA,MAAAA,EACAA,EAAAA,OAAAA,EAAAA,KAAAA,GAAAA,EAAAA,QACA,IACAA,EAAAA,WAAAA,EAAAA,KAAAA,GAAAA,EAAAA,SACA,IACAA,EAAAA,OAAAA,GACA,IACAA,EAAAA,QAAAA,GACAA,EAAAA,YAAAA,EACAA,EAAAA,kBAAAA,EACA,CACA,aAGA,QACA,IACA,KAEA,wBACA,EAEA,gBACA,aACA,YAGA,aACA,kBAHAuL,GAAAA,GASA,IACAC,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,WACAC,EAAAA,IAGA,EAEA,yBACA,8BACA,wBACA,cACA,OACA,WACA,OAGA,wBACA,uDACA,OACA,EACAC,EAAAA,CAAAA,GAEA,cACAA,EAAAA,CAAAA,OAGA,gBACA,WACA,IACA,IACAZ,EAAAA,cAAAA,EAAAA,aACAa,EAAAA,EAAAA,OAGA,4BACA,4CACA,gCACA,OACA,WACA,IACAC,EAAAA,CAAAA,IAGA,gBACA,WACA,8BACA,GACAlB,MAAAA,EAAAA,EAAAA,MAAAA,EACApW,WAAAA,EAAAA,EAAAA,WAAAA,EACAqR,YAAAA,GACAC,kBAAAA,GACAiG,SAAAA,IAEAC,EAAAA,KAAAA,GAEA,oBACApe,EAAAA,OAAAA,EAAAA,MACAA,EAAAA,YAAAA,EAAAA,OAAAA,OACA,eACAA,EAAAA,YAAAA,EAAAA,WAAAA,QACA,sBACAA,EAAAA,YAAAA,OAAAA,EAAAA,YAAAA,OAAAA,KAAAA,EAAAA,aACA,4BACAA,EAAAA,kBAAAA,OAAAA,EAAAA,kBAAAA,OAAAA,KAAAA,EAAAA,kBACA,EACA,IACAwd,EAAAA,GACAxd,EAAAA,QAAAA,GAGAwd,EAAAA,GACAa,EAAAA,cAAAA,EAAAA,aACAre,EAAAA,KAAAA,EACA,WACAA,EAAAA,OAAAA,EAAAA,QAEA,wCACA,MACAqe,EAAAA,WAAAA,EAAAA,WACA,qDACAA,EAAAA,WAAAA,EACA,CAGA,UACA,eACAC,EAAAA,EAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GAEA,sBACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAA,GACA,MAEAA,EAAAA,EAAAA,EAAAA,GAAAA,IAAAA,IAAAA,EAAAA,IAEA,CACA,CAEA,aAEA,UACA,KAGA,OAFAD,EAAAA,EAAAA,GAEA,CACA,EAEA1C,cACA,2BAEA,mBACA,iEACA,0BACA,aAEA4C,WAAAA,EAAAA,IACA,EAEArtB,cACA,kBACA,EAEAstB,UAAAA,GACA,wBACA,eACAzb,EAAAA,SAAAA,EACA,KACA,CAEA,EACA0b,YAAAA,GACA,0BACA,eACA1b,EAAAA,SAAAA,EACA,KACA,CAEA,EAEA2b,YACA,wBACA3b,EAAAA,SAAAA,EAEA,0BACAA,EAAAA,SAAAA,CAEA,EACAiO,aACA,oGACA,kBAEA,sCACA,mBAEA,EACAC,aACA,sFACA,kBAEA,sCACA,mBAEA,EACAC,aACA,+CACA,kBAEA,+BACA,mBAEA,EACAC,aACA,6CACA,kBAEA,+BACA,mBAEA,GAGAzW,SAAAA,CACA4gB,eACA,qBACA,SACA,iBACAvb,EAAAA,GAAAA,EAAAA,GAAAA,MACA,QACA,EACA4e,iBACA,mFACA,ICvtCgR,MCQ5Q,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCnB5BtvB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,eAAeuB,YAAY,CAAC,YAAY,WAAW,CAAC9B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,UAAU3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQiQ,OAAOC,OAAOtQ,EAAIwhB,SAAS,OAASxhB,EAAIyhB,cAAcL,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAAC8B,YAAY,CAAC,cAAc,SAAS,CAAiB,WAAfyO,EAAEkB,KAAK5L,KAAmB7F,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAK5Q,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAASzQ,EAAI,EAAEC,WAAW,kBAAkBnB,EAAIqD,KAAqB,UAAfoN,EAAEkB,KAAK5L,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAMqQ,EAAEkB,KAAKhM,IAAI,IAAM8K,EAAEkB,KAAK/L,IAAI,KAAO,KAAK,KAAO,SAAS,KAAO,IAAI9E,MAAM,CAACC,MAAO0P,EAAEkB,KAAK5Q,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,QAAS3R,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,kBAAkBnB,EAAIqD,MAAM,KAAK,GAAG,CAAC7B,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,MAAM,CAACE,MAAM,CAAC,GAAM,QAAOqQ,EAAEkB,KAAKrR,SAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,UAAU,QAAQ,GAAGxF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,sBAAsBJ,EAAIoB,GAAIpB,EAAI4Q,OAAOhQ,OAAO,SAASU,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,KAAKrB,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,uBAAuBJ,EAAIoB,GAAIpB,EAAI4Q,OAAO3J,QAAQ,SAAS3F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIqE,QAAQ9C,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,4BAA4BJ,EAAIoB,GAAIpB,EAAI4Q,OAAOzJ,YAAY,SAAS7F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIyE,YAAYlD,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,GAAGrB,EAAG,MAAM,CAACO,YAAY,yBAAyB,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,wBAAwBJ,EAAIoB,GAAIpB,EAAI4Q,OAAO1J,QAAQ,SAAS5F,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIuE,SAAShD,IAAI,MAAQ,WAAW,EAAE,IAAG,IAAI,OAAOrB,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI0hB,YAAY,IAAI,CAAC1hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2hB,YAAY,IAAI,CAAC3hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI4hB,YAAY,IAAI,CAAC5hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI6hB,YAAY,IAAI,CAAC7hB,EAAI6B,GAAG,SAAS3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,eAAe,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIovB,WAAW,IAAI,CAACpvB,EAAI6B,GAAG,SAAS,KAAK3B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,eAAeM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIsU,gBAAgBtU,EAAI8hB,eAAe,IAAI,CAAC9hB,EAAI6B,GAAG,uBAAuB3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,aAAa,UAAY,MAAM,eAAe,gBAAgB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,MAAMF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI8hB,gBAAgB,QAAQ,QAAQ,GAAG5hB,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,QAAQ3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI+hB,MAAMC,SAAQhV,GAAKA,EAAEiV,SAAQ,IAAI,CAACjiB,EAAI6B,GAAG,WAAW,KAAK3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQJ,EAAI+hB,MAAM,OAAS/hB,EAAIkiB,YAAYd,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,gBAAgB8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAKxJ,QAASlH,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,UAAWzQ,EAAI,EAAEC,WAAW,oBAAoB,GAAG,CAACK,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,OAAO,KAAK,QAAQ,IAAI,GAAGxF,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,cAAc,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,SAAS3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIsiB,QAAQN,SAAQhV,GAAKA,EAAEiV,SAAQ,IAAI,CAACjiB,EAAI6B,GAAG,WAAW,KAAK3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,MAAQ,GAAG,MAAQJ,EAAIsiB,QAAQ,OAAStiB,EAAIkiB,YAAYd,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,gBAAgB8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,kBAAkB,CAACY,MAAM,CAACC,MAAO0P,EAAEkB,KAAKxJ,QAASlH,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK8O,EAAEkB,KAAM,UAAWzQ,EAAI,EAAEC,WAAW,oBAAoB,GAAG,CAACK,IAAI,cAAc8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG2O,EAAEkB,KAAKjM,OAAO,KAAK,QAAQ,IAAI,GAAGxF,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,WAAW3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAAC8B,YAAY,CAAC,cAAc,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIuiB,YAAY,EAAE,IAAI,CAACviB,EAAI6B,GAAG,UAAU,KAAK3B,EAAG,MAAM,CAACO,YAAY,oBAAoBT,EAAIoB,GAAIpB,EAAIuiB,aAAa,SAASrX,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIuiB,YAAYjP,OAAOtT,EAAIuiB,YAAYhT,QAAQrE,GAAI,EAAE,IAAI,CAAGA,EAAErC,MAAmI7I,EAAIqD,KAAhInD,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ8K,EAAE5K,OAAO,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAa4K,EAAErC,MAAO3I,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQ5B,MAAM,CAAC,MAAQ8K,EAAErC,MAAMvI,KAAO,MAAQ4K,EAAEyG,KAAKrR,OAAO,CAACJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,MAAM,IAAM,OAAO5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAErC,MAAMjC,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,QAAQJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,QAAQ,IAAM,QAAQ5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEyG,KAAK/K,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAGN,EAAIqD,MAAM,IAAG,KAAKnD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,WAAW3B,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,WAAW,CAAC8B,YAAY,CAAC,cAAc,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI0iB,SAAS,EAAE,IAAI,CAAC1iB,EAAI6B,GAAG,UAAU,KAAK3B,EAAG,MAAM,CAACO,YAAY,oBAAoBT,EAAIoB,GAAIpB,EAAI0iB,UAAU,SAASxX,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI0iB,SAASpP,OAAOtT,EAAI0iB,SAASnT,QAAQrE,GAAI,EAAE,IAAI,CAAGA,EAAErC,MAAmI7I,EAAIqD,KAAhInD,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ8K,EAAE5K,OAAO,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAa4K,EAAErC,MAAO3I,EAAG,MAAM,CAAC8B,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQ5B,MAAM,CAAC,MAAQ8K,EAAErC,MAAMvI,KAAO,MAAQ4K,EAAEyG,KAAKrR,OAAO,CAACJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,MAAM,IAAM,OAAO5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAErC,MAAMjC,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,QAAQJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,SAAW,WAAW,KAAO,QAAQ,IAAM,QAAQ5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEyG,KAAK/K,MAAM,MAAQsE,EAAE5K,KAAK,MAAQ,SAAS,GAAGN,EAAIqD,MAAM,IAAG,QAAQ,KAAKnD,EAAG,MAAM,CAACO,YAAY,UAAUyF,MAAOlG,EAAIkG,OAAQ,CAAGlG,EAAI4iB,SAASC,UAAiK7iB,EAAIqD,KAA1JnD,EAAG,MAAM,CAACO,YAAY,aAAauB,YAAY,CAAC,QAAU,OAAO,SAAW,aAAa,CAAC9B,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,eAAe,GAA2C,GAA9BJ,EAAI4iB,SAASE,OAAOzc,OAAanG,EAAG,MAAM,CAACO,YAAY,aAAauB,YAAY,CAAC,QAAU,SAAS,CAAChC,EAAI+D,GAAG,KAAK/D,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI4iB,SAASE,QAAQ,SAASrS,EAAE0S,GAAI,MAAO,CAACjjB,EAAG,MAAM,CAACsB,IAAI2hB,EAAG1iB,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,MAAM7B,EAAI8B,GAAG2O,EAAEgd,OAAO,SAASztB,EAAIoB,GAAIpB,EAAIojB,iBAAiB3S,IAAI,SAASgD,EAAEuP,GAAI,MAAO,CAAC9iB,EAAG,MAAM,CAACsB,IAAIwhB,EAAG9f,SAAS,CAAC,UAAYlD,EAAI8B,GAAG2R,MAAM,KAAI,GAAGvT,EAAG,MAAM,CAACO,YAAY,QAAQ,CAAEgQ,EAAEb,KAAM1P,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUzc,MAAM,MAAQ6J,EAAEb,KAAKyT,UAAU/iB,KAAK,GAAK,gBAAgB6iB,EAAG,MAAQ,MAAM,QAAU,MAAOnjB,EAAI8E,aAAa,EAAG5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,gBAAgB+iB,EAAG,MAAQ1S,EAAEb,KAAKyT,UAAU/iB,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAACtD,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUziB,OAAO,MAAQ,OAAO6P,EAAEb,KAAKyT,UAAUziB,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUpc,QAAQ,MAAQ,QAAQwJ,EAAEb,KAAKyT,UAAUpc,OAAO,OAAS,QAAQ/G,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUnc,QAAQ,MAAQ,SAASuJ,EAAEb,KAAKyT,UAAUnc,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAEb,KAAKyT,UAAUlc,YAAY,MAAQ,SAASsJ,EAAEb,KAAKyT,UAAUlc,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAUjc,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAUhc,UAAU,GAAGnH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG2O,EAAEb,KAAKyT,UAAU/b,YAAY,GAAGpH,EAAG,MAAM,CAACO,YAAY,eAAeT,EAAIoB,GAAIqP,EAAEb,KAAKyT,UAAU9a,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,SAAS,CAACsB,IAAIiH,EAAG/H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAM,IAAI,CAACtI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,SAAS,EAAE,IAAG,KAAKN,EAAIqD,MAAM,GAAGrD,EAAIqD,KAAMoN,EAAEb,KAAM1P,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIqP,EAAEb,KAAKrH,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,KAAK,GAAK,aAAa6iB,EAAG,IAAI1a,KAAMvI,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,aAAa+iB,EAAG,IAAI1a,EAAG,MAAQD,EAAMlI,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAAEgF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe5Z,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,SAAS,EAAE,KAAI,GAAGN,EAAIqD,KAAOmF,EAAM8T,SAAgpBtc,EAAIqD,KAA1oBnD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAeja,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,GAAG3B,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAM,IAAI,CAACxI,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2iB,YAAYna,EAAOiI,EAAEb,KAAKyT,UAAU,IAAI,CAACrjB,EAAI6B,GAAG,yBAAyB,QAAiB,GAAG3B,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,GAAO,OAAWA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc9a,EAAOiI,EAAEb,iBAAiB,IAAG,KAAK5P,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,QAAQ,CAAEgQ,EAAExH,OAAQ/I,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwM,EAAExH,OAAOoa,UAAUzc,MAAM,MAAS,GAAE6J,EAAExH,OAAOoa,UAAU/iB,gBAAgB,GAAK,gBAAgB6iB,EAAG,MAAQ,MAAM,QAAU,OAAO,GAAGnjB,EAAIqD,KAAMoN,EAAExH,OAAQ/I,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIqP,EAAExH,OAAOV,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ4B,EAAMlI,KAAK,MAAQ,KAAK,GAAK,aAAa6iB,EAAG,IAAI1a,KAAMvI,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,aAAa+iB,EAAG,IAAI1a,EAAG,MAAQD,EAAMlI,KAAK,SAAW,mBAAmB,MAAQ,CAACiD,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,QAAQ,CAAEgF,EAAMI,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIoH,EAAMI,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,SAAS,CAACsB,IAAIsH,EAAGpI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIyiB,eAAe5Z,EAAM,IAAI,CAAC3I,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQiC,EAAMvI,KAAK,MAAQ,KAAK,OAAS,SAAS,EAAE,KAAI,GAAGN,EAAIqD,QAAQ,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,GAAO,OAAWA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,KAAKnD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIsjB,cAAc9a,EAAOiI,EAAEb,iBAAiB,IAAG,KAAK5P,EAAIqD,SAAS,KAAI,IAChuc,EACIhD,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,QAAQ,CAAChC,EAAI6B,GAAG,YAAY7B,EAAI6B,GAAG,mDAAmD3B,EAAG,MAAMF,EAAI6B,GAAG,0BAA0B3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,6BAA6B3B,EAAG,MAAMF,EAAI6B,GAAG,4DACnV,GCsSA,IACAvB,KAAAA,mBACAC,WAAAA,CACA,EACA+I,MAAAA,CACA,EACAqV,OAAAA,CAAAA,EAAAA,IAEApV,OACA,OACA2Y,WAAAA,CACA,CACA1gB,IAAAA,UACAkE,MAAAA,IAEA,CACAlE,IAAAA,QACAkE,MAAAA,OAGA+b,aAAAA,CACA,CACAjgB,IAAAA,QACAkE,MAAAA,IAEA,CACAlE,IAAAA,QACAkE,MAAAA,OAIA,EAEA2E,UACA,eACA,mBACA,yEACA,gCAGA,oBACA,SACA,kBACA,gBACA2B,EAAAA,YAAAA,EACAA,EAAAA,MAAAA,WAAA,cACAyE,EAAAA,EAAAA,MAAAA,CACA,CACA,QACA,EACA,gBACA,CAAAnQ,KAAAA,YAAAoF,MAAAA,QAAA3E,MAAAA,GAAA4E,IAAAA,EAAAC,IAAAA,KACA,CAAAtF,KAAAA,iBAAAoF,MAAAA,sBAAA3E,MAAAA,EAAA4E,IAAAA,EAAAC,IAAAA,GACA,CAAAtF,KAAAA,cAAAoF,MAAAA,WAAA3E,OAAAA,GACA,CAAAT,KAAAA,eAAAoF,MAAAA,cAAA3E,OAAAA,GACA,CAAAT,KAAAA,cAAAoF,MAAAA,eAAA3E,OAAAA,GACA,CAAAT,KAAAA,oBAAAoF,MAAAA,eAAA3E,OAAAA,GACA,CAAAT,KAAAA,gBAAAoF,MAAAA,cAAA3E,OAAAA,GACA,CAAAT,KAAAA,mBAAAoF,MAAAA,aAAA3E,OAAAA,GACA,CAAAT,KAAAA,mBAAAoF,MAAAA,iBAAA3E,OAAAA,KAGA,sBACA,oBACA,OACA2E,MAAAA,EAAAA,MACAyC,SAAAA,EAEA8Z,QACA,eACA,EAEA,EACA,uBACA,EACA,kBACA,CAAAvc,MAAAA,QACA,CAAAA,MAAAA,UACA,CAAAA,MAAAA,QACA,CAAAA,MAAAA,QACA,CAAAA,MAAAA,WACA,CAAAA,MAAAA,gBACA,CAAAA,MAAAA,SACA,CAAAA,MAAAA,aACA,CAAAA,MAAAA,aACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,gBACA,CAAAA,MAAAA,eACA,CAAAA,MAAAA,UACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,QACA,CAAAA,MAAAA,QAEA,oBACA,CAAAA,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,SAAA0c,MAAAA,IACA,CAAA1c,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,OAAA0c,MAAAA,IACA,CAAA1c,MAAAA,QAAA0c,MAAAA,IACA,CAAA1c,MAAAA,UACA,CAAAA,MAAAA,cACA,CAAAA,MAAAA,eAEA,EAEA8D,UACA,EAEA+B,QAAAA,CACAwhB,WACA,WACA,0BACA,sDACA,wDACA,2BACA,WACApmB,EAAAA,OAAAA,EAAAA,kBAAAA,EAAAA,OAAAA,OAAAA,EAAAA,YAIA,OACAsb,QACA,mBACA,oBACA,0BACA,gDACA,GAGA,sBACA,OACAwL,MAAAA,EACAlL,YAAAA,KAAAA,cAAAA,EAAAA,GAAAA,EAAAA,EACAG,SAAAA,KAAAA,WAAAA,EAAAA,GAAAA,EAAAA,EACAla,MAAAA,EACAkgB,YAAAA,GACAC,kBAAAA,IAEA,gBACA,4BACA,8BACA,2BACAngB,EAAAA,WAAAA,EAAAA,aAAAA,EAAAA,aAAAA,EAAAA,eAEA,SAGA,oBACA,kCACAA,EAAAA,WAAAA,EAAAA,SACA,OAEA,oBACA,iBACA,wCACA,wBACA,8DAGA,EAEA,UACA,sBACA,oBAEA,OAGA,0CACAiI,EAAAA,kBAAAA,KAAAA,IAGAA,EAAAA,OAAAA,KAAAA,eAAAA,GACAA,EAAAA,YAAAA,KAAAA,KAIA,YACA,wBACA,oBAEA,OAGA,0CACAA,EAAAA,kBAAAA,KAAAA,IAGAA,EAAAA,OAAAA,KAAAA,eAAAA,GACAA,EAAAA,YAAAA,KAAAA,KAIA,QACA,aAEA,SACA,8BACA,+BACA,SAEA0X,EAAAA,QACA,SAEA,oBACAmH,EAAAA,KAAAA,GACA,6BACA,aACAnH,EAAAA,UAAAA,IAAAA,EAAAA,WAAAA,GAGAA,EAAAA,YAAAA,EAAAA,YAAAA,OAAAA,EAAAA,aACAA,EAAAA,kBAAAA,EAAAA,kBAAAA,OAAAA,EAAAA,mBACA,0CACA,aACA,EAEAoH,EAAAA,EAAAA,EAAAA,EAAAA,SACA,oBACA,qBAEA,yBACA/kB,EAAAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,QAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,YAAAA,EAAAA,cACA+kB,EAAAA,EAAAA,IACAhnB,EAAAA,OAAAA,EAAAA,QAAAA,EAAAA,GAAAA,OAAAA,EACA,CACA+mB,EAAAA,EAAAA,QAAAA,GAAAA,EAAAA,MAAAA,GAAAA,EAAAA,cAEA,OACAhvB,KAAAA,EAAAA,KACAmtB,MAAAA,EACA7d,KAAAA,CACAyT,UAAAA,EACAqF,YAAAA,EAAAA,YACAC,kBAAAA,EAAAA,kBACApgB,OAAAA,EAAAA,KAAAA,GAAAA,EAAAA,UAGAklB,EAAAA,MAAAA,EAAAA,QAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,OAAAA,GACA+B,EAAAA,KAAAA,EACA,CAEA,mFACA,EAEAnD,cACA,4BAEA,OADA,iBACA,EAGA,2BACA,mBACA,iEACA,0BACA,aAEA,OADA4C,WAAAA,EAAAA,MACA,CACA,EAEArtB,cACA,kBACA,EAGAstB,UAAAA,GACA,wBACA,eACAzb,EAAAA,SAAAA,EACA,KACA,CAEA,EACA0b,YAAAA,GACA,0BACA,eACA1b,EAAAA,SAAAA,EACA,KACA,CAEA,EAEA2b,YACA,wBACA3b,EAAAA,SAAAA,EAEA,0BACAA,EAAAA,SAAAA,CAEA,EACAiO,aACA,oGACA,kBAEA,sCACA,mBAEA,EACAC,aACA,sFACA,kBAEA,sCACA,mBAEA,EACAC,aACA,sDACA,kBAEA,+BACA,mBAEA,EACAC,aACA,oDACA,kBAEA,+BACA,mBAEA,IC3mByQ,MCQrQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCehC,IACAvhB,KAAAA,SACAC,WAAAA,CACAme,WAAAA,EACA+Q,wBAAAA,GACAC,iBAAAA,IAEA/Q,OAAAA,CAAAA,EAAAA,IAEApV,OACA,OACA4X,SAAAA,EAEA,EAEA9W,UACAqB,SAAAA,MAAAA,kBACA,EAEAlC,UACA,mBACA,2BACA,wBACA,iBACA,2BACA,uBACA,GACA,GACA,aAEAmmB,IACA/kB,OAAAA,WAAAA,CACA,EAEAW,QAAAA,CACAmV,YACA,kDASA,GAPA,qBACA,kBAGA,gBAGA,sBACA,yDACA1I,EAAAA,kBAAAA,EAAAA,EACA,CACA,EACAjM,YACA,yBACA,SAEA,4BACA,yBACAnB,OAAAA,QAAAA,UAAAA,KAAAA,KAAAA,GACA,gBACA,EAGA,GAGAK,MAAAA,CACAkW,SAAAA,WACA,gBACA,ICrGsP,MCQlP,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCnB5BphB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,eAAe,GAAGA,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,QAAQkE,MAAOlG,EAAIkG,OAAQ,CAAChG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACT,EAAI+D,GAAG,GAAG/D,EAAI+D,GAAG,GAAG/D,EAAI+D,GAAG,GAAG7D,EAAG,IAAI,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,iCAAiC,OAAS,WAAW,CAACJ,EAAI6B,GAAG,YAAY7B,EAAI6B,GAAG,wCAAwC3B,EAAG,MAAMF,EAAI6B,GAAG,wDAAwD3B,EAAG,MAAMA,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,YAAY,GAAK,aAAa,CAACJ,EAAI6B,GAAG,iBAAiB3B,EAAG,OAAO,GAAGA,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,WAAW,UAAY,SAAS,eAAe,UAAU,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,OAAS,MAAM,IAAM,0GAA0GJ,EAAI+D,GAAG,GAAG7D,EAAG,IAAI,CAACF,EAAI6B,GAAG,kCAAkC3B,EAAG,MAAMF,EAAI+D,GAAG,GAAG7D,EAAG,MAAMF,EAAI6B,GAAG,cAAc3B,EAAG,MAAMA,EAAG,IAAI,CAACF,EAAI6B,GAAG,wDAAwD3B,EAAG,MAAMF,EAAI6B,GAAG,mBAAmB3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,gCAAgC3B,EAAG,MAAMF,EAAI6B,GAAG,iDAAiD3B,EAAG,MAAMF,EAAI6B,GAAG,2CAA2C3B,EAAG,MAAMF,EAAI6B,GAAG,iDAAiD3B,EAAG,MAAMF,EAAI6B,GAAG,2DAA2D3B,EAAG,MAAMF,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAI4vB,yBAAyB,SAASpnB,EAAMC,GAAI,OAAOvI,EAAG,OAAO,CAACsB,IAAK,OAAMiH,IAAKzG,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,GAAG5gB,UAAS,GAAM,CAACtC,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,UAAU,EAAE,IAAGJ,EAAG,MAAMF,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAI6vB,wBAAwB,SAASrnB,EAAMC,GAAI,OAAOvI,EAAG,OAAO,CAACsB,IAAK,OAAMiH,IAAKzG,YAAY,CAAC,OAAS,QAAQ,CAAC9B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,GAAG5gB,UAAS,GAAM,CAACtC,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,UAAU,EAAE,IAAGJ,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,oCAAoC3B,EAAG,MAAMF,EAAI6B,GAAG,oDAAoD3B,EAAG,MAAMF,EAAI6B,GAAG,uCAAuC3B,EAAG,MAAMF,EAAI6B,GAAG,kDAAkD3B,EAAG,MAAMF,EAAI6B,GAAG,qDAAqD3B,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,QAAQ3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,gBAAgB7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,iBAAiB7B,EAAI6B,GAAG,sBAAsB,GAAG3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,QAAQ3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,UAAU7B,EAAI6B,GAAG,6CAA6C,KAAK3B,EAAG,IAAI,CAACF,EAAI6B,GAAG,+DAA+D3B,EAAG,MAAMF,EAAI6B,GAAG,oDAAoD3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,iCAAiC3B,EAAG,MAAMF,EAAI6B,GAAG,uEAAuE3B,EAAG,MAAMF,EAAI6B,GAAG,6CAA6C3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,2EAA2E3B,EAAG,MAAMF,EAAI6B,GAAG,yDAAyD3B,EAAG,OAAO,GAAGF,EAAI+D,GAAG,GAAG7D,EAAG,IAAI,CAACF,EAAI6B,GAAG,oDAAoD3B,EAAG,MAAMA,EAAG,IAAI,CAACF,EAAI6B,GAAG,6BAA6B7B,EAAI6B,GAAG,6BAA6B3B,EAAG,MAAMF,EAAI6B,GAAG,uCAAuC3B,EAAG,MAAMA,EAAG,UAAU,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAK0qB,gBAAgB1O,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,YAAY8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,WAAW7B,EAAI8B,GAAG2O,EAAEsf,MAAM,KAAK,GAAG,CAACvuB,IAAI,SAAS8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgwB,UAAUvf,EAAE1P,WAAW,OAAOb,EAAG,MAAMF,EAAI6B,GAAG,oCAAoC3B,EAAG,MAAMF,EAAI6B,GAAG,oDAAoD3B,EAAG,MAAMF,EAAI6B,GAAG,oEAAoE3B,EAAG,MAAMF,EAAI6B,GAAG,QAAQ3B,EAAG,IAAI,CAACF,EAAI6B,GAAG,iDAAiD7B,EAAI6B,GAAG,YAAY3B,EAAG,UAAU,CAACE,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAK6qB,eAAe7O,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,YAAY8f,GAAG,SAAS7Q,GAAG,MAAO,CAACzQ,EAAI6B,GAAG,WAAW7B,EAAI8B,GAAG2O,EAAEsf,MAAM,KAAK,GAAG,CAACvuB,IAAI,SAAS8f,GAAG,SAAS7Q,GAAG,MAAO,CAACvQ,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgwB,UAAUvf,EAAE1P,WAAW,QAAQ,GAAGf,EAAI+D,GAAG,GAAG7D,EAAG,IAAI,CAACF,EAAI6B,GAAG,wCAAwC3B,EAAG,MAAMF,EAAI6B,GAAG,wCAAwC3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,6BAA6B3B,EAAG,MAAMF,EAAI6B,GAAG,2BAA2B7B,EAAI+D,GAAG,GAAG7D,EAAG,MAAMF,EAAI6B,GAAG,6BAA6B3B,EAAG,MAAMF,EAAI6B,GAAG,uDAAuD3B,EAAG,MAAMF,EAAI+D,GAAG,GAAG7D,EAAG,MAAMF,EAAI6B,GAAG,4DAA4D3B,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,qBAAqB3B,EAAG,MAAMA,EAAG,MAAMA,EAAG,IAAI,CAACF,EAAI6B,GAAG,6BAA6B7B,EAAI6B,GAAG,iBAAiB3B,EAAG,MAAMF,EAAI6B,GAAG,0CAA0C3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,OAAO3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,sBAAsB3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,sBAAsB,GAAG3B,EAAG,MAAMF,EAAI6B,GAAG,0DAA0D3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,YAAY3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,UAAU3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,kBAAkB7B,EAAI6B,GAAG,uCAAuC3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACP,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,iEAAiE,GAAG3B,EAAG,OAAO,GAAGF,EAAI+D,GAAG,GAAG7D,EAAG,mBAAmBA,EAAG,IAAI,CAACF,EAAI6B,GAAG,gCAAgC3B,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,4FAA4F3B,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,2BAA2B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,yEAAyE7B,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI7D,EAAG,KAAK,CAACF,EAAI6B,GAAG,mDAAmD7B,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI7D,EAAG,KAAK,CAACF,EAAI6B,GAAG,2BAA2B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,yCAAyC3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,uBAAuB3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,kDAAkD3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,gBAAgB3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,KAAK3B,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,WAAW7B,EAAI6B,GAAG,gCAAgC,SAAS7B,EAAI+D,GAAG,IAAI7D,EAAG,KAAK,CAACF,EAAI6B,GAAG,yDAAyD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,8CAA8C3B,EAAG,KAAK,CAACA,EAAG,SAAS,CAACmC,IAAIrC,EAAIkjB,IAAI,CAACljB,EAAI6B,GAAG,aAAa7B,EAAI6B,GAAG,iCAAiC,OAAO3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,qEAAqE7B,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,QAAQ/D,EAAI+D,GAAG,IAAI7D,EAAG,mBAAmBA,EAAG,IAAI,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,wDAAwD3B,EAAG,MAAMF,EAAI6B,GAAG,sEAAsE3B,EAAG,MAAMF,EAAI6B,GAAG,0BAA0B3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,YAAY3B,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,qFAAqF3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,aAAa3B,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,kFAAkF3B,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACF,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI/D,EAAI+D,GAAG,IAAI7D,EAAG,KAAK,CAACF,EAAI6B,GAAG,iDAAiD3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAK8qB,gBAAgB,GAAGhwB,EAAG,KAAK,CAACF,EAAI6B,GAAG,8BAA8B3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAK+qB,cAAc,GAAGjwB,EAAG,KAAK,CAACF,EAAI6B,GAAG,2DAA2D3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAKgrB,gBAAgBpwB,EAAI+D,GAAG,KAAK,GAAG7D,EAAG,KAAK,CAACF,EAAI6B,GAAG,gEAAgE3B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,MAAQJ,EAAIoF,KAAKirB,eAAerwB,EAAI+D,GAAG,KAAK,OAAO/D,EAAI+D,GAAG,IAAI7D,EAAG,wBAAwBF,EAAI+D,GAAG,KAAK,KAAK/D,EAAIoB,GAAIpB,EAAIyjB,iBAAiB,SAAShQ,EAAElS,GAAG,MAAO,CAACrB,EAAG,YAAY,CAACsB,IAAID,EAAEnB,MAAM,CAAC,OAASqT,EAAEiQ,QAAQ,SAAW,cAAc,eAAe,UAAU,MAAQjQ,EAAEnT,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYwP,EAAE9B,KAAK/K,MAAM,MAAQ,KAAK,OAAS,SAAS,GAAG1G,EAAG,MAAM,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAW6L,EAAE9B,UAAW8B,EAAE9B,KAAKvO,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWoL,EAAE9B,UAAU3R,EAAIqD,SAAUoQ,EAAE9B,KAAK/I,OAAQ1I,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAI6B,GAAG,SAAS3B,EAAG,MAAMF,EAAIoB,GAAIqS,EAAE9B,KAAK/I,QAAQ,SAASC,EAAMC,GAAI,OAAO5I,EAAG,aAAa,CAACsB,IAAIsH,EAAG1I,MAAM,CAAC,IAAMJ,EAAIiE,YAAY4E,EAAMjC,MAAM,MAAQ5G,EAAIkS,YAAYrJ,GAAO,MAAQ,KAAK,OAAS,OAAO,KAAI,GAAG7I,EAAIqD,OAAO,KAAI,EACt/R,EACIhD,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,MAAM,KAAO,UAAUJ,EAAI6B,GAAG,OACpI,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,WAAW,CAACJ,EAAI6B,GAAG,iBAAiB3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,UAAU,CAACJ,EAAI6B,GAAG,oBAAoB3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qBAAqB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,WAAW,CAACJ,EAAI6B,GAAG,mBAAmB3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,YAAY,CAACJ,EAAI6B,GAAG,cAAc3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,YAAY,CAACJ,EAAI6B,GAAG,mBAAmB3B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kBAAkB,CAACJ,EAAI6B,GAAG,kBACzhB,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYJ,EAAI6B,GAAG,cACnH,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,gBAAgB3B,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,CAACJ,EAAI6B,GAAG,QACxI,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,oDAAoD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,iDAAiD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,iDACtR,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kBAAkB,KAAO,sBAAsBJ,EAAI6B,GAAG,UACvI,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYJ,EAAI6B,GAAG,gBACnH,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,kDAAkD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,kEAAkE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,0DAA0D3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,0EAA0E3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,yCAAyC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,2DAA2D3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,8BAA8B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,mEAAmE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,4DAA4D3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,qDAAqD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,0DAA0D3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,kCAAkC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,gFAAgF3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,uCAAuC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,8DAC5mC,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,6DAA6D3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,gDAAgD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,wCAAwC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,gCAAgC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,6BAA6B3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,gCACzlB,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,aAAaJ,EAAI6B,GAAG,WACrH,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,mDAAmD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,+DAA+D3B,EAAG,MAAMF,EAAI6B,GAAG,2EAC7N,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,mCAAmC3B,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,qCAAqC3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,kDAC1M,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,kDAAkD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,oDAC7I,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sCAAsC3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sCAAsC3B,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,8CAC9M,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,qDAAqD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,2DAA2D3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,gCAAgC3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,oEAC3S,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,4CAA4C3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,4CAC9J,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,6DAA6D3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,oCAAoC3B,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,6BAA6B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,kDAChR,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,oEAAoE3B,EAAG,MAAMF,EAAI6B,GAAG,2BAA2B3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,+BAA+B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,+BAA+B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,+CAA+C3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,yDACvY,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,gDAAgD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,kEAAkE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,0EAC7N,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,aAAaJ,EAAI6B,GAAG,gBACrH,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,+BAA+B3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,wCAChM,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACF,EAAI6B,GAAG,0BAA0B3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,kBAAkB3B,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kBAAkB,CAACJ,EAAI6B,GAAG,SAAS7B,EAAI6B,GAAG,aAC/M,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACF,EAAI6B,GAAG,iBAAiB3B,EAAG,OAAO,CAAC8B,YAAY,CAAC,WAAa,UAAU,CAAChC,EAAI6B,GAAG,8BAA8B7B,EAAI6B,GAAG,qDAC/K,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,gEAAgE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,gEAAgE3B,EAAG,MAAMA,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,+DAC3Q,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,0CAC3E,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,eAAe,KAAO,mBAAmBJ,EAAI6B,GAAG,YACjI,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAI6B,GAAG,sBAAsB3B,EAAG,MAAMA,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,+CAA+C3B,EAAG,MAAMF,EAAI6B,GAAG,WAAW3B,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,MAAMF,EAAI6B,GAAG,WAAW3B,EAAG,MAAMA,EAAG,OAAO,CAACF,EAAI6B,GAAG,4BAA4B3B,EAAG,MAAMF,EAAI6B,GAAG,8EAA8E3B,EAAG,MAAMF,EAAI6B,GAAG,wBAAwB3B,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,+CAA+C3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,8CAA8C3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,oDAAoD3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,uDAAuD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,wBAAwB3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,iCAAiC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,sEAAsE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,6BAA6B3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sDAAsD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,sCAAsC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,qCAAqC3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sEAAsE3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,wCACjzC,GC7BI9B,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAChC,EAAI6B,GAAG,mBAAmB,IAAI,GAAG3B,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAACF,EAAI6B,GAAG,gBAAgB,GAAG7B,EAAIoB,GAAIpB,EAAI4P,MAAM,SAASpK,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACU,MAAMZ,EAAIioB,cAAcziB,GAAOxD,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,YAAWE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,YAAWE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,IAAI,SAAWJ,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,YAAWE,IAAO,KAAO,KAAK,SAAWkF,EAAM0iB,WAAW,MAAQ,IAAIpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAACF,EAAI6B,GAAG,aAAa3B,EAAG,kBAAkB,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,IAAIU,MAAM,CAACC,MAAOf,EAAIswB,eAAgBrvB,SAAS,SAAUC,GAAMlB,EAAIswB,eAAepvB,CAAG,EAAEC,WAAW,qBAAqB,MAAM,GAAGnB,EAAIoB,GAAIpB,EAAIujB,SAAS,SAAS/d,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACU,MAAMZ,EAAIioB,cAAcziB,GAAOxD,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,eAAcE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,eAAcE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,IAAI,SAAWJ,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,eAAcE,IAAO,KAAO,KAAK,MAAQ,GAAG,SAAWkF,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAACF,EAAI6B,GAAG,YAAY,GAAG7B,EAAIoB,GAAIpB,EAAIuwB,UAAU,SAAS/qB,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACU,MAAMZ,EAAIioB,cAAcziB,GAAOxD,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,gBAAeE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,gBAAeE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,KAAKnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAChC,EAAI6B,GAAG,SAAS7B,EAAI8B,GAAG9B,EAAIwwB,cAActwB,EAAG,WAAW,CAACE,MAAM,CAAC,GAAK,gBAAgBM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIsU,gBAAgBtU,EAAIywB,OAAO,IAAI,CAACzwB,EAAI6B,GAAG,uBAAuB3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,eAAe,SAAW,aAAa,UAAY,MAAM,eAAe,gBAAgB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,MAAMF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAIywB,QAAQ,QAAQ,IAAI,IAAI,EAC5xH,EACIpwB,GAAkB,GCkFtB,IACAC,KAAAA,kBACAgJ,MAAAA,CACA,EACAqV,OAAAA,CAAAA,GAEApV,OACA,OACAmnB,aAAAA,EACAJ,gBAAAA,EACA1gB,KAAAA,CACAsP,IAAAA,CACAxZ,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,aAEAyI,OAAAA,CACAjrB,MAAAA,YACAK,KAAAA,SACAJ,KAAAA,GACA5E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA0I,gBAAAA,CACAlrB,MAAAA,YACAK,KAAAA,SACAhF,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA2I,UAAAA,CACAnrB,MAAAA,cACAK,KAAAA,SACAJ,KAAAA,GACA5E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA4I,SAAAA,CACAprB,MAAAA,SACAK,KAAAA,OACAhF,OAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA6I,mBAAAA,CACArrB,MAAAA,mBACAK,KAAAA,SACAhF,MAAAA,GACAmnB,SAAAA,KAAAA,KAAAA,cAAAA,KAAAA,KAAAA,SAAAA,OAEAzP,aAAAA,CACA/S,MAAAA,OACAK,KAAAA,OACAhF,OAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA8I,cAAAA,CACAtrB,MAAAA,iBACAK,KAAAA,OACAhF,OAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,cAGA3E,QAAAA,CACArE,IAAAA,CACAxZ,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,gBAEAyI,OAAAA,CACAjrB,MAAAA,YACAK,KAAAA,SACAJ,KAAAA,GACA5E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,gBAEA2I,UAAAA,CACAnrB,MAAAA,cACAK,KAAAA,SACAJ,KAAAA,GACA5E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,gBAEA8I,cAAAA,CACAtrB,MAAAA,iBACAK,KAAAA,OACAhF,OAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,iBAGAqI,SAAAA,CACApR,IAAAA,CACAzZ,MAAAA,MACAK,KAAAA,SACAhF,MAAAA,IACAmnB,SAAAA,KAAAA,GAEA+I,OAAAA,CACAvrB,MAAAA,YACAK,KAAAA,SACAJ,KAAAA,GACA5E,MAAAA,EACAmnB,SAAAA,KAAAA,GAEAjP,WAAAA,CACAvT,MAAAA,aACAK,KAAAA,SACAH,IAAAA,GACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,GAEAgJ,OAAAA,CACAxrB,MAAAA,OACAK,KAAAA,SACAhF,MAAAA,EACAmnB,SAAAA,KAAAA,IAIA,EAEA7d,UACA,yCACA,EAEAb,UACA,EAEA+B,QAAAA,CACA0c,cAAAA,GACA,iCACA,EAEAkJ,aACA,sBACA,YACA,eAEA,qCACA,0CACA,iBAEA,QACA,qBACA,2CACA,yCACA,yCACA,kDAEA,kBACA,mBACAC,GAAAA,GACA,wBACAA,GAAAA,IAEAtO,GAAAA,KAAAA,IAAAA,KAAAA,MAAAA,GAAAA,IAAAA,EAAAA,aAAAA,MAAAA,GAAAA,GACA,CACA,wBACA,2CACA,yCAEA,gBACA,wBACAsO,GAAAA,IAEAtO,GAAAA,GAAAA,KAAAA,IAAAA,KAAAA,MAAAA,GAAAA,EACA,CAEA,sBACA,EAEAhB,eACA,SAEA,wCACAjN,EAAAA,KAAAA,EAAAA,OAEAA,EAAAA,KAAAA,KAAAA,gBACA,2CACAA,EAAAA,KAAAA,EAAAA,OAEA,4CACAA,EAAAA,KAAAA,EAAAA,OAEA,gEAEA,OADAG,GAAAA,QAAAA,EAAAA,KAAAA,KAAAA,UACA,CACA,EAEA8W,eAAAA,GACA9W,EAAAA,mBAAAA,GACA,+BACA,MACA,2CAEA,wCACA9J,EAAAA,MAAAA,EAAAA,QAEA,8BACA,2CACAA,EAAAA,MAAAA,EAAAA,QAEA,4CACAA,EAAAA,MAAAA,EAAAA,QAEA,QACA,CACA,QACA,GAGAE,SAAAA,CACAolB,YACA,wBACA,EACAC,SACA,0BACA,IC/SwQ,MCOpQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QClB5B1wB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAChC,EAAI6B,GAAG,kBAAkB,IAAI,GAAG3B,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAACF,EAAI6B,GAAG,WAAW3B,EAAG,kBAAkB,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,GAAK,mBAAmBU,MAAM,CAACC,MAAOf,EAAI0wB,YAAazvB,SAAS,SAAUC,GAAMlB,EAAI0wB,YAAYxvB,CAAG,EAAEC,WAAW,kBAAkB,MAAM,GAAGnB,EAAIoB,GAAIpB,EAAI4P,MAAM,SAASpK,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACU,MAAMZ,EAAIioB,cAAcziB,GAAOxD,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,WAAUE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,WAAUE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,IAAI,SAAWJ,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,WAAUE,IAAO,KAAO,KAAK,MAAQ,GAAG,SAAWkF,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAACF,EAAI6B,GAAG,YAAY3B,EAAG,kBAAkB,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,GAAK,sBAAsBU,MAAM,CAACC,MAAOf,EAAIswB,eAAgBrvB,SAAS,SAAUC,GAAMlB,EAAIswB,eAAepvB,CAAG,EAAEC,WAAW,qBAAqB,MAAM,GAAGnB,EAAIoB,GAAIpB,EAAIujB,SAAS,SAAS/d,EAAMlF,EAAKmF,GAAO,OAAOvF,EAAG,aAAa,CAACsB,IAAIiE,GAAO,CAACvF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAACU,MAAMZ,EAAIioB,cAAcziB,GAAOxD,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,cAAaE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,cAAaE,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,IAAI,SAAWJ,EAAM0iB,YAAYpnB,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,KAAKnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAChC,EAAI6B,GAAG,QAAQ7B,EAAI8B,GAAG9B,EAAIqxB,aAAanxB,EAAG,WAAW,CAACE,MAAM,CAAC,GAAK,eAAeM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIsU,gBAAgBtU,EAAIsxB,MAAM,IAAI,CAACtxB,EAAI6B,GAAG,uBAAuB3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,aAAa,UAAY,MAAM,eAAe,gBAAgB,CAACJ,EAAI6B,GAAG,aAAa3B,EAAG,MAAMF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAIsxB,OAAO,QAAQ,IAAI,IAAI,EAC37F,EACIjxB,GAAkB,GC8DtB,IACAC,KAAAA,uBACAgJ,MAAAA,CACA,EACAqV,OAAAA,CAAAA,GAEApV,OACA,OACAmnB,aAAAA,EACAJ,gBAAAA,EACA1gB,KAAAA,CACA2hB,MAAAA,CACA7rB,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA3S,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEAjJ,GAAAA,CACAvZ,MAAAA,KACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KACAmnB,SAAAA,KAAAA,KAAAA,aAEAhJ,IAAAA,CACAxZ,MAAAA,cACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KACAmnB,SAAAA,KAAAA,KAAAA,aAEA/I,IAAAA,CACAzZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,aAEA7I,IAAAA,CACA3Z,MAAAA,OACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,aAEA5I,IAAAA,CACA5Z,MAAAA,QACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,aAEAlR,UAAAA,CACAtR,MAAAA,SACAK,KAAAA,SACAhF,MAAAA,EACA4E,IAAAA,EACAC,IAAAA,EACAsiB,SAAAA,KAAAA,KAAAA,aAEAsJ,QAAAA,CACA9rB,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,GACA7E,MAAAA,GACAmnB,SAAAA,KAAAA,KAAAA,aAEAuJ,QAAAA,CACA/rB,MAAAA,aACAK,KAAAA,OACAhF,OAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,aAEA/Q,iBAAAA,CACAzR,MAAAA,cACAK,KAAAA,SACAhF,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,cAGA3E,QAAAA,CACAgO,MAAAA,CACA7rB,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,gBAEA3S,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,gBAEAjJ,GAAAA,CACAvZ,MAAAA,KACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KACAmnB,SAAAA,KAAAA,KAAAA,gBAEAhJ,IAAAA,CACAxZ,MAAAA,cACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KACAmnB,SAAAA,KAAAA,KAAAA,gBAEA/I,IAAAA,CACAzZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,gBAEA7I,IAAAA,CACA3Z,MAAAA,OACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,IACAmnB,SAAAA,KAAAA,KAAAA,gBAEA3f,OAAAA,CACA7C,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,EACAmnB,SAAAA,KAAAA,KAAAA,iBAIA,EAEA7d,UACA,yCACA,EAEAkB,QAAAA,CACA0c,cAAAA,GACA,iCACA,EAEAyJ,kBACA,QACA,IACA,IACA,IACA,IACA,IACA,qBACA,kBACAzS,GAAAA,EAAAA,GAAAA,MACAC,GAAAA,EAAAA,IAAAA,MACAC,GAAAA,EAAAA,IAAAA,MACAE,GAAAA,EAAAA,IAAAA,MACAC,GAAAA,EAAAA,IAAAA,MACAnJ,GAAAA,GAAAA,EAAAA,MAAAA,MACAA,GAAAA,GAAAA,EAAAA,OAAAA,MACAA,GAAAA,IAAAA,EAAAA,UAAAA,MACAA,GAAAA,IAAAA,EAAAA,QAAAA,MACAA,GAAAA,IAAAA,EAAAA,iBAAAA,MACA,kBACAA,GAAAA,GACA,CACA,wBACA,qBACA8I,GAAAA,EAAAA,GAAAA,MACAC,GAAAA,EAAAA,IAAAA,MACAC,GAAAA,EAAAA,IAAAA,MACAE,GAAAA,EAAAA,IAAAA,MACAlJ,GAAAA,GAAAA,EAAAA,MAAAA,MACAA,GAAAA,GAAAA,EAAAA,OAAAA,MACAA,GAAAA,IAAAA,EAAAA,OAAAA,KACA,CACA,mDACA,EAEA2L,eACA,SAEAjN,EAAAA,KAAAA,KAAAA,aACA,wCACAA,EAAAA,KAAAA,EAAAA,OAEAA,EAAAA,KAAAA,KAAAA,gBACA,2CACAA,EAAAA,KAAAA,EAAAA,OAEA,gEAEA,OADAG,GAAAA,OAAAA,EAAAA,KAAAA,KAAAA,gBACA,CACA,EAEA8W,eAAAA,GACA9W,EAAAA,mBAAAA,GACA,8BACA,MACA,2CAEA,2BACA,wCACA9J,EAAAA,MAAAA,EAAAA,QAEA,8BACA,2CACAA,EAAAA,MAAAA,EAAAA,QAEA,QACA,CACA,QACA,GAGAE,SAAAA,CACAimB,WACA,6BACA,EACAC,QACA,0BACA,IC1S6Q,MCOzQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QClB5BvxB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,QAAQuB,YAAY,CAAC,QAAU,qBAAqB,CAAGhC,EAAI2xB,MAAwK3xB,EAAIqD,KAArKnD,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,gBAAgB,QAAQ,CAAChC,EAAI6B,GAAG,oBAAoB,IAAI,GAAY3B,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAImhB,SAAUlgB,SAAS,SAAUC,GAAMlB,EAAImhB,SAASjgB,CAAG,EAAEC,WAAW,aAAa,CAACjB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,QAAU,sBAAsB5B,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY7B,EAAIoB,GAAIpB,EAAI4P,MAAM,SAASpK,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAID,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,QAAQ,OAAS,iBAAiB5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,aAAYE,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,YAAYjb,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,YAAYjb,IAAO,KAAO,KAAK,MAAQ,IAAIQ,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,aAAdmC,EAAMO,KAAqB7F,EAAG,WAAW,CAACO,YAAY,2BAA2BL,MAAM,CAAC,QAAU,oBAAoB,GAAM,KAAIJ,EAAIub,YAAYjb,MAAS,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAapsB,EAAMzE,OAAO,MAAQf,EAAIkS,YAAY1M,EAAMzE,OAAO,MAAQ,MAAM,OAAS,SAASb,EAAG,cAAc,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,YAAYjb,IAAO,KAAON,EAAIwiB,SAAS,YAAc,GAAG,aAAe,GAAG,aAAe,IAAI9hB,GAAG,CAAC,MAAQV,EAAI6xB,eAAe,GAAG7xB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAI8xB,YAAY,SAAStsB,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAID,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,YAAYjb,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,YAAYjb,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,WAAW3B,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAWhC,EAAIoB,GAAIpB,EAAI+xB,YAAY,SAASvpB,EAAMC,GAAI,OAAOvI,EAAG,WAAW,CAACsB,IAAIiH,EAAGhI,YAAY,2BAA2BL,MAAM,CAAC,GAAM,KAAIJ,EAAIub,iBAAiB9S,IAAK,QAAU,oBAAoB,UAAY,IAAI/H,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAIgyB,YAAYvpB,EAAG,EAAE,KAAO,SAAS/G,GAAQ,OAAO1B,EAAIiyB,YAAYxpB,EAAG,EAAE,SAAW,SAAS/G,GAAgC,OAAxBA,EAAOoS,iBAAwB9T,EAAIkyB,cAAc,IAAI,CAAChyB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAappB,GAAO,MAAQxI,EAAIkS,YAAY1J,GAAO,MAAQ,KAAK,OAAS,QAAQtI,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,iBAAiB9S,IAAK,SAAW,GAAG,aAAe,GAAG,OAASzI,EAAImyB,cAAc,SAAWnyB,EAAI+xB,YAAYrxB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2d,gBAAgB3d,EAAI+xB,WAAYtpB,EAAI/G,EAAO,MAAM,EAAE,IAAG,IAAI,IAAI,GAAGxB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,UAAU3B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAWhC,EAAIoB,GAAIpB,EAAIuqB,WAAW,SAAS5Y,EAAKpQ,GAAG,OAAOrB,EAAG,OAAO,CAACsB,IAAID,GAAG,CAACrB,EAAG,WAAW,CAACO,YAAY,2BAA2BL,MAAM,CAAC,QAAU,oBAAoB,GAAM,KAAIJ,EAAIub,gBAAgBha,MAAM,CAACrB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAajgB,GAAM,MAAQ3R,EAAIkS,YAAYP,GAAM,MAAQ,KAAK,OAAS,QAAQzR,EAAG,eAAe,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,gBAAgBha,IAAI,MAAQvB,EAAIoG,MAAM,WAAapG,EAAIoyB,cAAc7wB,GAAG,YAAcvB,EAAIqyB,UAAU,SAAW,GAAG,aAAe,IAAI3xB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2d,gBAAgB3d,EAAIuqB,UAAWhpB,EAAGG,EAAO,MAAM,IAAI,EAAE,IAAG,IAAI,GAAGxB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,cAAc3B,EAAG,aAAa,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAWhC,EAAIoB,GAAIpB,EAAIsyB,oBAAoB,SAAS3gB,EAAKpQ,GAAG,OAAOrB,EAAG,OAAO,CAACsB,IAAID,GAAG,CAACrB,EAAG,WAAW,CAACO,YAAY,2BAA2BL,MAAM,CAAC,QAAU,oBAAoB,GAAM,KAAIJ,EAAIub,mBAAmBha,MAAM,CAACrB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAajgB,GAAM,MAAQ3R,EAAIkS,YAAYP,GAAM,MAAQ,KAAK,OAAS,QAAQzR,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,mBAAmBha,IAAI,SAAW,GAAG,aAAe,GAAG,OAASvB,EAAIunB,yBAAyB7mB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2d,gBAAgB3d,EAAIsyB,mBAAoB/wB,EAAGG,EAAO,MAAM,IAAI,EAAE,IAAG,IAAI,GAAG1B,EAAIoB,GAAIpB,EAAIuyB,cAAc,SAAS/sB,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAI,UAAYD,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,oBAAoBjb,OAAU,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,OAAO,YAAYxF,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,oBAAoBjb,KAAQ,KAAO,KAAK,KAAO,SAAS,IAAM,GAAGQ,MAAM,CAACC,MAAOyE,EAAMgtB,OAAQvxB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,SAAUxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,mBAAmB,GAAGjB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,oBAAoBjb,OAAU,CAACN,EAAI6B,GAAG,cAAc3B,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,oBAAoBjb,KAAQ,KAAO,KAAK,KAAO,SAAS,IAAM,GAAGQ,MAAM,CAACC,MAAOyE,EAAMitB,OAAQxxB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,SAAUxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,mBAAmB,IAAI,EAAE,KAAI,IAAI,KAAKjB,EAAG,MAAM,CAACA,EAAG,cAAc,CAAEF,EAAI4P,KAAKyT,UAAUtiB,MAAOb,EAAG,MAAM,CAACO,YAAY,cAAcuB,YAAY,CAAC,gBAAgB,SAAS,CAAC9B,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,UAAU,MAAQ,SAAS,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,SAAS,MAAQ,QAAQ,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,QAAQ,GAAGxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,SAAU1yB,EAAI0yB,eAAe,GAAIxyB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,gBAAgB3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI0yB,eAAe,SAAS1yB,EAAIqD,OAAOrD,EAAIqD,QAAQ,KAAKnD,EAAG,QAAQ,CAAC8B,YAAY,CAAC,QAAU,sBAAsB5B,MAAM,CAAC,MAAQ,YAAY,CAACF,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,YAAY7B,EAAIoB,GAAIpB,EAAIujB,SAAS,SAAS/d,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAID,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,QAAQ,OAAS,iBAAiB5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,WAAWjb,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,WAAWjb,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,QAAdmC,EAAMO,KAAgB7F,EAAG,kBAAkB,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,WAAWjb,IAAO,KAAO,KAAK,MAAQ,IAAIQ,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAAStE,EAAI,EAAEC,WAAW,iBAAiBnB,EAAIqD,KAAoB,aAAdmC,EAAMO,KAAqB7F,EAAG,WAAW,CAACO,YAAY,2BAA2BL,MAAM,CAAC,QAAU,oBAAoB,GAAM,KAAIJ,EAAIub,WAAWjb,MAAS,CAACJ,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAapsB,EAAMzE,OAAO,MAAQf,EAAIkS,YAAY1M,EAAMzE,OAAO,MAAQ,MAAM,OAAS,SAASb,EAAG,cAAc,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,WAAWjb,IAAO,KAAON,EAAI8lB,QAAQ,SAAW,GAAG,YAAc,GAAG,aAAe,IAAIplB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2yB,UAAUjxB,EAAO,MAAM,GAAG1B,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,kBAAkB7B,EAAIoB,GAAIpB,EAAI4yB,eAAe,SAASptB,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAID,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,WAAWjb,MAAS,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,YAAYxF,EAAG,QAAQ,CAAgB,UAAdsF,EAAMO,KAAkB7F,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,WAAWjb,IAAO,KAAO,KAAK,KAAO,SAAS,IAAMkF,EAAMG,IAAI,IAAMH,EAAMI,KAAK9E,MAAM,CAACC,MAAOyE,EAAMzE,MAAOE,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,QAASxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,iBAAiBnB,EAAIqD,MAAM,IAAI,EAAE,KAAI,IAAI,GAAGnD,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,UAAU3B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,WAAWhC,EAAIoB,GAAIpB,EAAIyqB,cAAc,SAAS9Y,EAAKpQ,GAAG,OAAOrB,EAAG,OAAO,CAACsB,IAAID,GAAG,CAACrB,EAAG,WAAW,CAACO,YAAY,2BAA2BL,MAAM,CAAC,QAAU,oBAAoB,GAAM,KAAIJ,EAAIub,eAAeha,MAAM,CAACrB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAI4xB,aAAajgB,GAAM,MAAQ3R,EAAIkS,YAAYP,GAAM,MAAQ,KAAK,OAAS,QAAQzR,EAAG,eAAe,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,eAAeha,IAAI,MAAQvB,EAAIoG,MAAM,WAAapG,EAAI6yB,aAAatxB,GAAG,SAAW,GAAG,aAAe,IAAIb,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI2d,gBAAgB3d,EAAIyqB,aAAclpB,EAAGG,EAAO,MAAM,IAAI,EAAE,IAAG,IAAI,GAAGxB,EAAG,MAAM,CAAC8B,YAAY,CAAC,aAAa,WAAW,CAAC9B,EAAG,KAAK,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI6B,GAAG,iBAAiB7B,EAAIoB,GAAIpB,EAAI8yB,iBAAiB,SAASttB,EAAMlF,EAAKiB,GAAG,OAAOrB,EAAG,aAAa,CAACsB,IAAI,UAAYD,GAAG,CAACrB,EAAG,QAAQ,CAAC8B,YAAY,CAAC,aAAa,SAAS5B,MAAM,CAAC,aAAa,QAAQ,CAACF,EAAG,QAAQ,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,IAAO,KAAIJ,EAAIub,mBAAmBjb,OAAU,CAACN,EAAI6B,GAAG7B,EAAI8B,GAAG0D,EAAME,OAAO,YAAYxF,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,YAAY,cAAcuB,YAAY,CAAC,MAAQ,OAAO5B,MAAM,CAAC,GAAM,KAAIJ,EAAIub,mBAAmBjb,KAAQ,KAAO,KAAK,KAAO,SAAS,IAAM,EAAE,KAAO,OAAOQ,MAAM,CAACC,MAAOyE,EAAMgtB,OAAQvxB,SAAS,SAAUC,GAAMlB,EAAI2B,KAAK6D,EAAO,SAAUxF,EAAI6F,GAAG3E,GAAK,EAAEC,WAAW,mBAAmB,IAAI,EAAE,KAAI,IAAI,KAAKjB,EAAG,MAAM,CAACA,EAAG,cAAc,CAAEF,EAAIujB,QAAQF,UAAUtiB,MAAOb,EAAG,MAAM,CAACO,YAAY,cAAcuB,YAAY,CAAC,gBAAgB,SAAS,CAAC9B,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,QAAQ,GAA4C,QAAxC/yB,EAAIujB,QAAQF,UAAUtiB,MAAMoG,WAAoBjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,QAAQ,GAAG/yB,EAAIqD,KAA8C,QAAxCrD,EAAIujB,QAAQF,UAAUtiB,MAAMoG,WAAoBjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,QAAQ,GAAG/yB,EAAIqD,KAAKnD,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,UAAU,MAAQ,SAAS,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,QAAQ,GAAG7yB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,QAAQ,GAAG7yB,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAI+yB,kBAAkB,WAAW/yB,EAAIqD,QAAQ,MAAM,GAAGnD,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,uBAAuB,CAAC9B,EAAG,cAAc,CAACA,EAAG,MAAM,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAC9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,cAAc,KAAO,OAAOJ,EAAIoB,GAAIpB,EAAIgzB,gBAAgB,SAAS1xB,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIizB,UAAU1xB,EAAE,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,GAAKtB,EAAI2xB,MAAuJ3xB,EAAIqD,KAApJnD,EAAG,WAAW,CAAC8B,YAAY,CAAC,cAAc,OAAOtB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIkzB,iBAAiB,IAAI,CAAClzB,EAAI6B,GAAG,0BAAoC7B,EAAImzB,cAAc9sB,OAAQnG,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,gBAAgB,GAAG,MAAQJ,EAAImzB,cAAc,OAASnzB,EAAIozB,iBAAiBhS,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,gBAAgB8f,GAAG,SAAS+R,GAAK,MAAO,CAACnzB,EAAG,WAAW,CAAC8B,YAAY,CAAC,QAAU,YAAY5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIszB,gBAAgBD,EAAI1hB,KAAK,IAAI,CAAC3R,EAAI6B,GAAG,UAAU,IAAI,MAAK,EAAM,cAAc7B,EAAIqD,MAAM,GAAKrD,EAAI2xB,MAAiX3xB,EAAIqD,KAA9WnD,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,GAAM,KAAIJ,EAAIub,gBAAgB7a,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIsU,gBAAgBtU,EAAIuzB,QAAQ,IAAI,CAACvzB,EAAI6B,GAAG,uBAAuB3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,KAAIJ,EAAIub,eAAe,SAAW,aAAa,UAAY,MAAM,eAAe,gBAAgB,CAACvb,EAAI6B,GAAG,aAAa3B,EAAG,MAAMF,EAAI6B,GAAG7B,EAAI8B,GAAG9B,EAAIuzB,SAAS,QAAQ,MAAe,IAAI,EACt7c,EACIlzB,GAAkB,GCFlBN,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAIgY,OAAO,SAAW,aAAa,MAAQ,CAACzU,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,WAAW,CAACtD,EAAG,MAAM,CAAC8B,YAAY,CAAC,OAAS,YAAY,CAAqB,GAAnBhC,EAAI2jB,YAAqBzjB,EAAG,iBAAiB,CAAC8B,YAAY,CAAC,eAAe,QAAQ5B,MAAM,CAAC,KAAO,OAAOJ,EAAIoB,GAAIpB,EAAI4Q,OAAOhQ,OAAO,SAASU,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIkE,QAAQ3C,IAAI,MAAQ,WAAW,EAAE,IAAG,GAAGvB,EAAIqD,KAAwB,GAAlBrD,EAAIwzB,WAAoBtzB,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,OAAOJ,EAAIoB,GAAIpB,EAAI4Q,OAAOgK,MAAM,SAAStZ,EAAEC,GAAG,OAAOrB,EAAG,WAAW,CAACsB,IAAID,EAAEnB,MAAM,CAAC,QAAUkB,EAAEG,MAAM,QAAU,qBAAqBf,GAAG,CAAC,iBAAiB,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAKL,EAAG,QAASI,EAAO,IAAI,CAACxB,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIyzB,MAAMlyB,IAAI,MAAQ,WAAW,EAAE,IAAG,GAAGvB,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAACO,YAAY,YAAY,CAAET,EAAI6jB,SAAU3jB,EAAG,SAAS,CAACQ,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAa,KAAK,EAAE,WAAa,SAASzS,GAAQ,OAAO1B,EAAImU,MAAM,aAAc,KAAK,EAAE,MAAQ,SAASzS,GAAQ,OAAO1B,EAAI8jB,QAAQ,KAAK,IAAI,CAAC5jB,EAAG,aAAa,CAACO,YAAY,mBAAmBL,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,SAAS,GAAGjE,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI0zB,eAAe,SAASxoB,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAajJ,EAAE,EAAE,WAAa,SAASxJ,GAAQ,OAAO1B,EAAImU,MAAM,aAAcjJ,EAAE,EAAE,MAAQ,SAASxJ,GAAQ,OAAO1B,EAAI8jB,QAAQ5Y,EAAE,IAAI,CAAChL,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAQ5G,EAAIkS,YAAYhH,GAAG,MAAQ,SAAS,EAAE,KAAI,IACvuD,EACI7K,GAAkB,GC2BtB,IACAC,KAAAA,eACAqe,OAAAA,CAAAA,GACArV,MAAAA,CACA0O,OAAAA,CACAjS,KAAAA,OACAie,UAAAA,GAEA5d,MAAAA,CACAL,KAAAA,MACAie,UAAAA,GAGAH,SAAAA,CACA9d,KAAAA,QACAme,SAAAA,GAEAP,YAAAA,CACA5d,KAAAA,CAAAA,QAAAA,QACAme,SAAAA,GAEAsP,WAAAA,CACAztB,KAAAA,CAAAA,QAAAA,QACAme,SAAAA,GAEAC,aAAAA,CACApe,KAAAA,QACAme,SAAAA,GAGAE,aAAAA,CACAre,KAAAA,QACAme,SAAAA,IAGA3a,OACA,OACArF,QAAAA,EAAAA,QACAuvB,MAAAA,EAAAA,UACAlvB,SAAAA,EAAAA,SAEAqM,OAAAA,CACAhQ,MAAAA,GACAga,KAAAA,GACA1T,OAAAA,IAGA,EAEAkE,SAAAA,CACAsoB,gBACA,iDACA,GAGArpB,UACA,gDACA,6CACA,iDACA,EAEAkB,QAAAA,CACA8U,WAAAA,GACA,SAaA,OAXAC,EADA,qCACAA,KAAAA,aAAAA,KAAAA,YAAAA,KAAAA,OAAAA,MAAAA,EAAAA,WAEAA,EAAAA,SAAAA,EAAAA,QAAAA,SAAAA,KAAAA,aAEA,IAEAA,EADA,oCACAA,KAAAA,YAAAA,KAAAA,YAAAA,KAAAA,OAAAA,KAAAA,EAAAA,QAEAA,EAAAA,MAAAA,KAAAA,YAGA,KACA,mEACA,EAEAwD,QAAAA,GACA,sBACA,mBACA,iDAEA,IClHqQ,MCQjQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QCnB5B/jB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACE,MAAM,CAAC,OAASJ,EAAIgY,OAAO,SAAW,aAAa,MAAQ,CAACzU,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,UAAY,WAAW,CAACtD,EAAG,MAAM,CAACO,YAAY,YAAY,CAAET,EAAI6jB,SAAU3jB,EAAG,SAAS,CAACQ,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAa,KAAK,EAAE,WAAa,SAASzS,GAAQ,OAAO1B,EAAImU,MAAM,aAAc,KAAK,EAAE,MAAQ,SAASzS,GAAQ,OAAO1B,EAAI8jB,QAAQ,KAAK,IAAI,CAAC5jB,EAAG,aAAa,CAACO,YAAY,mBAAmBL,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,QAAQ,MAAQ,OAAO,MAAQ,KAAK,OAAS,SAAS,GAAGjE,EAAIqD,KAAKrD,EAAIoB,GAAIpB,EAAI0zB,eAAe,SAASxoB,EAAE3J,GAAG,OAAOrB,EAAG,SAAS,CAACsB,IAAID,EAAEb,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAImU,MAAM,YAAajJ,EAAE,EAAE,WAAa,SAASxJ,GAAQ,OAAO1B,EAAImU,MAAM,aAAcjJ,EAAE,EAAE,MAAQ,SAASxJ,GAAQ,OAAO1B,EAAI8jB,QAAQ5Y,EAAE,IAAI,CAAChL,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYiH,EAAEtE,MAAM,MAAS,GAAE5G,EAAIkS,YAAYhH,KAAK,MAAQ,SAAS,EAAE,KAAI,IAC37B,EACI7K,GAAkB,GCctB,IACAC,KAAAA,gBACAqe,OAAAA,CAAAA,GACArV,MAAAA,CACA0O,OAAAA,CACAjS,KAAAA,OACAie,UAAAA,GAEAzb,OAAAA,CACAxC,KAAAA,MACAie,UAAAA,GAEA2P,SAAAA,CACA5tB,KAAAA,MACAme,QAAAA,IAAAA,IAEAhI,WAAAA,CACAnW,KAAAA,MACAme,QAAAA,IAAAA,IAGAL,SAAAA,CACA9d,KAAAA,QACAme,SAAAA,GAEAE,aAAAA,CACAre,KAAAA,QACAme,SAAAA,GAEA0P,YAAAA,CACA7tB,KAAAA,QACAme,SAAAA,IAGA3a,OACA,OACAsqB,WAAAA,KAEA,EAEAxpB,UACA,EAEAkB,QAAAA,CACAuY,QAAAA,GACA,sBACA,mBACA,iDAEA,GAGA1Y,SAAAA,CACAsoB,gBACA,0DACA,ICvEsQ,MCQlQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QCkOhC,IACApzB,KAAAA,kBACAC,WAAAA,CACA+rB,YAAAA,GACAwH,aAAAA,GACAC,cAAAA,IAEAzqB,MAAAA,CACAqoB,MAAAA,CACA5rB,KAAAA,QACAme,SAAAA,GAEA3a,KAAAA,CACAxD,KAAAA,MACAme,QAAAA,IAAAA,KAGAvF,OAAAA,CAAAA,EAAAA,IAEApV,OACA,OACAgS,IAAAA,KAAAA,eAEA6W,cAAAA,CAAAA,KAAAA,IAAAA,IAAAA,SACAS,aAAAA,CAAAA,WAAAA,aAEAjjB,KAAAA,CACAyT,UAAAA,CACA3d,MAAAA,MACAK,KAAAA,YACAhF,MAAAA,MAEAwE,KAAAA,CACAG,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAuE,MAAAA,CACAI,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAwU,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAyU,UAAAA,CACA9P,MAAAA,UACAK,KAAAA,OACAhF,OAAAA,GAEAwG,OAAAA,CACA7B,MAAAA,QACAK,KAAAA,OACAhF,OAAAA,IAGA+wB,WAAAA,CACA7S,GAAAA,CACAvZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAme,IAAAA,CACAxZ,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAoe,IAAAA,CACAzZ,MAAAA,aACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAqe,IAAAA,CACA1Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAse,IAAAA,CACA3Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAue,IAAAA,CACA5Z,MAAAA,YACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAGAwxB,aAAAA,CACAtT,GAAAA,CACAvZ,MAAAA,KACA8sB,OAAAA,EACAC,OAAAA,GAEAvT,IAAAA,CACAxZ,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,GAEAtT,IAAAA,CACAzZ,MAAAA,SACA8sB,OAAAA,EACAC,OAAAA,GAEArT,IAAAA,CACA1Z,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,GAEApT,IAAAA,CACA3Z,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,IAGAV,WAAAA,CAAAA,KAAAA,KAAAA,MACAxH,UAAAA,CAAAA,KAAAA,KAAAA,KAAAA,MACA+H,mBAAAA,CAAAA,MAEA/O,QAAAA,CACAF,UAAAA,CACA3d,MAAAA,MACAK,KAAAA,YACAhF,MAAAA,MAEAwE,KAAAA,CACAG,MAAAA,IACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAuE,MAAAA,CACAI,MAAAA,MACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAwU,OAAAA,CACA7P,MAAAA,UACAK,KAAAA,SACAJ,IAAAA,EACAC,IAAAA,EACA7E,MAAAA,GAEAyU,UAAAA,CACA9P,MAAAA,UACAK,KAAAA,OACAhF,OAAAA,IAGA6xB,cAAAA,CACA3T,GAAAA,CACAvZ,MAAAA,SACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAme,IAAAA,CACAxZ,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAoe,IAAAA,CACAzZ,MAAAA,aACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAqe,IAAAA,CACA1Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,KAEAse,IAAAA,CACA3Z,MAAAA,WACAK,KAAAA,SACAJ,IAAAA,EACA5E,MAAAA,MAGA+xB,gBAAAA,CACA7T,GAAAA,CACAvZ,MAAAA,KACA8sB,OAAAA,EACAC,OAAAA,GAEAvT,IAAAA,CACAxZ,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,GAEAtT,IAAAA,CACAzZ,MAAAA,SACA8sB,OAAAA,EACAC,OAAAA,GAEArT,IAAAA,CACA1Z,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,GAEApT,IAAAA,CACA3Z,MAAAA,OACA8sB,OAAAA,EACAC,OAAAA,IAGAhI,aAAAA,CAAAA,KAAAA,MACAuJ,oBAAAA,KACAC,oBAAAA,KAEAC,cAAAA,CACA,CACAhsB,KAAAA,iBAEA,CACAA,KAAAA,iBAEA,CACAA,KAAAA,iBAEA,CACAA,KAAAA,kBAIAisB,cAAAA,CACA,CACAjsB,KAAAA,aAEA,CACAA,KAAAA,iBAEA,CACAA,KAAAA,cAEA,CACAA,KAAAA,iBAEA,CACAA,KAAAA,kBAEA,CACAA,KAAAA,mBAIA8qB,eAAAA,CACA,QACA,SACA,QACA,QACA,QACA,WACA,SACA,QAEAoB,gBAAAA,CACAC,aAAAA,EACAC,OAAAA,EACAC,MAAAA,EACAC,aAAAA,EACAC,GAAAA,EACAC,IAAAA,EACAC,IAAAA,EACAC,MAAAA,GAGAzT,SAAAA,EACAgS,cAAAA,GACAC,gBAAAA,CACA,CACA5xB,IAAAA,QACAkE,MAAAA,MAEA,CACAlE,IAAAA,KACAkE,MAAAA,OAEA,CACAlE,IAAAA,OACAkE,MAAAA,OAEA,CACAlE,IAAAA,UACAkE,MAAAA,QAEA,CACAlE,IAAAA,UACAkE,MAAAA,UAIAmvB,gBAAAA,EACAC,kBAAAA,EAEA,EAEAzqB,UACA,eACA,6CACA,aACA,kCACA,0CAEA,EAEAb,UACA,EAEA+B,QAAAA,CACAsmB,WAAAA,GACA,4BACA,qBAEA,gCACA,2BACAhd,EAAAA,OAAAA,EACAA,EAAAA,OAAAA,EACA,2BACAA,EAAAA,OAAAA,GAEA,CACA,qBACA,8BACA,EACAkgB,kBACA,SACA,KAEA,kCACA,MACA,sBACAC,EAAAA,CAAAA,OAAAA,QAAAA,YAAAA,gBACAC,EAAAA,CAAAA,SAAAA,gBAGAD,EAAAA,CAAAA,OAAAA,QAAAA,YAAAA,gBACAC,EAAAA,CAAAA,SAAAA,eAIA,SACA,+BACA,gCACAC,GAAAA,EACAF,EAAAA,KAAAA,cACA,KACA,CAIA,6CACAA,EAAAA,KAAAA,cAEA,CAEA,oBACA,gBACA,+BAGA,SAIA,wCACA,SAEA,0CACA,SAGA,yBAEA,uCACA,QAGA,CACA,QACA,EAEA,yBACA,yCACA,qCACA,wBACA,2BACAG,EAAAA,EAAAA,QAAAA,EAAAA,OAGA,0BACA,qBACAC,EAAAA,EAAAA,QAAAA,EAAAA,OAGAzjB,EAAAA,SAAAA,EAAAA,QAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,GAAAA,GACAA,EAAAA,WAAAA,EAAAA,QAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EACA,CACA,EAEA0jB,gBACA,iEACA,EACAC,kBAAAA,GACA,MACA,uBAEA,WAMA,OAJA/sB,EADA,iCACAA,IAAAA,EAAAA,OAAAA,QAEAA,IAAAA,EAAAA,QACAA,EAAAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,KAAAA,eAAAA,GAAAA,KAAAA,eAAAA,KACA,YACA,EACAoqB,UAAAA,GACA,+BAEA,mCACA,8BACA9d,EAAAA,OAAAA,EACAA,EAAAA,OAAAA,EACA,2BACAA,EAAAA,OAAAA,GAEA,CACA,8BACA,EAEAoT,cAAAA,GACA,iCACA,EAEA0E,SAAAA,GACA,wCAGA,OAFA,GACA9f,QAAAA,IAAAA,GAAAA,eACA,CACA,EAEA+kB,aAAAA,GACA,sCACA,EACA2D,eAAAA,GACA,QAMA,OALA,IACA9H,GAAAA,IAAAA,EAAAA,KACA,kBACAA,GAAAA,MAEA,CACA,EAEAxD,WAAAA,EAAAA,GACA,YACA,wCAIA,EACAC,aAAAA,EAAAA,EAAAA,MACA,uDACA,aAIA,EACAC,gBAAAA,EAAAA,GACA,YACA,aAIA,EAEAG,gBACA,qBACA,2BACA,gDACAC,EAAAA,GAAAA,MAGA,wBACA,2BACA,kDACAC,EAAAA,GAAAA,KAEA,EAEAgL,cAAAA,EAAAA,EAAAA,GACA,gBACA,OAEA,uBACA,OACA5lB,KAAAA,CACAxJ,MAAAA,CAAAA,KAAAA,KAAAA,KAAAA,MACAqvB,SAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACAC,eAAAA,CAAAA,OAEAnS,QAAAA,CACAnd,MAAAA,CAAAA,KAAAA,MACAqvB,SAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,KAGA,yDACA,mDACA,qBACA,cACA,mCACA,cACA/d,GAAAA,EAAAA,OAAAA,IAGA,uBACA,iBACA,iBACA,iBACA,iBACA,gBACA,kBAEA,OACApW,GAAAA,EAAAA,KAAAA,MAAAA,QACAA,GAAAA,EAAAA,KAAAA,MAAAA,QACA,OACAA,GAAAA,EAAAA,KAAAA,MAAAA,QACAA,GAAAA,EAAAA,KAAAA,MAAAA,QAEA,eACA,0DACA,kBACA,eACA,SACA,QACA,cAEA,CAGA,8BACA,wBACA,+BACA,CACA,aAEA,kBACA,MACA,kBACA,WACA8E,EAAAA,EACA,CAEA,OADAA,EAAAA,KAAAA,GACA,IACA,aAEA,cACA,2BACA,uBACA,0BACA,uBACA,CACA,QACA,aAEA,0BACA,0CACA,IACAuvB,EAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,IACA,oCACA,+BACA,gCACA,oCACAhL,EAAAA,EAAAA,GACAC,EAAAA,EAAAA,GACAC,EAAAA,EAAAA,GACA/H,EAAAA,KAAAA,MAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EACA,aAEA,mBACA,wBACA,2BACA,uBACAA,EAAAA,QAAAA,MAAAA,CAAAA,EAAAA,EACA,aAEA,0BACA,iBACA,oBAEA,GADArS,EAAAA,GAAAA,GAAAA,EAAAA,KAAAA,GACA,EACA,2BACAA,EAAAA,IAAAA,EAAAA,GAGA,4BAEA,gBACA,0BACAmlB,EAAAA,GAAAA,KAAAA,CACAt1B,KAAAA,EACAmtB,MAAAA,EACAoI,KAAAA,GAEA,EACA,oDACA,yCACA,qDACA,0CACA,qDACA,0CACA,qDACA,0CACA,qDACA,0CAEA,GACA,eACA,eACA,eACA,kBAEA,GACA,gBACA,kBACA,kBACA,mBAEA,2BACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAC,EAAAA,EAAAA,EAAAA,GAAAA,IACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAC,EAAAA,EAAAA,EAAAA,GAAAA,IACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAC,EAAAA,EAAAA,EAAAA,GAAAA,IACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAC,EAAAA,EAAAA,EAAAA,GAAAA,IACAC,EAAAA,EAAAA,EAAAA,GAAAA,IAAAC,EAAAA,EAAAA,EAAAA,GAAAA,IAGA,oBACA,KACA,4BACA,kCACA,eACAj1B,EAAAA,OACAs0B,EAAAA,GAAAA,EAAAA,GAAAA,QAAAA,IAAAA,EAAAA,SAAAA,IACA,CAEA,eACAY,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,MAAAA,EAAAA,SAEA,gBACA,qBACA,oBACAA,EAAAA,GAAAA,MACA,CACA1T,EAAAA,KAAAA,SAAAA,CACA,aAEA,0BACA,iBACA,oBAEA,GADArS,EAAAA,GAAAA,GAAAA,EAAAA,KAAAA,GACA,EACA,2BACAA,EAAAA,IAAAA,EAAAA,GAGA,kBAEA,gBACA,0BACAmlB,EAAAA,GAAAA,KAAAA,CAAAt1B,KAAAA,EAAAmtB,MAAAA,EAAAoI,KAAAA,GACA,EACA,oDACA,qDACA,qDACA,qDACA,qDAEA,GACA,sBACA,uBAEA,2BACAC,EAAAA,EAAAA,EAAAA,GAAAA,IACAE,EAAAA,EAAAA,EAAAA,GAAAA,IACAE,EAAAA,EAAAA,EAAAA,GAAAA,IACAE,EAAAA,EAAAA,EAAAA,GAAAA,IACAE,EAAAA,EAAAA,EAAAA,GAAAA,IAGA,oBACA,KACA,4BACA,kCACA,eACAh1B,EAAAA,OACAs0B,EAAAA,GAAAA,EAAAA,GAAAA,QAAAA,IAAAA,EAAAA,SAAAA,IACA,CAEA,eACAY,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,EAAAA,EAAAA,MAAAA,EAAAA,SAEA,gBACA,qBACA,oBACAA,EAAAA,GAAAA,MACA,CACA1T,EAAAA,QAAAA,SAAAA,CACA,aAGA,aAEA,6BACA,qBACA2T,IACAC,IACAC,IACAC,SAEA,gBACA,sBACA,aACA,OACA,2BACA,EACAH,EAAAA,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAnF,EAAAA,OAEA,MACA,eACA,sBACA,aACA,OACA,2BACA,EACAgF,EAAAA,KAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAnF,EAAAA,OACA,MACA,mBACAgF,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,IAEA,SACAH,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,SACAC,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,SACAnF,EAAAA,QAEA,UACAgF,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,UACAC,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,UACAnF,EAAAA,OAEA,WACAgF,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,UACAC,EAAAA,GACAC,GAAAA,GAAAA,EAAAA,KAAAA,MAAAA,UACAnF,EAAAA,OAMA,OAJA,aACA3O,EAAAA,KAAAA,eAAAA,CAAAA,KAAAA,kBAAAA,KAGA,CACA,EAEAmQ,UAAAA,GACA,6BACA4D,EAAAA,MAAAA,GACAA,EAAAA,UAAAA,GACAA,EAAAA,UAAAA,GACA,gCAEA,SACAxT,UAAAA,EAAAA,UACA7b,OAAAA,KAAAA,iBAAAA,EAAAA,MAAAA,IAEA,GACA6b,UAAAA,EAAAA,UACA7b,OAAAA,KAAAA,oBAAAA,IAEA,4BAEA,kCACA,gDACA0D,EAAAA,OAAAA,EAAAA,KAAAA,SAAAA,QACAA,EAAAA,OAAAA,EAAAA,KAAAA,SAAAA,QAEA,iCACA,kDACA,CACA,kCACA,mDACAA,EAAAA,OAAAA,EAAAA,QAAAA,SAAAA,QACA,sCACA,CACA,EAEAgoB,kBACA,6BACA,4BACA,sGACA,mGAEA,wEACA,uEAEA,SAEA,oBACA,SACA,2BACA,QACAziB,EAAAA,KAAAA,EAAAA,IACA,QACA,EACA,cACA,SACA,2BACA,QACAA,EAAAA,KAAAA,EAAAA,IACA,QACA,EAEA,iBACA,kBACAomB,EAAAA,MAAAA,GACAA,EAAAA,UAAAA,GACAA,EAAAA,UAAAA,GACAA,EAAAA,OAAAA,GACAC,EAAAA,MAAAA,GACAA,EAAAA,UAAAA,GAEAD,EAAAA,UAAAA,EACAC,EAAAA,UAAAA,EACA,4BACAzT,UAAAA,EACA7b,OAAAA,KAAAA,iBAAAA,EAAAA,MAAAA,IACA,CACA6b,UAAAA,EACA7b,OAAAA,KAAAA,oBAAAA,IACA,GAEAqvB,EAAAA,MAAAA,EAAAA,KAAAA,MACAA,EAAAA,UAAAA,EAAAA,EAAAA,KAAAA,UACAA,EAAAA,UAAAA,EAAAA,EAAAA,KAAAA,UACAA,EAAAA,eAAAA,EAAAA,KAAAA,eACApmB,EAAAA,KAAAA,OAAAA,EAAAA,OAAAA,KAAAA,kBAAAA,GAEAqmB,EAAAA,MAAAA,EAAAA,QAAAA,MACAA,EAAAA,UAAAA,EAAAA,QAAAA,SACA,sCAEAjI,EAAAA,KAAAA,CACAkI,GAAAA,EACAnnB,KAAAA,EAAAA,KACA2T,QAAAA,EAAAA,KACAha,KAAAA,CACAqG,KAAAA,EACA2T,QAAAA,EACAsT,IAAAA,EACAC,IAAAA,EACAhU,OAAAA,IAGA,CAGA+L,EAAAA,EAAAA,MAAAA,CAAAA,EAAAA,IAAAA,KAAAA,QAAAA,EAAAA,GAAAA,EAAAA,MAAAA,MAAAA,EAAAA,KACA,SACA,KACA,4BACA,WACApe,EAAAA,MAAAA,EAAAA,EACAA,EAAAA,cAAAA,CAAAA,EACA,qBACAumB,EAAAA,KAAAA,EAAAA,MACAvmB,EAAAA,cAAAA,KAAAA,WAEA,wBACAwmB,EAAAA,KAAAA,EAAAA,SACAxmB,EAAAA,cAAAA,QAAAA,UAEA,CACA,oBACA,EAEA6iB,gBAAAA,GACA,WACA,mBACA,aACA,gBACA,CACAzc,EAAAA,KAAAA,UAAAA,MAAAA,EAAAA,KAAAA,KACAA,EAAAA,KAAAA,KAAAA,MAAAA,EAAAA,KACAA,EAAAA,KAAAA,MAAAA,MAAAA,EAAAA,MACAA,EAAAA,KAAAA,OAAAA,MAAAA,EAAAA,OACAA,EAAAA,KAAAA,UAAAA,MAAAA,EAAAA,UAEA,oBACA,2CACA3L,EAAAA,MAAAA,EAAAA,QAEA,2BACA,6CACAA,EAAAA,OAAAA,EAAAA,QACAA,EAAAA,OAAAA,EAAAA,QAGA2L,EAAAA,UAAAA,IAAAA,EAAAA,KAAAA,OACAA,EAAAA,mBAAAA,IAAAA,EAAAA,KAAAA,gBACAA,EAAAA,WAAAA,IAAAA,EAAAA,KAAAA,OACA,CACA,CACAA,EAAAA,QAAAA,UAAAA,MAAAA,EAAAA,KAAAA,QACAA,EAAAA,QAAAA,KAAAA,MAAAA,EAAAA,KACAA,EAAAA,QAAAA,MAAAA,MAAAA,EAAAA,MACAA,EAAAA,QAAAA,OAAAA,MAAAA,EAAAA,OACAA,EAAAA,QAAAA,UAAAA,MAAAA,EAAAA,UAEA,oBACA,8CACA3L,EAAAA,MAAAA,EAAAA,QAEA,8BACA,gDACAA,EAAAA,OAAAA,EAAAA,QAGA2L,EAAAA,aAAAA,IAAAA,EAAAA,QAAAA,MACA,CACA,EAEAqgB,kBACA,aACA,OACA7T,UAAAA,EAAAA,KAAAA,UAAAA,MACA9d,KAAAA,EAAAA,KAAAA,KAAAA,MACAD,MAAAA,EAAAA,KAAAA,MAAAA,MACAiQ,OAAAA,EAAAA,KAAAA,OAAAA,MACAC,UAAAA,EAAAA,KAAAA,UAAAA,MACAjO,OAAAA,EAAAA,KAAAA,OAAAA,MACAvB,OAAAA,OAAAA,OAAAA,EAAAA,YAAAA,KAAAA,GAAAA,EAAAA,QACAmxB,UAAAA,OAAAA,OAAAA,EAAAA,cAAAA,KAAAA,GAAAA,EAAAA,SACAC,UAAAA,OAAAA,OAAAA,EAAAA,cAAAA,KAAAA,GAAAA,EAAAA,SACAhxB,MAAAA,IAAAA,EAAAA,WACAsvB,eAAAA,IAAAA,EAAAA,oBACAntB,OAAAA,IAAAA,EAAAA,aAEA,QACA,EACA8uB,qBACA,aACA,OACAhU,UAAAA,EAAAA,QAAAA,UAAAA,MACA9d,KAAAA,EAAAA,QAAAA,KAAAA,MACAD,MAAAA,EAAAA,QAAAA,MAAAA,MACAiQ,OAAAA,EAAAA,QAAAA,OAAAA,MACAC,UAAAA,EAAAA,QAAAA,UAAAA,MACAxP,OAAAA,OAAAA,OAAAA,EAAAA,eAAAA,KAAAA,GAAAA,EAAAA,QACAmxB,UAAAA,OAAAA,OAAAA,EAAAA,iBAAAA,KAAAA,GAAAA,EAAAA,SACA/wB,MAAAA,IAAAA,EAAAA,eAEA,QACA,EACAkxB,iBAAAA,EAAAA,EAAAA,GAAAA,GACA,sBACA,cACA,MACA,SAEA,4EAEA,mBACA,YACA,iCACA,MACA,SACA,0BACA,IACA,mBACA,qBACA,qBACA,qBACA,qBACA,qBAEA,CAGA,2BACA7mB,EAAAA,GAAAA,KAAAA,MAAAA,EAAAA,IAAAA,EAAAA,IAAAA,EAAAA,KAGA,qCACA,iBACA,2BACAA,EAAAA,IAAAA,EAAAA,OAAAA,GAEA,qCACAA,EAAAA,IAAAA,EAAAA,UAAAA,GAEA,KACA,SAGA,QACA8mB,GAAAA,GAAAA,EAAAA,KACAA,GAAAA,GAAAA,EAAAA,OACA,sBAEAA,GAAAA,KAAAA,eAAAA,GAEAA,GAAAA,EAAAA,EAAAA,OAAAA,IACA,cACAA,GAAAA,IACA,6CACA,WACA,oBACA,SAEA,oBACAA,GAAAA,GAAAA,EAAAA,KACAA,GAAAA,GAAAA,EAAAA,OACAA,GAAAA,IAAAA,EAEA,oCACA,oBACA9mB,EAAAA,IAAAA,EAAAA,GAEA,iCACA,2BACAA,EAAAA,IAAAA,EAAAA,GACA,6CACA,cACA,EACA+mB,eACA,8EACA,EAEAC,oBAAAA,GACA,sBACA,cACA,MACA,SAEA,2FAEA,qCACA,iBACA,2BACAhnB,EAAAA,IAAAA,EAAAA,OAAAA,GAIAA,EAAAA,GAAAA,EAGA,QACA8mB,GAAAA,GAAAA,EAAAA,KACAA,GAAAA,GAAAA,EAAAA,OACAA,GAAAA,IAAAA,EACA,2CAEA,cACA,EACAG,kBACA,0DACA,EAEA9iB,YACA,SAEA,0BAEA,sCACA,oBACAC,EAAAA,KAAAA,EAAAA,EAAAA,QAEAA,EAAAA,KAAAA,EAAAA,OAEA,4CACAA,EAAAA,KAAAA,EAAAA,OACA,8CACAA,EAAAA,KAAAA,EAAAA,QACAA,EAAAA,KAAAA,EAAAA,QAEA,6BACAA,EAAAA,KAAAA,EAAAA,IACA,4BACAA,EAAAA,KAAAA,EAAAA,IACA,qCACAA,EAAAA,KAAAA,EAAAA,IAEA,yCACA,oBACAA,EAAAA,KAAAA,EAAAA,EAAAA,QAEAA,EAAAA,KAAAA,EAAAA,OAEA,+CACAA,EAAAA,KAAAA,EAAAA,OACA,iDACAA,EAAAA,KAAAA,EAAAA,QAEA,+BACAA,EAAAA,KAAAA,EAAAA,IAEA,QACA,EACAE,YAAAA,GACA,kCACA,OAIA,qDAEA,sCACA,oBACA7J,EAAAA,MAAAA,EAAAA,EAAAA,SAEAA,EAAAA,MAAAA,EAAAA,QAEA,4CACAA,EAAAA,MAAAA,EAAAA,QACA,8CACAA,EAAAA,OAAAA,EAAAA,QACAA,EAAAA,OAAAA,EAAAA,QAGA,iBACAoN,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,UAEA,gBACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,UAEA,yBACAA,EAAAA,EAAAA,UAGA,yCACA,oBACApN,EAAAA,MAAAA,EAAAA,EAAAA,SAEAA,EAAAA,MAAAA,EAAAA,QAEA,+CACAA,EAAAA,MAAAA,EAAAA,QACA,iDACAA,EAAAA,OAAAA,EAAAA,QAEA,mBACAoN,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,SAEA,EAEAwJ,eACA,uBACA,4DAGA,OAFA9M,GAAAA,SAAAA,EAAAA,KAAAA,KAAAA,UAEA,CACA,EAEA8W,eAAAA,GACA9W,EAAAA,mBAAAA,GACA,gCACA,MACA,2CAEA,OADA,qBACA,CACA,CACA,QACA,EAEA2iB,WACA,YACA,0BAEA,8CACA,2CACA,qBAEA,EAEA3F,YAAAA,GACA,uBACA,EACAC,YAAAA,GACA,6BACA,2BACAznB,EAAAA,KAAAA,kBAAAA,KAAAA,WAAAA,GACAA,EAAAA,GAAAA,KAAAA,WAAAA,KAAAA,kBACA,iBACA,CACA,wBACA,EACA0nB,eACA,GAGA9mB,SAAAA,CACAinB,YACA,kCACA,iBACA,EACAF,gBACA,gCACA,SACA,SACA,oDAGA,SAGA,EACA,EAEAO,iBACA,0BACA,EACAK,oBACA,6BACA,EACAQ,UACA,0BACA,GAGAtoB,MAAAA,CACA2E,KAAAA,CAAAsc,QAAAA,WAAA,iBAAAC,MAAAA,GACA2F,WAAAA,CAAA5F,QAAAA,WAAA,iBAAAC,MAAAA,GACA5B,UAAAA,CAAA2B,QAAAA,WAAA,iBAAAC,MAAAA,GACAmG,mBAAAA,CAAApG,QAAAA,WAAA,iBAAAC,MAAAA,GACAoG,aAAAA,CAAArG,QAAAA,WAAA,iBAAAC,MAAAA,GACA4F,WAAAA,CAAA7F,QAAAA,WAAA,iBAAAC,MAAAA,GACA5I,QAAAA,CAAA2I,QAAAA,WAAA,iBAAAC,MAAAA,GACAyG,cAAAA,CAAA1G,QAAAA,WAAA,iBAAAC,MAAAA,GACA1B,aAAAA,CAAAyB,QAAAA,WAAA,iBAAAC,MAAAA,GACA2G,gBAAAA,CAAA5G,QAAAA,WAAA,iBAAAC,MAAAA,KCj/CwQ,MCQpQ,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QCwYhC,IACA7rB,KAAAA,QACAC,WAAAA,CACAme,WAAAA,EACAkZ,gBAAAA,GACAC,qBAAAA,GACAC,gBAAAA,IAEAnZ,OAAAA,CAAAA,GAEApV,OACA,OACAka,gBAAAA,GAEAre,KAAAA,CACA8qB,YAAAA,CACA,kFACA,+FAEAC,UAAAA,CACA,gDACA,iDAEAC,aAAAA,CACA,0DACA,2DACA,2DACA,iEACA,+DAEAC,YAAAA,CACA,oDACA,qDACA,uCAGAP,eAAAA,CACA,+FACA,8FACA,8FACA,+FACA,8FACA,+FACA,qGACA,qGAEAG,cAAAA,CACA,+FACA,8FACA,8FACA,+FACA,8FACA,+FACA,qGACA,sGAIA,EAEA5lB,UACAqB,SAAAA,MAAAA,cAEA,mCACA,oCACA,oCACA,iCACA,kCACA,mCACA,gCACA,8BAEA,sFACA,kEACA,4BAEA,yBACA,4HACA,+BAEA,gCACA,+BACA,+BACA,oBACA,0BACA,qBACA,+BACA,qCAEA,oCACA,KACA,CAIA,EAEAlC,UACA,EAEA+B,QAAAA,CACAohB,SAAAA,GACA,gCAGA,OAFA,GACA9f,QAAAA,IAAAA,GAAAA,eACA,CACA,EAEAqW,GAAAA,GACA,MACA,YACA,uCACA,2BACA5iB,KAAAA,EAAAA,UACAqR,KAAAA,KAAAA,SAAAA,EAAAA,WACA+R,QAAAA,GAGA,CACA,EAEAsM,UAAAA,GACA,0BACA,8BAEA,aACA,GAGA5kB,SAAAA,CACA,GC7hBqP,MCSjP,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCpB5BrL,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,eAAe,GAAGA,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,QAAQkE,MAAOlG,EAAIkG,OAAQ,CAAChG,EAAG,MAAM,CAACO,YAAY,SAAS,CAACT,EAAI+D,GAAG,GAAG7D,EAAG,IAAI,CAACF,EAAI6B,GAAG,qDAAqD3B,EAAG,MAAMF,EAAI6B,GAAG,2CAA2C3B,EAAG,MAAMF,EAAI6B,GAAG,oCAAoC3B,EAAG,MAAMA,EAAG,MAAMF,EAAI6B,GAAG,mDAAmD3B,EAAG,MAAMF,EAAI6B,GAAG,kDAAkD3B,EAAG,MAAMF,EAAI6B,GAAG,oCAAoC3B,EAAG,MAAMF,EAAI6B,GAAG,uDAAuD3B,EAAG,MAAMA,EAAG,MAAMF,EAAI+D,GAAG,GAAG7D,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACT,EAAI6B,GAAG,o3BAA83B3B,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,2BAA2B,OAAS,WAAW,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,2BAA2B,OAAS,YAAY,GAAGF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,2BAA2B,OAAS,WAAW,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,2BAA2B,OAAS,YAAY,IAAI,QACxgE,EACIC,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kBAAkB,KAAO,sBAAsBJ,EAAI6B,GAAG,uBAC5J,EAAE,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,mDAAmD3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,0BAA0B3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,2EAA+E3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,+CAA+C3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,qDACtV,GCuDA,IACAvB,KAAAA,OACAC,WAAAA,CACAme,WAAAA,GAEAC,OAAAA,CAAAA,GAEApV,OACA,OACA,CACA,EAEAc,UACAqB,SAAAA,MAAAA,cACA,EAEAlC,UACA,EAEA+B,QAAAA,CACA,EAEAH,SAAAA,CACA,GClFoP,MCShP,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCpB5BrL,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,OAAOC,GAAG,CAAC,UAAYV,EAAIW,YAAY,MAAQ,SAASe,GAAQ,OAAO1B,EAAI+3B,aAAa,KAAK,IAAI,CAAC73B,EAAG,MAAM,CAACO,YAAY,SAASG,MAAM,CAAE,QAAWZ,EAAIa,aAAc,CAACX,EAAG,eAAe,GAAGA,EAAG,MAAM,CAACO,YAAY,QAAQuB,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,MAAM,CAACO,YAAY,eAAeuB,YAAY,CAAC,YAAY,WAAW,CAAC9B,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,aAAa3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAIg4B,WAAah4B,EAAIg4B,WAAWzc,IAAM,GAAG,KAAO,KAAK,GAAK,kBAAkB,SAA2B,MAAhBvb,EAAIi4B,aAAmBj4B,EAAIoB,GAAIpB,EAAIk4B,YAAY,SAASC,EAAO52B,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIo4B,aAAaD,EAAO5c,KAAK,GAAOvb,EAAI+L,WAAY,IAAI,CAAC/L,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGq2B,EAAO5c,KAAK,MAAM,IAAG,IAAI,OAAOrb,EAAG,MAAM,CAACO,YAAY,aAAaL,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,MAAM,CAACO,YAAY,qBAAqB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACF,EAAI6B,GAAG,UAAU3B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI6E,aAAa7E,EAAI8E,aAAa,KAAO,KAAK,GAAK,oBAAoB9E,EAAIoB,GAAIpB,EAAI6E,cAAc,SAASvD,EAAEC,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEd,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAI8E,YAAYvD,CAAC,IAAI,CAACvB,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAGR,GAAG,MAAM,IAAG,IAAI,WAAWpB,EAAG,MAAM,CAACO,YAAY,UAAUyF,MAAOlG,EAAIkG,OAAQ,CAAChG,EAAG,MAAM,CAACO,YAAY,cAAc,CAAGT,EAAIi4B,WAAiUj4B,EAAIqD,KAAzTnD,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAIq4B,cAAep3B,SAAS,SAAUC,GAAMlB,EAAIq4B,cAAcn3B,CAAG,EAAEC,WAAW,kBAAkBnB,EAAIoB,GAAIpB,EAAIs4B,WAAW,SAASC,GAAO,OAAOr4B,EAAG,QAAQ,CAACsB,IAAI+2B,EAAMz1B,GAAG1C,MAAM,CAAC,MAAQm4B,EAAMrwB,MAAMxH,GAAG,CAAC,MAAQ,SAASgB,GAAQ1B,EAAIw4B,YAAYD,EAAMz1B,IAAI,GAAO9C,EAAI+L,WAAY,IAAI,IAAG,GAAY7L,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,OAAO,mBAAmB,QAAQ,QAAU,SAAS,CAAC9B,EAAG,MAAM,CAACmC,IAAI,QAAQ5B,YAAY,kBAAkBT,EAAIoB,GAAIpB,EAAIy4B,OAAO,SAASC,EAAKn3B,GAAG,OAAOrB,EAAG,MAAM,CAACsB,IAAID,EAAEX,MAAMZ,EAAI24B,aAAaD,GAAMt4B,MAAM,CAAC,IAAMJ,EAAIwoB,KAAKxoB,EAAI44B,gBAAgBF,EAAKG,OAAO,GAAKH,EAAK51B,IAAIpC,GAAG,CAAC,MAAQ,SAASgB,GAAiC,OAAzBA,EAAOo3B,kBAAyB94B,EAAI+4B,YAAYL,EAAK,EAAE,QAAU,SAASh3B,GAAQ,MAAG,WAAYA,GAA4B,IAAlBA,EAAOs3B,OAAoB,MAAKt3B,EAAOoS,iBAAiBpS,EAAOo3B,kBAAyB94B,EAAI+3B,aAAaW,GAAK,EAAE,UAAY,SAASh3B,GAAQ,MAAG,WAAYA,GAA4B,IAAlBA,EAAOs3B,OAAoB,MAAKt3B,EAAOoS,iBAAiBpS,EAAOo3B,kBAAyB94B,EAAIkyB,eAAc,EAAE,YAAc,SAASxwB,GAAyD,OAAjDA,EAAOoS,iBAAiBpS,EAAOo3B,kBAAyB94B,EAAI+3B,aAAaW,EAAK,EAAE,UAAY,SAASh3B,GAAQ,OAAO1B,EAAIi5B,YAAYP,EAAK,EAAE,WAAa,SAASh3B,GAAQ,OAAO1B,EAAIk5B,YAAYR,EAAK,IAAI,CAAE14B,EAAIwoB,MAAM2Q,SAAWn5B,EAAIwoB,MAAM4Q,WAAY,CAACl5B,EAAG,QAAQ,CAACO,YAAY,SAASuB,YAAY,CAAC,SAAW,WAAW,KAAO,MAAM,IAAM,OAAO,UAAU,KAAK5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIwoB,KAAK5Y,KAAKhP,OAAO,MAAQ,KAAK,OAAS,QAAQV,EAAG,QAAQ,CAACO,YAAY,SAASuB,YAAY,CAAC,SAAW,WAAW,KAAO,OAAO,IAAM,MAAM,UAAU,KAAK5B,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIwoB,KAAKjF,QAAQ3iB,OAAO,MAAQ,KAAK,OAAS,SAAUZ,EAAIwoB,MAAM2Q,SAAWn5B,EAAIwoB,MAAM5Y,KAAM,CAAC1P,EAAG,QAAQ,CAACO,YAAY,SAASL,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIwoB,KAAK5Y,KAAKhP,OAAO,MAAQ,KAAK,OAAS,SAAUZ,EAAIwoB,MAAM6Q,SAAU,CAACn5B,EAAG,MAAM,CAACE,MAAM,CAAC,UAAY,IAAIM,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAIs5B,WAAWZ,EAAK,EAAE,KAAO,SAASh3B,GAAQ,OAAO1B,EAAIu5B,WAAWb,EAAK,EAAE,SAAW,SAASh3B,GAAgC,OAAxBA,EAAOoS,iBAAwB9T,EAAIkyB,cAAc,IAAI,CAAChyB,EAAG,QAAQ,CAACO,YAAY,SAASL,MAAM,CAAC,IAAMJ,EAAIiE,YAAYjE,EAAIwoB,KAAK5Y,KAAKhJ,MAAM,MAAQ,KAAK,OAAS,SAAS,IAAI5G,EAAIqD,MAAM,EAAE,IAAG,GAAGnD,EAAG,MAAM,CAACO,YAAY,cAAc,CAACT,EAAIoB,GAAIpB,EAAIw5B,kBAAkB,SAAShR,GAAM,MAAO,CAACtoB,EAAG,MAAM,CAACsB,IAAIgnB,EAAKiR,IAAIh5B,YAAY,YAAYG,MAAM,CAAE,YAAeZ,EAAI05B,kBAAkBlR,IAAQpoB,MAAM,CAAC,GAAK,SAASooB,EAAKiR,MAAM,CAACv5B,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKhJ,MAAM,MAAQ4hB,EAAK5Y,KAAKtP,KAAK,MAAQ,KAAK,OAAS,KAAK,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcwhB,EAAK5Y,KAAKtP,KAAK,cAAcJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKhP,OAAO,MAAQ,OAAO4nB,EAAK5Y,KAAKhP,MAAM,OAAS,QAAQV,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKzI,YAAY,MAAQ,SAASqhB,EAAK5Y,KAAKzI,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAK5Y,KAAKxI,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAK5Y,KAAKvI,UAAU,GAAGnH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAK5Y,KAAKtK,aAAa,GAAIkjB,EAAK5Y,KAAKpI,OAAQtH,EAAG,MAAM,CAACO,YAAY,UAAUyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAa+gB,EAAK5Y,KAAKpI,YAAYxH,EAAIqD,OAAOnD,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAIoB,GAAIonB,EAAK5Y,KAAKrH,QAAQ,SAASC,EAAMC,GAAI,MAAO,CAAGD,EAAMmxB,eAA+iC35B,EAAIqD,KAAniCnD,EAAG,MAAM,CAACsB,IAAIiH,EAAGhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,SAASooB,EAAKiR,IAAI,SAAShxB,IAAK,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,SAASooB,EAAKiR,IAAI,SAAShxB,EAAG,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,aAAsB,KAAI,OAAQmlB,EAAK4Q,YAAcp5B,EAAI8E,aAAe,EAAG5E,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQ3c,MAAM,MAAQ4hB,EAAKjF,QAAQjjB,KAAK,MAAQ,KAAK,OAAS,KAAK,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcwhB,EAAKjF,QAAQjjB,KAAK,eAAeJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQ3iB,OAAO,MAAQ,OAAO4nB,EAAKjF,QAAQ3iB,MAAM,OAAS,QAAQV,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQpc,YAAY,MAAQ,SAASqhB,EAAKjF,QAAQpc,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAKjF,QAAQnc,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,UAAU3B,EAAG,OAAO,CAACO,YAAY,eAAe,CAACT,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAKjF,QAAQje,aAAa,GAAIkjB,EAAKjF,QAAQ/b,OAAQtH,EAAG,MAAM,CAACO,YAAY,UAAUyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAa+gB,EAAKjF,QAAQ/b,YAAYxH,EAAIqD,WAAWrD,EAAIqD,OAAO,KAAI,MAAM,KAAMrD,EAAIi4B,WAAY/3B,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,QAAQtB,GAAG,CAAC,MAAQ,SAASgB,GAAQA,EAAOo3B,iBAAkB,IAAI,CAAC54B,EAAG,MAAM,CAACO,YAAY,cAAc,CAAET,EAAI45B,gBAAgBvzB,OAAQnG,EAAG,MAAM,CAAC8B,YAAY,CAAC,gBAAgB,SAAS,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,eAAe,OAAO5B,MAAM,CAAC,KAAO,OAAO,CAACJ,EAAI6B,GAAG,UAAU7B,EAAIoB,GAAIpB,EAAI45B,iBAAiB,SAASpxB,EAAMC,GAAI,OAAOvI,EAAG,SAAS,CAACsB,IAAIiH,EAAG/H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI65B,cAAcrxB,EAAM,IAAI,CAACtI,EAAG,QAAQ,CAACU,MAAMZ,EAAI85B,eAAetxB,GAAOpI,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,MAAQ5G,EAAIkS,YAAY1J,GAAO,MAAQ,SAAS,EAAE,KAAI,GAAGxI,EAAIqD,KAAKnD,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,OAAO7B,EAAI8B,GAAG9B,EAAIi4B,WAAW8B,MAAM,MAAM/5B,EAAI8B,GAAG9B,EAAIi4B,WAAW+B,aAAe,QAAS,QAAQ,WAAW95B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO,eAAe,OAAO5B,MAAM,CAAC,KAAO,KAAK,SAAWJ,EAAIi4B,WAAW8B,MAAQ/5B,EAAIi4B,WAAWgC,SAAWj6B,EAAIi4B,WAAWiC,aAAax5B,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIm6B,SAAS,IAAI,CAACn6B,EAAI6B,GAAG,aAAa3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIo6B,eAAe,IAAI,CAACp6B,EAAI6B,GAAG,mBAAmB,KAAK7B,EAAI+D,GAAG,KAAK7D,EAAG,MAAM,CAACO,YAAY,UAAUuB,YAAY,CAAC,aAAa,SAAS,CAAC9B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,eAAe,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,YAAc,MAAM,SAA2B,MAAhBJ,EAAIi4B,YAAkBn3B,MAAM,CAACC,MAAOf,EAAIq6B,SAAUp5B,SAAS,SAAUC,GAAMlB,EAAIq6B,SAASn5B,CAAG,EAAEC,WAAW,cAAcjB,EAAG,aAAa,CAAC8B,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,SAA2B,MAAhBJ,EAAIi4B,aAAmBj4B,EAAIoB,GAAIpB,EAAIs6B,WAAW,SAASh6B,EAAKiB,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIu6B,UAAUh5B,EAAE,IAAI,CAACvB,EAAI6B,GAAG,OAAO7B,EAAI8B,GAAGP,GAAG,KAAKvB,EAAI8B,GAAGxB,KAAQ,IAAG,GAAGJ,EAAG,aAAa,CAAC8B,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS5B,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,SAA2B,MAAhBJ,EAAIi4B,aAAmB,CAACj4B,EAAIoB,GAAIpB,EAAIs6B,WAAW,SAASh6B,EAAKiB,GAAG,OAAOrB,EAAG,kBAAkB,CAACsB,IAAID,EAAEb,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIw6B,UAAUj5B,EAAE,IAAI,CAACvB,EAAI6B,GAAG,OAAO7B,EAAI8B,GAAGP,GAAG,KAAKvB,EAAI8B,GAAGxB,KAAQ,IAAGJ,EAAG,kBAAkB,CAACQ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIw6B,UAAU,GAAG,IAAI,CAACx6B,EAAI6B,GAAG,aAAa,GAAG3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO,cAAc,OAAO5B,MAAM,CAAC,KAAO,KAAK,SAA2B,MAAhBJ,EAAIi4B,YAAkBv3B,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAIy6B,YAAY,IAAI,CAACz6B,EAAI6B,GAAG,cAAc3B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,OAAO,cAAc,OAAO5B,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO1B,EAAI06B,iBAAiB,IAAI,CAAC16B,EAAI6B,GAAG,mBAAmB,OAAO3B,EAAG,MAAM,CAACO,YAAY,UAAUyF,MAAOlG,EAAIkG,OAAQ,CAAChG,EAAG,MAAM,CAACO,YAAY,aAAauB,YAAY,CAAC,aAAa,OAAO,gBAAgB,SAAS,CAAC9B,EAAG,SAAS,CAACY,MAAM,CAACC,MAAOf,EAAI26B,aAAc15B,SAAS,SAAUC,GAAMlB,EAAI26B,aAAaz5B,CAAG,EAAEC,WAAW,iBAAiBnB,EAAIoB,GAAIpB,EAAI46B,aAAa,SAASpS,EAAKqS,GAAI,OAAO36B,EAAG,QAAQ,CAACsB,IAAIq5B,EAAG74B,YAAY,CAAC,mBAAmB,QAAQ,YAAY,SAAS,aAAa,SAASof,YAAYphB,EAAIqhB,GAAG,CAAC,CAAC7f,IAAI,QAAQ8f,GAAG,WAAW,MAAO,CAACphB,EAAG,KAAK,CAAC8B,YAAY,CAAC,YAAY,OAAO5B,MAAM,CAAC,UAAY,IAAIM,GAAG,CAAC,UAAY,SAASgB,GAAQ,OAAO1B,EAAI86B,WAAWtS,EAAK,EAAE,KAAO,SAAS9mB,GAAQ,OAAO1B,EAAI+6B,WAAWvS,EAAK,EAAE,SAAW,SAAS9mB,GAAgC,OAAxBA,EAAOoS,iBAAwB9T,EAAIkyB,cAAc,IAAI,CAAClyB,EAAI6B,GAAG,QAAQ7B,EAAI8B,GAAG+4B,EAAG,GAAG,KAAK36B,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,MAAMhJ,MAAM,MAAQ,QAAQ1G,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,SAAS3c,MAAM,MAAQ,SAAS,GAAG,EAAE2a,OAAM,IAAO,MAAK,IAAO,CAAGvhB,EAAIi4B,WAAwtBj4B,EAAIqD,KAAhtBnD,EAAG,MAAM,CAAC8B,YAAY,CAAC,QAAU,SAAS,CAAC9B,EAAG,WAAW,CAAC8B,YAAY,CAAC,MAAQ,QAAQ5B,MAAM,CAAC,GAAM,gBAAey6B,KAAMn6B,GAAG,CAAC,MAAQ,SAASgB,GAAQ8mB,EAAKwS,YAAYxS,EAAKwS,UAAU,IAAI,CAACh7B,EAAI6B,GAAG,QAAQ3B,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,gBAAey6B,IAAK,eAAe,2BAA2B,KAAOrS,EAAKwS,WAAW,MAAQ,CAACz3B,KAAK,EAAGC,KAAK,KAAK,UAAU,IAAI9C,GAAG,CAAC,cAAc,SAASgB,GAAQ,OAAO1B,EAAI2B,KAAK6mB,EAAM,aAAc9mB,EAAO,IAAI,CAACxB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAOooB,EAAKyS,YAAYv6B,GAAG,CAAC,OAAS,SAASgB,GAAQ,OAAO8mB,EAAK0S,KAAKx5B,EAAO,KAAKxB,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASgB,GAAQ8mB,EAAKwS,YAAW,CAAK,IAAI,CAACh7B,EAAI6B,GAAG,UAAU,IAAI,IAAI,GAAY3B,EAAG,MAAM,CAACO,YAAY,OAAOuB,YAAY,CAAC,cAAc,eAAe,CAAEwmB,EAAK5Y,KAAKurB,IAAKj7B,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKhJ,MAAM,MAAQ4hB,EAAK5Y,KAAKtP,KAAK,MAAQ,MAAM,OAAS,MAAM,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcwhB,EAAK5Y,KAAKtP,UAAUJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKhP,OAAO,MAAQ,OAAO4nB,EAAK5Y,KAAKhP,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAK3I,QAAQ,MAAQ,QAAQuhB,EAAK5Y,KAAK3I,OAAO,OAAS,QAAQ/G,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAK1I,QAAQ,MAAQ,SAASshB,EAAK5Y,KAAK1I,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAK5Y,KAAKzI,YAAY,MAAQ,SAASqhB,EAAK5Y,KAAKzI,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAK5Y,KAAKxI,WAAW,GAAGlH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAK5Y,KAAKvI,UAAU,IAAI,GAAGnH,EAAG,MAAM,CAACO,YAAY,UAAUyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAa+gB,EAAK5Y,KAAKpI,cAActH,EAAG,MAAM,CAACO,YAAY,UAAU,CAACT,EAAIoB,GAAIonB,EAAK5Y,KAAKrH,QAAQ,SAASC,EAAMC,GAAI,MAAO,CAAGD,EAAMmxB,eAAqjC35B,EAAIqD,KAAziCnD,EAAG,MAAM,CAACsB,IAAK,QAAOiH,IAAKhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAM,OAAMy6B,eAAgBpyB,MAAO,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,OAAMy6B,eAAgBpyB,IAAK,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,aAAsB,KAAI,GAAGnD,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIonB,EAAK5Y,KAAKxJ,OAAO,SAASoC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAK,OAAMiH,IAAKhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAM,OAAMy6B,cAAepyB,MAAO,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,OAAMy6B,cAAepyB,IAAK,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAAEsI,EAAMoS,KAAM1a,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAMoS,MAAM,MAAQ,MAAMpS,EAAMoS,KAAK,OAAS,QAAQ5a,EAAIqD,KAAKrD,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG0G,EAAMlI,MAAM,MAAM,KAAKJ,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,YAAY,IAAG,SAASrD,EAAIqD,KAAMmlB,EAAKjF,QAAQ4X,IAAKj7B,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQ3c,MAAM,MAAQ4hB,EAAKjF,QAAQjjB,KAAK,MAAQ,MAAM,OAAS,MAAM,QAAU,OAAO,GAAGJ,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgH,cAAcwhB,EAAKjF,QAAQjjB,UAAUJ,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQ3iB,OAAO,MAAQ,OAAO4nB,EAAKjF,QAAQ3iB,MAAM,OAAS,QAAQV,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQnG,aAAa,MAAQ,WAAWoL,EAAKjF,QAAQnG,YAAY,OAAS,QAAQld,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQrc,QAAQ,MAAQ,SAASshB,EAAKjF,QAAQrc,OAAO,OAAS,QAAQhH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYukB,EAAKjF,QAAQpc,YAAY,MAAQ,SAASqhB,EAAKjF,QAAQpc,WAAW,MAAQ,KAAK,OAAS,SAAS,GAAGjH,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAY,MAAM,MAAQ,KAAK,MAAQ,KAAK,OAAS,QAAQ/D,EAAG,OAAO,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0mB,EAAKjF,QAAQnc,WAAW,IAAI,GAAGlH,EAAG,MAAM,CAACO,YAAY,UAAUyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIyH,aAAa+gB,EAAKjF,QAAQ/b,cAActH,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIonB,EAAKjF,QAAQhb,QAAQ,SAASC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAK,QAAOiH,IAAKhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAM,OAAMy6B,cAAepyB,MAAO,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,OAAMy6B,cAAepyB,IAAK,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACF,EAAI6B,GAAG7B,EAAI8B,GAAG0G,EAAMlI,SAASJ,EAAG,MAAM,CAACO,YAAY,cAAcyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIgJ,kBAAkBR,SAAatI,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,YAAY,IAAG,GAAGnD,EAAG,MAAM,CAACO,YAAY,UAAUT,EAAIoB,GAAIonB,EAAKjF,QAAQnd,OAAO,SAASoC,EAAMC,GAAI,OAAOvI,EAAG,MAAM,CAACsB,IAAK,OAAMiH,IAAKhI,YAAY,QAAQG,MAAMZ,EAAI0I,cAAcF,IAAQ,CAACtI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAM,OAAMy6B,aAAcpyB,MAAO,CAACvI,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAM5B,MAAM,KAAO,KAAK,OAAS,QAA0B,GAAjB5G,EAAI8E,YAAgB5E,EAAG,YAAY,CAACE,MAAM,CAAC,OAAU,OAAMy6B,aAAcpyB,IAAK,SAAW,cAAc,MAAQ,CAAClF,KAAK,EAAGC,KAAK,KAAK,UAAU,GAAG,MAAQgF,EAAMlI,KAAK,UAAY,QAAQ,CAACJ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,WAAexI,EAAIqD,MAAM,GAAGnD,EAAG,MAAM,CAAC2G,WAAW,CAAC,CAACvG,KAAK,OAAOwG,QAAQ,SAAS/F,MAAOf,EAAI8E,aAAe,EAAG3D,WAAW,qBAAqBV,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,KAAK,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,IAAMJ,EAAIiE,YAAYuE,EAAMoS,MAAM,MAAQ,MAAMpS,EAAMoS,KAAK,OAAS,QAAQ5a,EAAI6B,GAAG,IAAI7B,EAAI8B,GAAG0G,EAAMlI,MAAM,MAAM,KAAKJ,EAAG,IAAI,CAACA,EAAG,OAAO,CAACgD,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAI4H,WAAWY,OAAYA,EAAMpF,KAAMlD,EAAG,OAAO,CAACO,YAAY,OAAOyC,SAAS,CAAC,UAAYlD,EAAI8B,GAAG9B,EAAIqI,WAAWG,OAAWxI,EAAIqD,YAAY,IAAG,SAASrD,EAAIqD,QAAQ,IAAG,IAAI,MAC1jnB,EACIhD,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,cAAc,CAACT,EAAI6B,GAAG,wCAAwC3B,EAAG,MAAMF,EAAI6B,GAAG,8CAA8C3B,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI6B,GAAG,sCAAsC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,iBAAiB3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,oCAAoC3B,EAAG,MAAMF,EAAI6B,GAAG,sCAAsC3B,EAAG,KAAK,CAACF,EAAI6B,GAAG,qBAAqB3B,EAAG,IAAI,CAACF,EAAI6B,GAAG,iCAAiC7B,EAAI6B,GAAG,KAAK3B,EAAG,MAAMF,EAAI6B,GAAG,8BAC7hB,G,8+mECHO,MAAMu5B,GASAC,uBACT,MAAO,CACLxC,MAAO,CAAC,EAAG,GACXjpB,KAAM,CACJurB,IAAK,GACL5yB,OAAQ,GACRnC,MAAO,GACPoB,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAE1B+b,QAAS,CACP4X,IAAK,GACL5yB,OAAQ,GACRnC,MAAO,GACPoB,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAG9B,CAEIqxB,YAEF,OAAO54B,KAAKq7B,IAAMr7B,KAAKq7B,IAAIzC,MAAQ54B,KAAKoF,KAAKwzB,KAC/C,CACIA,UAAM3tB,GACJjL,KAAKq7B,IACPr7B,KAAKq7B,IAAIzC,MAAQ3tB,EAEjBjL,KAAKoF,KAAKwzB,MAAQ3tB,CACtB,CACI0E,WACF,OAAO3P,KAAKq7B,IAAMr7B,KAAKq7B,IAAI1rB,KAAO3P,KAAKoF,KAAKuK,IAC9C,CACI2T,cACF,OAAOtjB,KAAKq7B,IAAMr7B,KAAKq7B,IAAI/X,QAAUtjB,KAAKoF,KAAKke,OACjD,CACI6V,iBACF,OAAOn5B,KAAKoF,KAAKke,QAAQ4X,GAC3B,CACII,cACF,OAAOt7B,KAAKq7B,IAAMr7B,KAAKq7B,IAAIC,QAAU,EACvC,CAEIl0B,WACF,OAAOpH,KAAKq7B,IAAMr7B,KAAKq7B,IAAI1rB,KAAKvI,KAAOpH,KAAK2P,KAAKvI,IACnD,CACID,YACF,OAAOnH,KAAKq7B,IAAMr7B,KAAKq7B,IAAI1rB,KAAKxI,MAAQnH,KAAK2P,KAAKxI,KACpD,CACImL,eACF,QAAOtS,KAAKq7B,KAAMr7B,KAAKq7B,IAAI/oB,QAC7B,CAEAoC,YAAY0kB,GAAW,IAAM,wBA3DnB,IAAK,yBACJ,IAAK,oBAET+B,GAASC,YAAS,mBACnB,OAAI,0BACG,KAAE,2BACF,GAsDPhC,EACFp5B,KAAKo5B,UAAW,EAEhBp5B,KAAKk5B,SAAU,EACjBl5B,KAAKu7B,YACP,CACAA,aACE,MAAMC,EAAML,GAASC,UACrBhrB,OAAOqrB,OAAOz7B,KAAKoF,KAAKuK,KAAM6rB,EAAI7rB,MAClCS,OAAOqrB,OAAOz7B,KAAKoF,KAAKke,QAASkY,EAAIlY,SACrCtjB,KAAK+6B,YAAa,EAClB/6B,KAAKg7B,WAAa,GAElB,MAAMU,EAAeC,KAAOD,aAC5BA,EAAa17B,KAAKoF,KAAKuK,KAAM,MAC7B+rB,EAAa17B,KAAKoF,KAAKke,QAAS,KAClC,CACAsY,KAAK3wB,GACH,MAAMgT,EAAe0d,KAAO1d,aAC5BA,EAAaje,KAAKoF,KAAM6F,EAAE7F,KAAM,QAChC6Y,EAAaje,KAAKoF,KAAM6F,EAAE7F,KAAM,WAChC6Y,EAAaje,KAAMiL,EAAG,aACxB,CAEA4wB,YACE77B,KAAKq7B,KAAKQ,WACZ,CACAC,YACE97B,KAAKq7B,KAAKS,WACZ,CAEAnnB,YACE,MAAMonB,EAAe,SAAU/d,GAC7B,MAAO,CACLkd,IAAKld,EAAIkd,IACT5yB,OAAQ0V,EAAI1V,OAAOsK,KAAI7F,GAAKA,EAAEuO,MAC9BnV,MAAO6X,EAAI7X,MAAMyM,KAAI7F,GAAKA,EAAEuO,MAC5B/T,OAAQyW,EAAIzW,OAEhB,EACA,IAAIiJ,EAAI,CACNb,KAAMosB,EAAa/7B,KAAKoF,KAAKuK,MAC7B2T,QAASyY,EAAa/7B,KAAKoF,KAAKke,SAChC0X,WAAY,IAAIh7B,KAAKg7B,aAEvB,OAAOxqB,CACT,CACAsE,YAAYtE,GACV,MAAMsZ,EAAgB6R,KAAO7R,cACvB4R,EAAeC,KAAOD,aACtBM,EAAiB,SAAU9uB,EAAK8Q,GACpC,MAAMtX,EAAMojB,EAAc9L,EAAIkd,KAC9BQ,EAAaxuB,EAAKxG,GAClBwG,EAAIguB,IAAMld,EAAIkd,IACdhuB,EAAI5E,OAAS0V,EAAI1V,OAAOsK,IAAIkX,GAC5B5c,EAAI/G,MAAQ6X,EAAI7X,MAAMyM,IAAIkX,GAC1B5c,EAAI3F,OAAS,IAAIyW,EAAIzW,OACvB,EACAy0B,EAAeh8B,KAAKoF,KAAKuK,KAAMa,EAAEb,MACjCqsB,EAAeh8B,KAAKoF,KAAKke,QAAS9S,EAAE8S,SACpCtjB,KAAKg7B,WAAa,IAAIxqB,EAAEwqB,WAC1B,CACAC,KAAKgB,GACH,MAAMnS,EAAgB6R,KAAO7R,cACvBoS,EAAYP,KAAOO,UACnBR,EAAeC,KAAOD,aAG5B,IAAI/rB,EAAO3P,KAAKoF,KAAKuK,KACrB,MAAMwsB,EAAUrS,EAAcmS,EAAGtsB,KAAKyT,UAAUtiB,OAAOwa,KACvDogB,EAAa/rB,EAAMwsB,GACnBxsB,EAAKurB,IAAMiB,GAAS7gB,KAAO,GAC3B3L,EAAKrH,OAAS,GACV6zB,IACFxsB,EAAKrH,OAAS,CAAC6zB,EAAQz0B,UAAWu0B,EAAGnK,YAAYnhB,QAAO5D,GAAKA,IAAG6F,KAAI7F,GAAK+c,EAAc/c,EAAEuO,QAE3F3L,EAAKxJ,MAAQ,IAAI81B,EAAG5J,sBAAuB4J,EAAG3R,WAAW3Z,QAAO5D,GAAKA,IAAG6F,KAAI7F,GAAK+c,EAAc/c,EAAEuO,OACjG3L,EAAKpI,OAAS00B,EAAGxJ,eAAejkB,MAAM,EAAG,GAEzC,IAAI8U,EAAUtjB,KAAKoF,KAAKke,QACxB,MAAM8Y,EAAStS,EAAcmS,EAAG3Y,QAAQF,UAAUtiB,OAAOwa,KACzDogB,EAAapY,EAAS8Y,GACtB9Y,EAAQ4X,IAAMkB,GAAQ9gB,KAAO,GAC7BgI,EAAQhb,OAAS,GACb8zB,IACF9Y,EAAQhb,OAAS,IAAI8zB,EAAO9zB,QAAQqI,QAAO5D,GAAKA,IAAG6F,KAAI7F,GAAK+c,EAAc/c,EAAEuO,QAE9EgI,EAAQnd,MAAQ81B,EAAGzR,aAAa7Z,QAAO5D,GAAKA,IAAG6F,KAAI7F,GAAK+c,EAAc/c,EAAEuO,OACxEgI,EAAQ/b,OAAS00B,EAAGnJ,kBAAkBtkB,MAAM,EAAG,GAE/C0tB,EAAUl8B,KAAKg7B,WAAYiB,EAAGtnB,YAEhC,EAGF,SAAS0nB,GAAcljB,GACrB,IAAIiB,EAAOhK,OAAOksB,OAAOnjB,GAkMzB,OAjMAiB,EAAKmiB,MAAQ,EACbniB,EAAKoiB,KAAOC,IACZriB,EAAKsiB,WAAY,EACjBtiB,EAAKlS,SAAU,EAEfkS,EAAKzF,UAAY,WACf,MAAO,CACL4nB,MAAOniB,EAAKmiB,MACZC,KAAMpiB,EAAKoiB,KACXE,UAAWtiB,EAAKsiB,UAChBx0B,QAASkS,EAAKlS,QAElB,EACAkS,EAAKtF,YAAc,SAAUtE,GAC3B4J,EAAKmiB,MAAQ/rB,EAAE+rB,MACfniB,EAAKoiB,KAAOhsB,EAAEgsB,KACdpiB,EAAKsiB,UAAYlsB,EAAEksB,UACnBtiB,EAAKlS,QAAUsI,EAAEtI,OACnB,EAEAkS,EAAKuiB,SAAW,SAAUC,GACpBxiB,EAAKd,WACPc,EAAKoiB,KAAOpiB,EAAKd,SACbsjB,IACFxiB,EAAKsiB,WAAY,GAGvB,EACAtiB,EAAKyiB,kBAAoB,SAAU9kB,EAAQ+kB,EAAQC,GACjD,MAAMC,EAAU,SAASC,EAAMC,EAAKC,GAClC,MAAM/V,EAAQ,CACZ,KAAM,IAAM6V,GAAQE,EACpB,IAAK,IAAMF,EAAOE,EAClB,IAAK,IAAMF,EAAOE,EAClB,KAAM,IAAMF,GAAQE,EACpB,KAAM,IAAMF,GAAQE,EACpB,KAAM,IAAMF,GAAQE,GAEtB,OAAO/V,EAAM8V,EACf,EAEMxkB,EAAO0B,EAAKvM,UAClB,IAAIwS,GAAK,EACT,GAAI3H,EAAM,CACR,GAAIA,EAAKohB,KAAM,CACb,MAAMllB,EAAS8D,EAAKohB,KACfkD,EAAQD,EAAUjD,KAAMllB,EAAO,GAAIA,EAAO,MAC7CyL,GAAK,EAET,CACA,GAAI3H,EAAKsG,IAAMtG,EAAK0kB,SAAU,CAC5B,MAAMxoB,EAAS8D,EAAKsG,IAAMtG,EAAK0kB,SAC1BJ,EAAQjlB,EAAOslB,OAAQzoB,EAAO,GAAIA,EAAO,MAC5CyL,GAAK,EAET,CACA,GAAI3H,EAAK4kB,OAAQ,CACf,MAAM1oB,EAAS8D,EAAK4kB,OACfN,EAAQjlB,EAAOwlB,WAAY3oB,EAAO,GAAIA,EAAO,MAChDyL,GAAK,EAET,CACA,GAAI3H,EAAK8kB,UAAW,CAClB,MAAM5oB,EAAS8D,EAAK8kB,UACfR,EAAQjlB,EAAO0lB,cAAe7oB,EAAO,GAAIA,EAAO,MACnDyL,GAAK,EAET,CACA,GAAI3H,EAAKglB,cAAe,CACtB,MAAM9oB,EAAS8D,EAAKglB,cAAc7vB,UAC7BmvB,EAAQjlB,EAAO4lB,iBAAiBjlB,EAAKglB,cAAc1qB,MAAO4B,EAAO,GAAIA,EAAO,MAC/EyL,GAAK,EAET,CACA,GAAI3H,EAAKklB,eAAgB,CACvB,MAAMhpB,EAAS8D,EAAKklB,eAAe/vB,UAC9BmvB,EAAQjlB,EAAO8lB,kBAAkBnlB,EAAKglB,cAAc1qB,MAAO4B,EAAO,GAAIA,EAAO,MAChFyL,GAAK,EAET,CACA,GAAI3H,EAAKolB,iBAAmBplB,EAAKqlB,sBAAuB,CACtD,MAAMnpB,EAAS8D,EAAKolB,iBAAmBplB,EAAKqlB,sBACvCf,EAAQjlB,EAAO+lB,gBAAiBlpB,EAAO,GAAIA,EAAO,MACrDyL,GAAK,EAET,CACA,GAAI3H,EAAKslB,mBAAqBtlB,EAAKulB,wBAAyB,CAC1D,MAAMrpB,EAAS8D,EAAKslB,mBAAqBtlB,EAAKulB,wBACzCjB,EAAQjlB,EAAOimB,kBAAmBppB,EAAO,GAAIA,EAAO,MACvDyL,GAAK,EAET,CACA,GAAI3H,EAAKwlB,OAASxlB,EAAKylB,YAAa,CACnBzlB,EAAKwlB,OAASxlB,EAAKylB,WAEpC,EAEIzlB,EAAK0lB,SAAW1lB,EAAK2lB,gBAClB3lB,EAAK0lB,QAAQ3qB,SAASsE,EAAOpI,KAAKhP,SACrC0f,GAAK,IAGL3H,EAAK4lB,WACF5lB,EAAK4lB,SAAS7qB,SAASsE,EAAOpI,KAAK3I,UACtCqZ,GAAK,IAGL3H,EAAK6lB,YACFxB,EAAUhD,eAAiBhiB,EAAOqhB,UAAc2D,EAAU9C,cAAgBliB,EAAOmhB,WACpF7Y,GAAK,GAGL3H,EAAKC,cACFokB,EAAUhD,cAAgBhiB,EAAOqhB,UAAc2D,EAAU9C,aAAeliB,EAAOmhB,WAClF7Y,GAAK,GAGL3H,EAAK8lB,eACHzB,EAAU51B,MAAQ,IACpBkZ,GAAK,GAGL3H,EAAK+lB,gBACgB,GAAnB1B,EAAU51B,QACZkZ,GAAK,GAGL3H,EAAKgmB,SAGLhmB,EAAKimB,aAGLjmB,EAAKG,MAGX,CACA,OAAOwH,CACT,EACAjG,EAAKwkB,aAAe,SAAU7mB,EAAQ+kB,EAAQC,GAC9C,EACA3iB,EAAKykB,eAAiB,SAAU9mB,EAAQ+kB,EAAQC,GAChD,EAEA3iB,EAAK0kB,YAAc,WACnB,EACA1kB,EAAK2kB,kBAAoB,WACzB,EACA3kB,EAAK4kB,gBAAkB,WACvB,EACA5kB,EAAK6kB,cAAgB,WACrB,EACA7kB,EAAK8kB,YAAc,WACnB,EACA9kB,EAAK+kB,YAAc,YACZ/kB,EAAKsiB,WAAatiB,EAAKoiB,KAAO,GACd,KAAbpiB,EAAKoiB,OACTpiB,EAAKlS,SAAU,EAGrB,EACAkS,EAAKglB,UAAY,WACfhlB,EAAKsiB,WAAY,CACnB,EAEAtiB,EAAKilB,UAAY,SAAUtC,EAAWuC,GACpC,IAAI9uB,EAAI,EACR,MAAM2I,EAASiB,EAwBf,OAvBIjB,EAAOrY,OACT0P,EAAI2I,EAAOrY,MACPqY,EAAOwQ,WAGTnZ,GAAK4J,EAAKmiB,QAGLpjB,EAAOyQ,SAIZpZ,EADEhD,MAAMsD,QAAQqI,EAAOyQ,SAASjkB,KAC5BwT,EAAOyQ,SAASjkB,IAAIwT,EAAOyQ,SAASjkB,IAAIS,OAAS,GAGjD+S,EAAOyQ,SAASjkB,IAGfwT,EAAO/L,MAGdoD,EAAsB,IAAlB2I,EAAO/L,IAAI8I,MAEV1F,CACT,EACO4J,CACT,CAEA,SAASmlB,GAAoBz5B,GAC3B,IAAIsU,EAAO,CACTzC,WAAY,EACZ7W,MAAO,GAEL0+B,EAAM7D,KAaV,OAZAvhB,EAAKzC,WAA+B,kBAAV7R,EAAqB05B,EAAI9nB,eAAe5R,GAAQA,EAE1EsU,EAAKzF,UAAY,WACf,MAAO,CACLgD,WAAY3X,KAAK2X,WACjB7W,MAAOd,KAAKc,MAEhB,EACAsZ,EAAKtF,YAAc,SAAUtE,GAC3BxQ,KAAK2X,WAAanH,EAAEmH,WACpB3X,KAAKc,MAAQ0P,EAAE1P,KACjB,EACOsZ,CACT,CAEA,SAASqlB,GAAal3B,EAAOm3B,GAC3B,IAAItlB,EAAOhK,OAAOksB,OAAO/zB,GACzB6R,EAAKxR,MAAQ82B,EACTtlB,EAAK9H,WACP8H,EAAKulB,SAAW,GAElBvlB,EAAK2C,QAAU,GAEf,IAAK,IAAI5D,IAAU,IAAKiB,EAAKP,MAAQ,MAASO,EAAKL,QAAU,IAC3DK,EAAK2C,QAAQjP,KAAKuuB,GAAcljB,IA4ElC,OAzEAiB,EAAKzF,UAAY,WACf,IAAInE,EAAI,CACNuM,QAAS3C,EAAK2C,QAAQnK,KAAI7F,GAAKA,EAAE4H,eAKnC,OAHIyF,EAAK9H,WACP9B,EAAEmvB,SAAWvlB,EAAKulB,UAEbnvB,CACT,EACA4J,EAAKtF,YAAc,SAAUtE,GACvB4J,EAAK9H,WACP8H,EAAKulB,SAAWnvB,EAAEmvB,UAEpBvlB,EAAK2C,QAAUvM,EAAEuM,QAAQnK,KAAI,SAAUtJ,GACrC,IAAIiB,EAAM8xB,KAEV,OADA9xB,EAAIuK,YAAYxL,GACTiB,CACT,GACF,EAEA6F,OAAO4K,eAAeZ,EAAM,YAAa,CACvCsC,IAAK,KAAgBtC,EAAK9H,UAAY8H,EAAKulB,UAAY,IAGzDvlB,EAAKuiB,SAAW,SAAUC,GACxB,IAAK,IAAIppB,KAAK4G,EAAK2C,QACjBvJ,EAAEmpB,SAASC,EAEf,EACAxiB,EAAKwlB,KAAO,WACVhzB,QAAQC,IAAIuN,GACRA,EAAK9H,WACP8H,EAAKulB,SAAWvlB,EAAKtH,IAAM2pB,IAE/B,EACAriB,EAAK0kB,YAAc,WACjB,IAAK,IAAItrB,KAAK4G,EAAK2C,QACjBvJ,EAAEsrB,aAEN,EACA1kB,EAAK2kB,kBAAoB,WACvB,IAAK,IAAIvrB,KAAK4G,EAAK2C,QACjBvJ,EAAEurB,mBAEN,EACA3kB,EAAK4kB,gBAAkB,WACrB,IAAK,IAAIxrB,KAAK4G,EAAK2C,QACjBvJ,EAAEwrB,iBAEN,EACA5kB,EAAK6kB,cAAgB,WACnB,IAAK,IAAIzrB,KAAK4G,EAAK2C,QACjBvJ,EAAEyrB,eAEN,EACA7kB,EAAK8kB,YAAc,WACjB,IAAK,IAAI1rB,KAAK4G,EAAK2C,QACjBvJ,EAAE0rB,aAEN,EACA9kB,EAAK+kB,YAAc,WACb/kB,EAAKulB,SAAW,KAChBvlB,EAAKulB,SAET,IAAK,IAAInsB,KAAK4G,EAAK2C,QACjBvJ,EAAE2rB,aAEN,EACA/kB,EAAKglB,UAAY,WACf,IAAK,IAAI5rB,KAAK4G,EAAK2C,QACjBvJ,EAAE4rB,WAEN,EACOhlB,CACT,CAEA,MAAMylB,GAmBArG,UAAQ,OAAOx5B,KAAKoF,KAAKo0B,GAAK,CAC9BlB,YAAU,OAAOt4B,KAAKoF,KAAKkzB,KAAO,CAClChmB,eAAa,OAAQtS,KAAK8/B,WAAa9/B,KAAK2P,KAAKqP,GAAK,CAAG,CAE7DtK,YAAY6T,IAAM,oBAtBX,OAAI,0BACC,IAAK,qBACT,CAAC,EAAG,KAAE,8BACG,KAAE,6BACH,KAAE,oBACX,CACLwX,KAAM,GACNC,KAAM,GACNz4B,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxByX,GAAI,KACL,uBACS,CACR+gB,KAAM,GACNC,KAAM,GACNz4B,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxByX,GAAI,IAQJuJ,EAAK8S,IAAMr7B,KACXA,KAAKoF,KAAOmjB,EACZvoB,KAAK44B,MAAQ,IAAIrQ,EAAKnjB,KAAKwzB,OAET,KAAd54B,KAAKs4B,QACPt4B,KAAK8/B,WAAY,GAGnB,MAAMG,EAAiB,SAAUv5B,EAAKtB,GACpCsB,EAAI6hB,KAAOvoB,KACX0G,EAAIq5B,KAAO,GACXr5B,EAAIs5B,KAAO,GACXt5B,EAAIa,OAAS,IAAInC,EAAKmC,QACtBb,EAAIsY,GAAKtY,EAAIa,OAAO,GAEpB,IAAIe,EAASlD,EAAKkD,OAASlD,EAAKkD,OAAOsK,KAAIrK,GAASk3B,GAAal3B,EAAO7B,KAAQ,GAChF,GAAIA,EAAIwL,OAAQ,CAEd,IAAI+M,EAAMwgB,GAAa9D,KAAO7R,cAAgC,QAAlBpjB,EAAIQ,WAAuB,UAAY,YACnFkJ,OAAO4K,eAAeiE,EAAK,QAAS,CAClCvC,IAAK,IAAMhW,EAAIS,QAEjBmB,EAAS,CAAC2W,KAAQ3W,EACpB,CACIA,EAAOlC,QACTgK,OAAO4K,eAAetU,EAAK,SAAU,CACnCgW,IAAK,IAAMpU,IAIf8H,OAAO4K,eAAetU,EAAK,aAAc,CACvC5F,MAAOsE,EAAKmC,OACZ0T,UAAU,GAEd,EAAE5J,KAAKrR,MAELA,KAAK2P,KAAOS,OAAOksB,OAAO/T,EAAKnjB,KAAKuK,MACpCswB,EAAejgC,KAAK2P,KAAM4Y,EAAKnjB,KAAKuK,MAElC4Y,EAAKnjB,KAAKke,UACZtjB,KAAKsjB,QAAUlT,OAAOksB,OAAO/T,EAAKnjB,KAAKke,SACvC2c,EAAejgC,KAAKsjB,QAASiF,EAAKnjB,KAAKke,UAGzC,IAAIkc,EAAM7D,KACV,GAAIpT,EAAM,CAER,MAAMjgB,EAAS,IAAKigB,EAAK5Y,KAAKrH,QAAU,MAASigB,EAAKjF,SAAShb,QAAU,MACrEigB,EAAK5Y,KAAO6vB,EAAItY,oBAAoBqB,EAAK5Y,KAAKhP,OAAS,MACvD4nB,EAAKjF,QAAUkc,EAAInY,uBAAuBkB,EAAKjF,QAAQ3iB,OAAS,MAChE4nB,EAAK5Y,KAAKxJ,OAAS,IAEvB,IAAK,IAAIoC,KAASD,GACZC,EAAM8T,UAAY9T,EAAMgK,WAAahK,EAAM6J,SAC7CpS,KAAKkgC,WAAW33B,GAAO,EAG7B,CACF,CAEAoM,YACE,IAAInE,EAAI,CAAC,EAIT,OAHAA,EAAEooB,MAAQ,IAAI54B,KAAK44B,OACnBiH,GAAQM,UAAU3vB,EAAEb,KAAM3P,KAAK2P,MAC/BkwB,GAAQM,UAAU3vB,EAAE8S,QAAStjB,KAAKsjB,SAC3B9S,CACT,CACAsE,YAAYtE,GACVxQ,KAAK44B,MAAQ,IAAIpoB,EAAEooB,OACnBiH,GAAQM,UAAUngC,KAAK2P,KAAMa,EAAEb,MAC/BkwB,GAAQM,UAAUngC,KAAKsjB,QAAS9S,EAAE8S,QACpC,CAEAyb,oBACA,CACAC,kBACEh/B,KAAKoF,KAAKi2B,IAAM,IAClB,CAEIgC,aAAW,OAAO,CAAG,CACrBE,iBAAe,OAAO,CAAG,CACzBE,oBAAkB,OAAO,CAAG,CAC5BK,sBAAoB,OAAO,CAAG,CAC9BE,wBAAsB,OAAO,CAAG,CAEpCL,iBAAiByC,GACf,OAAO,CACT,CACAvC,kBAAkBuC,GAChB,OAAO,CACT,CAEI9E,cACF,MAAO,IAAKt7B,KAAKoF,KAAKuK,MAAMrH,QAAU,MAAStI,KAAKoF,KAAKke,SAAShb,QAAU,IAAKqI,QAAO5D,GAAKA,EAAEuF,UACjG,CAEA4tB,WAAW33B,EAAO6R,GAAO,GACvB,IAAIxD,EAAI5W,KAAKqgC,eAAehoB,MAAKtL,GAAKA,EAAExE,QAAUA,IAC7CqO,IACHA,EAAI6oB,GAAal3B,EAAO6R,GACxBpa,KAAKqgC,eAAevyB,KAAK8I,IAE3BA,EAAE+lB,SAASviB,EACb,CACAkmB,kBAAkB3oB,EAAY7W,GAC5Bd,KAAKugC,cAAczyB,KAAKyxB,GAAoB5nB,EAAY7W,GAC1D,CAEA0/B,gBAAgBzD,GAEhB,CAEA+B,cACA,CACA2B,eACA,CACAC,cACA,CACAvB,cACA,CACAC,YACA,CAEAuB,iBAAiBzzB,EAAK8Q,GACpB,GAAKA,EAEL,IAAK,MAAM9O,KAAK8O,EACd,GAAI5N,OAAOoO,OAAOR,EAAK9O,GAAI,CACzB,MAAMjE,EAAI+S,EAAI9O,GACV1B,MAAMsD,QAAQ7F,GAChBiC,EAAIgC,GAAK,IAAIjE,GAGbiC,EAAIgC,GAAKjE,CAEb,CAEJ,EAGK,MAAM21B,GAiBXlsB,YAAYmsB,EAAIC,EAAIC,IAAW,wBAdpB,KAAE,oBAEN,KAAE,oBACF,KAAE,uBACC,IAAC,qBAEH,KAAE,oBACH,IAAC,6BACO,IAAI,wBAER,OAAI,wBACJ,OAAI,uBACL,IAGRH,GAAWI,SAAWhhC,KACtBA,KAAKihC,KAAOJ,EACZ7gC,KAAKkhC,KAAOJ,EACZ9gC,KAAKmhC,MAAQJ,EAAUnuB,KAAI7F,GAAK,IAAI8yB,GAAQ9yB,IAC9C,CACAq0B,eAAeC,GACb,OAAOrhC,KAAKmhC,MAAM9oB,MAAKtL,GAAKA,EAAE3H,OAASi8B,GACzC,CAEIC,mBACF,MAAQ,GAAEthC,KAAK85B,OAAO95B,KAAK+5B,aAAe,IAAM,KAClD,CACIwH,kBAAgB,OAAOvhC,KAAKmhC,MAAMxwB,QAAO6wB,IAAMA,EAAE1B,WAAY,CAE7D7F,kBAAgB,OAAQj6B,KAAK+5B,YAAc,CAC3CE,gBAAYhvB,GAAKjL,KAAK+5B,cAAgB9uB,CAAG,CAE7Cw2B,UAAUlZ,GACR,OAAOA,IAAUA,EAAK6Q,UAAYp5B,KAAK+5B,cAAkBxR,EAAK2Q,SAAWl5B,KAAKi6B,YAChF,CAIAyH,WACM1hC,KAAK+5B,cACP/5B,KAAK+5B,cAAe,EACpB/5B,KAAK2hC,kBACL3hC,KAAK4hC,oBAEE5hC,KAAK85B,KAAO95B,KAAKg6B,WACtBh6B,KAAK85B,KACP95B,KAAK+5B,cAAe,EACpB/5B,KAAK6hC,iBACL7hC,KAAK8hC,qBAGLl1B,QAAQC,IAAI,gBAEhB,CAEAkyB,oBACE,IAAK,IAAIyC,KAAKxhC,KAAKmhC,MACjBK,EAAEzC,oBAEJ/+B,KAAK8hC,mBACP,CACA9C,kBACE,IAAK,IAAIwC,KAAKxhC,KAAKmhC,MACjBK,EAAExC,kBAEJ4B,GAAWI,SAAW,IACxB,CAEAc,oBACE,IAAK,IAAIN,KAAKxhC,KAAKuhC,YACbC,EAAEpI,UACJoI,EAAE1C,aAGR,CACA6C,kBACE,IAAK,IAAIH,KAAKxhC,KAAKuhC,YACbC,EAAEpI,UACJoI,EAAEpC,WAGR,CAEAwC,mBACE,MAAMtJ,EAAQt4B,KAAKshC,aACnB,IAAK,IAAIE,KAAKxhC,KAAKmhC,MACbK,EAAE1B,WAAa0B,EAAElJ,OAASA,GAC5Bt4B,KAAK+hC,UAAUP,EAAGA,EAAE5I,OAGxB,IAAK,IAAI4I,KAAKxhC,KAAKuhC,YACbC,EAAEtI,SACJsI,EAAE1C,aAGR,CACA+C,iBACE,IAAK,IAAIL,KAAKxhC,KAAKuhC,YACbC,EAAEtI,SACJsI,EAAEpC,WAGR,CAGAzG,gBAAgBC,GACd,IAAK,MAAM4I,KAAKxhC,KAAKuhC,YACnB,GAAIC,EAAE5I,MAAM,IAAMA,EAAM,IAAM4I,EAAE5I,MAAM,IAAMA,EAAM,GAChD,OAAO4I,EAEX,OAAO,IACT,CACAQ,aAAapJ,GACX,OAAQA,EAAM,IAAM,GAAKA,EAAM,GAAK54B,KAAKihC,MACtCrI,EAAM,IAAM,GAAKA,EAAM,GAAK54B,KAAKkhC,IACtC,CACAa,UAAUxZ,EAAMqQ,GAEd,MAAMqJ,EAAW,CACf,CAAC,EAAG,GACJ,CAAC,GAAI,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,EAAE,EAAG,GAC9B,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,EAAE,EAAG,GAAI,EAAE,EAAG,GAAI,EAAE,GAAI,IAEpE,IAAK,MAAMC,KAAMD,EAAU,CACzB,IAAI5gC,EAAI,CAACu3B,EAAM,GAAKsJ,EAAG,GAAItJ,EAAM,GAAKsJ,EAAG,IACzC,GAAIliC,KAAKgiC,aAAa3gC,KAAOrB,KAAK24B,gBAAgBt3B,GAGhD,OAFAknB,EAAKqQ,MAAQv3B,EACbknB,EAAKuX,WAAY,GACV,CAEX,CACA,OAAO,CACT,GACD,QAxIYc,GAAU,WAEH,MA0Jb,MAAMuB,GAMXztB,YAAY0tB,EAAMC,IAAM,qBAJhB,KAAE,oBACH,IAAC,oBACD,GAGLriC,KAAKoiC,KAAOA,EACZpiC,KAAKqiC,KAAOA,EACZriC,KAAKw4B,MAAQ,IAAIhrB,MAAM40B,EAAOC,GAC9B,IAAK,IAAIC,EAAI,EAAGA,EAAItiC,KAAKqiC,OAAQC,EAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAIviC,KAAKoiC,OAAQG,EAC/BviC,KAAKw4B,MAAMx4B,KAAKqiC,KAAOC,EAAIC,GAAK,CAC9BC,cAAe,EACfC,eAAgB,EAChBC,YAAY,EACZC,YAAY,EAIpB,CACAC,QAAQL,EAAGD,GACT,OAAKC,GAAK,GAAKA,EAAIviC,KAAKoiC,MAAUE,GAAK,GAAKA,EAAItiC,KAAKqiC,KAC5CriC,KAAKw4B,MAAMx4B,KAAKqiC,KAAOC,EAAIC,GAE7B,IACT,CAEAM,YAAYt3B,GACV,OAAQvL,KAAK4iC,QAAQr3B,EAAI,GAAIA,EAAI,KAAKi3B,eAAiB,IAAM,CAC/D,CACAM,YAAYv3B,GACV,OAAQvL,KAAK4iC,QAAQr3B,EAAI,GAAIA,EAAI,KAAKk3B,gBAAkB,IAAM,CAChE,CACAM,SAASx3B,GACP,IAAIlK,EAAIrB,KAAK4iC,QAAQr3B,EAAI,GAAIA,EAAI,IAC7BlK,IACFA,EAAEmhC,aAAe,EAErB,CACAQ,aAAa7B,GACX,IAAK,MAAMK,KAAKL,EAAO,CACrB,IAAI9/B,EAAIrB,KAAK4iC,QAAQpB,EAAE5I,MAAM,GAAI4I,EAAE5I,MAAM,IACrCv3B,IACFA,EAAEqhC,YAAa,EAEnB,CACF,CACAO,YAAY9B,GACV,IAAK,MAAMK,KAAKL,EAAO,CACrB,IAAI9/B,EAAIrB,KAAK4iC,QAAQpB,EAAE5I,MAAM,GAAI4I,EAAE5I,MAAM,IACrCv3B,IACFA,EAAEshC,YAAa,EAEnB,CACF,CACAO,UAAU97B,EAAMD,EAAOg8B,EAAa,MACrB,MAATh8B,EACFA,EAAQ,EACQ,MAATA,IACPA,EAAQ,IAEV,IAAK,IAAIiI,EAAI,EAAGA,EAAIhI,IAAQgI,EAC1B,IAAK,IAAIkzB,EAAI,EAAGA,EAAItiC,KAAKqiC,OAAQC,EAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAIviC,KAAKoiC,OAAQG,EAC/BviC,KAAKojC,WAAWb,EAAGD,EAAGlzB,GAI5B,IAAK,IAAIkzB,EAAI,EAAGA,EAAItiC,KAAKqiC,OAAQC,EAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAIviC,KAAKoiC,OAAQG,EAC/BviC,KAAKqjC,WAAWd,EAAGD,EAAGn7B,EAAOg8B,EAGnC,CAEAC,WAAWb,EAAGD,EAAGgB,GACf,IAAIjiC,EAAIrB,KAAK4iC,QAAQL,EAAGD,GACxB,GAAIjhC,EAAEqhC,YAAcrhC,EAAEmhC,cAAgB,EACpC,OAEF,MAAMe,EAAY,CAChBvjC,KAAK4iC,QAAQL,EAAI,EAAGD,EAAI,GACxBtiC,KAAK4iC,QAAQL,EAAI,EAAGD,EAAI,GACxBtiC,KAAK4iC,QAAQL,EAAI,EAAGD,EAAI,GACxBtiC,KAAK4iC,QAAQL,EAAI,EAAGD,EAAI,IAE1B,IAAK,IAAIj0B,KAAKk1B,EACRl1B,GAAKA,EAAEm0B,cAAgBc,IACzBjiC,EAAEmhC,aAAec,EAAW,EAGlC,CACAD,WAAWd,EAAGD,EAAGn7B,EAAOq8B,GACtB,IAAIniC,EAAIrB,KAAK4iC,QAAQL,EAAGD,GACxB,GAAIjhC,EAAEmhC,aAAe,GAAKnhC,EAAEshC,WAC1B,OAGF,MAAMc,EAAW,SAAUC,EAAIC,EAAIL,GACjC,IAAIjiC,EAAIrB,KAAK4iC,QAAQL,EAAImB,EAAIpB,EAAIqB,GAC7BtiC,IAAMA,EAAEohC,cAAgB,GAAKa,EAAWjiC,EAAEohC,iBAC5CphC,EAAEohC,cAAgBa,EAEtB,EAAEjyB,KAAKrR,MAEP,IAAI4jC,EAAK,KAEPA,EADW,MAATJ,EACG,SAAUE,EAAIC,GACjB,IAAIrY,EAAI1f,KAAKjG,IAAIiG,KAAKC,IAAI63B,GAAK93B,KAAKC,IAAI83B,IACpCrY,GAAKnkB,GACPs8B,EAASC,EAAIC,EAAIrY,EAErB,EAEgB,MAATkY,EACF,SAAUE,EAAIC,GACjB,IAAIrY,EAAI1f,KAAKC,IAAI63B,GAAM93B,KAAKC,IAAI83B,GAC5BrY,GAAKnkB,IAAgB,GAANu8B,GAAiB,GAANC,IAC5BF,EAASC,EAAIC,EAAIrY,EAErB,EAGK,SAAUoY,EAAIC,GACjB,IAAIrY,EAAI1f,KAAKC,IAAI63B,GAAM93B,KAAKC,IAAI83B,GAC5BrY,GAAKnkB,GACPs8B,EAASC,EAAIC,EAAIrY,EAErB,EAGF,IAAK,IAAIoY,GAAMv8B,EAAOu8B,GAAMv8B,IAASu8B,EACnC,IAAK,IAAIC,GAAMx8B,EAAOw8B,GAAMx8B,IAASw8B,EACnCC,EAAGF,EAAIC,EAGb,EAGF,SAAShI,KACP,OAAOhxB,OAAOgxB,IAChB,CC7iBA,QACAt7B,KAAAA,SACAC,WAAAA,CACAme,WAAAA,EACAoZ,gBAAAA,IAEAnZ,OAAAA,CAAAA,EAAAA,IAEApV,OACA,OACA1E,aAAAA,CACA,OACA,OACA,MAEAyzB,UAAAA,CACA,CAAA7yB,MAAAA,EAAA3C,GAAAA,IAAAoF,KAAAA,QACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,YAGAg5B,KAAAA,GACAC,KAAAA,GAEAjJ,WAAAA,GACA4L,SAAAA,GACA9L,WAAAA,KACAS,MAAAA,GACAF,MAAAA,GACAwL,KAAAA,KACAC,WAAAA,KACAC,UAAAA,KAEAC,aAAAA,KACAtK,gBAAAA,GACAuK,cAAAA,KACAC,eAAAA,KACAC,YAAAA,KAEAC,MAAAA,CAAAA,EACAC,UAAAA,GAEAlM,cAAAA,EACA7Y,QAAAA,GAEA8a,UAAAA,CAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,IACAD,SAAAA,GACAmK,WAAAA,GACA5J,YAAAA,CACA,OACA,OACA,OACA,OACA,QAEAD,aAAAA,EAEA8J,aAAAA,CACA,CAAAh/B,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,UACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,UACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,UACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,UACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WACA,CAAAzC,MAAAA,EAAA3C,GAAAA,KAAAoF,KAAAA,WAEA+vB,WAAAA,KAEA,EAEAyM,eACA95B,OAAAA,KAAAA,IACA,EAEAP,UACAqB,SAAAA,MAAAA,qBAEA,eAEA,8DACA,6DACA,2FACA,uEAEA,oCACA,6BACA,wBACA,CACA,wDACA,4BACAi5B,EAAAA,KAAAA,OAAAA,CACA,8CACA,wDAEAA,EAAAA,KAAAA,OAAAA,KAAAA,gBAAAA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,KAAAA,WACA,CACA,cACA,0DACA,+BACAA,EAAAA,QAAAA,OAAAA,KAAAA,gBAAAA,EAAAA,EAAAA,QAAAA,MAAAA,EAAAA,QAAAA,WACA,CAEA,iBACAnc,EAAAA,IAAAA,EAAAA,IACAA,EAAAA,MAAAA,EAAAA,MACAA,EAAAA,MAAAA,EAAAA,MACA,mCACA,sCACAmc,EAAAA,KAAAA,CACA,CAGA,sBACA,0DACA,SACA,6CAEA,CACA,EAEAn7B,UACA,kBACA,YACA,qBACA,oBACA,qBACA,YACAivB,EAAAA,GAAAA,CACA31B,GAAAA,IAAAA,KAAAA,QAAAA,KAAAA,KAAAA,QAAAA,KACA+1B,MAAAA,CAAAA,EAAAA,GAEA,CAEA,aAEA,6BACA+L,EAAAA,oBAAAA,MAAAA,GAAAA,KAAAA,QAAAA,KAAAA,KACAA,EAAAA,iBAAAA,MAAAA,GAAAA,KAAAA,QAAAA,KAAAA,KAEA,oDACA,sBACA,2BAEA,gBACA,IAEA,kBAEAh6B,OAAAA,WAAAA,WACA,kBACA,YACA,EAEAQ,SAAAA,CACAouB,mBACA,uBACA,wCAGA,8DAEA,EACAqL,iBACA,uBACA,iEAGA,uFAEA,GAGAt5B,QAAAA,CACAu5B,aAOA,WACA,YACAC,cAAAA,CACAhM,YAAAA,GACA,mCACA,sBAIA,IAEA1e,EAAAA,WAAAA,GACA,IACAA,EAAAA,MAAAA,SAAAA,UAAAA,GACA,WACAA,EAAAA,SAAAA,SAAAA,EAAAA,SARA,eAYA,EACA2qB,WACA3qB,EAAAA,WAAAA,MACAA,EAAAA,KAAAA,IACA,EACA4qB,aAAAA,EAAAA,GACA5qB,EAAAA,MAAAA,SAAAA,aAAAA,EAAAA,EACA,GAGA6qB,WAAAA,CACAnM,YAAAA,GACA,mCAEA1e,EAAAA,WAAAA,GACA,YACAA,EAAAA,SAAAA,SAAAA,EAAAA,OAGA,GACAA,EAAAA,SAAAA,EAAAA,MAAAA,SAEA,EACAwf,cAAAA,GACA,EACAmL,WACA,EACAC,aAAAA,EAAAA,GACA,GAGAE,SAAAA,CACAhC,UAAAA,GACA,4BACA,YACAiC,EAAAA,aAAAA,EAAAA,eAAAA,QAAAA,GAAAA,EAAAA,UAAAA,EAAAA,KAAAA,OACAA,EAAAA,YAAAA,EAAAA,eAAAA,QAAAA,GAAAA,EAAAA,SAAAA,IAAAA,MAEA,aACAA,EAAAA,aAAAA,EAAAA,eAAAA,QAAAA,GAAAA,EAAAA,WACAA,EAAAA,YAAAA,EAAAA,eAAAA,QAAAA,GAAAA,EAAAA,UAAAA,EAAAA,KAAAA,KAAAA,IAAAA,MAEAA,EAAAA,SAAAA,EAAAA,OACAA,EAAAA,UAAAA,EAAAA,KAAAA,EAAAA,OACA/qB,EAAAA,KAAAA,CACA,EAEAgrB,WACA,+BACA,yCACAhrB,EAAAA,gBAAAA,EAAAA,aAAAA,QAEA,EACAirB,YACAjrB,EAAAA,WAAAA,MACAA,EAAAA,KAAAA,KACAA,EAAAA,gBAAAA,EACA,EACA0e,YAAAA,GACA,mCACA,mBACA,EACA,mBAEA1e,EAAAA,WAIA,iBACAA,EAAAA,WAAAA,GACA,iBAMA,8BACAA,EAAAA,aAAAA,MAAAA,EAAAA,MAGA,EACAwf,cAAAA,GACAxf,EAAAA,aAAAA,EAAAA,MAAAA,UACAA,EAAAA,aAAAA,GAEA,IACA,qCACAA,EAAAA,SAAAA,EAAAA,MAAAA,aAGAA,EAAAA,SAAAA,EAAAA,MAAAA,cAGA,EACA2qB,WACA3qB,EAAAA,SACA,EACA4qB,aAAAA,EAAAA,GACA,mCACA,iBACA,IACA,WACAx0B,EAAAA,KAAAA,cACA,YACAA,EAAAA,KAAAA,eACA,OACAA,EAAAA,KAAAA,aAEA,SACA,4BACA,IACAA,EAAAA,KAAAA,cACA,+CACAA,EAAAA,KAAAA,YAIA,8BACAA,EAAAA,KAAAA,gBACA,6EACAA,EAAAA,KAAAA,aAIA,gCACAA,EAAAA,KAAAA,gBAEA,GAGA80B,aAAAA,CACAF,WACA,sBACA,wBACAD,EAAAA,SAAAA,EAAAA,aAAAA,OACAA,EAAAA,UAAAA,EAAAA,EAAAA,OAAAA,GACA/qB,EAAAA,WAAAA,CACA,EACAirB,YACAjrB,EAAAA,cAAAA,KACAA,EAAAA,WAAAA,KACAA,EAAAA,WAAAA,IACA,EACA0e,YAAAA,GACA,sCACA,sBACA,mCACA,IACA1e,EAAAA,WAAAA,EACA,gBACAA,EAAAA,SAAAA,EAAAA,MAAAA,aAMA,CACA,EACAwf,cAAAA,GACAxf,EAAAA,MAAAA,SAAAA,cAAAA,EACA,EACA2qB,WACA3qB,EAAAA,SACA,EACA4qB,aAAAA,EAAAA,GACA,mCACA,iBACA,oCACAx0B,EAAAA,KAAAA,cACA,6EACAA,EAAAA,KAAAA,WAGA,GAGA+0B,YAAAA,CACAH,WACA,sBACA,wBACAD,EAAAA,UAAAA,EAAAA,YAAAA,EAAAA,cAAAA,OACAA,EAAAA,UAAAA,EAAAA,EAAAA,KAAAA,EAAAA,WACA/qB,EAAAA,UAAAA,CACA,EACAirB,YACA,4CACAjrB,EAAAA,cAAAA,MAEAA,EAAAA,UAAAA,IACA,EACA0e,YAAAA,GACA,qCACA,gBACA,mCACA,GACA,iCAIA,iBACA1e,EAAAA,WAAAA,EACA,gBAGA,CACA,EACAwf,cAAAA,GACAxf,EAAAA,MAAAA,SAAAA,cAAAA,EACA,EACA2qB,WACA3qB,EAAAA,SACA,EACA4qB,aAAAA,EAAAA,GACA,mCACA,iBACA,mCACAx0B,EAAAA,KAAAA,gBACA,6EACAA,EAAAA,KAAAA,WAGA,IAIA,yCACA,EAEAg1B,aACA,sBACA,EACAC,SAAAA,GACA,YACAC,EAAAA,WAEA,gCACA,EACAC,UACA,4BACA,4BAKA,OAJA,aACAD,EAAAA,YAEA,+BACA,CACA,CACA,QACA,EACAE,aAAAA,GACA,gCACA,cAEA,EAEAC,QAAAA,EAAAA,EAAAA,GACA,gCACA,EAEA1N,aAAAA,EAAAA,GAAAA,GACA,mBACA,4CACA,MAEA,gBACA,kBACA,2CAEA,GACA,wBAGA,mCACA,kBACA2N,EAAAA,KAAAA,KAAAA,YAAAA,GACAA,EAAAA,KAAAA,IAAAA,EAAAA,IACAA,EAAAA,KAAAA,MAAAA,EAAAA,MACAA,EAAAA,KAAAA,MAAAA,EAAAA,KACA,CAfA,CAgBA,EAEAvN,YAAAA,EAAAA,GAAAA,GACA,wCACA,IAGA,2BACA,aAEA,GACA,sBAEA,EAEAI,gBAAAA,GACA,mCACA,sCACA,SAEA,WACA,EAEAsM,WAAAA,GAEA,GADA,oBACA,IACA,WACA,+BAEA,aACA,sDACA,mBACA,CAEA,EAEAc,aAAAA,GACA,oBACA,EAEAT,aAAAA,GACA,yBACA,mBACA,kCACAH,EAAAA,SAAAA,KAAAA,aAAAA,OACAA,EAAAA,UAAAA,EAAAA,EAAAA,KAAAA,EAAAA,WACA,gBACA,MAEA,qBAEA,EAEAa,WAAAA,GACA,EAEAC,eACA,iCACA,EAEAvK,aAAAA,EAAAA,GACA,SACA,qBACA,mFAEA,KACA,iBACA,OACAxuB,EAAAA,GAAAA,EAAAA,UAEA,UAIA,wBACA,IAGA,EAEAzE,cAAAA,GACA,OACAkW,OAAAA,EAAAA,SACAC,QAAAA,EAAAA,UAEA,EAEA6a,kBAAAA,GACA,+BACA,EAEAf,aAAAA,GACA,0CACA,yBACAloB,EAAAA,KAAAA,YAEA,yBACAA,EAAAA,KAAAA,YAGA,4BAEA,OADAk1B,EAAAA,aAAAA,EAAAA,GACA,CACA,EACA7L,eAAAA,GACA,iBAOA,OANA,wBACArpB,EAAAA,KAAAA,YAEA,aACAA,EAAAA,KAAAA,aAEA,CACA,EAEApE,SAAAA,GACA,2BACA,iCACA,GACAoH,EAAAA,eAAAA,CAAA0yB,MAAAA,WAEA,GACA,EAEAlN,YAAAA,GACA,mBACA,sCACA,UAGA,EACAC,YAAAA,GACA,uBACA,sBAEA,EACAH,YAAAA,GACA,4BACA,kBACA4M,EAAAA,YAAAA,EAEA,EACA5N,aAAAA,GACA,mBACA,EACA8B,cAAAA,GACA,4BACA,oBACA8L,EAAAA,cAAAA,EAEA,EAEA55B,YACA,6BACA0U,EAAAA,EAAAA,KAAAA,SACA,kBACAA,EAAAA,EAAAA,KAAAA,OACA,oBACAA,EAAAA,EAAAA,KAAAA,aAAAA,KAEA,oBACA,yBACA7V,OAAAA,QAAAA,UAAAA,KAAAA,KAAAA,GACA,gBACA,EAGA,EACA8V,UAAAA,GAAAA,GACA,8BACAzT,EAAAA,GACAjB,EAAAA,GACAy1B,EAAAA,MAGA,0CACA,KACA,uBACA,IACA,sBACA,KACA,sBACA,KACA,qBAEA,EAGA/G,kBACA,sBACA,kBACA,qFACA,oCAEA,kBACA,qCAEA,EACAN,gBACA,sBACA,kBACA,kCACA,qBAEA,kBACA,wCAEA,EAEAD,UACA,2BACA,EAEAW,WAAAA,GACA,mBACA,EACAC,WAAAA,GACA,qCACA,sBACA,0BAGA,uBACA,qBACA,EACAzB,WAAAA,GACA,8CACA,EACAC,WAAAA,GACA,8CACA,EACArH,eACA,EAIAiK,UAAAA,EAAAA,GACAhvB,EAAAA,OAAAA,EAAAA,OACA,2BACAA,EAAAA,GAAAA,EAAAA,EACA,EACAi5B,YAAAA,EAAAA,GACA,eACAj5B,EAAAA,OAAAA,EAAAA,OAAAA,EAAAA,OACA,2BACAA,EAAAA,KAAAA,EAAAA,EACA,EAEAstB,aACA,8BACAjS,EAAAA,YAEA,EACA+R,UAAAA,EAAAA,GACA,0DACA,UACA9vB,aAAAA,QAAAA,gBAAAA,KAAAA,UAAAA,IAGA,qDACA,OACAnK,KAAAA,KAAAA,SACA8gC,MAAAA,KAAAA,YAAAA,KAAAA,GAAAA,EAAAA,eAEA32B,aAAAA,QAAAA,cAAAA,IAAAA,KAAAA,UAAAA,GACA,EACA+vB,UAAAA,EAAAA,GACA,0DACA,MACA,yBACA,0CACA,2CAEA,MAEA,8BACAhS,EAAAA,aAGA,qBACA,EAEA6d,UACA,IC7mCsP,MCSlP,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCVhCC,EAAAA,WAAAA,IAAQC,EAAAA,IAER,WAAmBA,EAAAA,GAAO,CACxBC,KAAM,UACNnhC,KAAM,IACNohC,OAAQ,CACN,CACE1C,KAAM,IACNzjC,KAAM,QACNE,UAAWkmC,GAEb,CACE3C,KAAM,aACNzjC,KAAM,OACNE,UAAWkmC,GAEb,CACE3C,KAAM,gBACNzjC,KAAM,UACNE,UAAWmmC,GAEb,CACE5C,KAAM,aACNzjC,KAAM,OACNE,UAAWomC,GAEb,CACE7C,KAAM,eACNzjC,KAAM,SACNE,UAAWqmC,IAEb,CACE9C,KAAM,cACNzjC,KAAM,QACNE,UAAWsmC,IAEb,CACE/C,KAAM,aACNzjC,KAAM,OACNE,UAAWumC,IAEb,CACEhD,KAAM,eACNzjC,KAAM,SACNE,UAAWwmC,OC9CjBV,EAAAA,WAAAA,IAAQW,EAAAA,KACRX,EAAAA,WAAAA,OAAAA,eAA2B,EAE3BA,EAAAA,WAAAA,UAAAA,QAAwB,EACxBA,EAAAA,WAAAA,UAAAA,aAA6B,WAC3B,QAASA,EAAAA,WAAAA,UAAAA,OACX,EAEA,IAAIA,EAAAA,WAAI,CACNY,OAAM,GACNnnC,OAAQonC,GAAKA,EAAEC,KACdC,OAAO,O,GClBNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBnc,IAAjBoc,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,OACf,CAGAH,EAAoBl4B,EAAIu4B,E,WCzBxB,IAAIC,EAAW,GACfN,EAAoBO,EAAI,SAAShlB,EAAQilB,EAAUzmB,EAAI0mB,GACtD,IAAGD,EAAH,CAMA,IAAIE,EAAevL,IACnB,IAASn7B,EAAI,EAAGA,EAAIsmC,EAASxhC,OAAQ9E,IAAK,CACrCwmC,EAAWF,EAAStmC,GAAG,GACvB+f,EAAKumB,EAAStmC,GAAG,GACjBymC,EAAWH,EAAStmC,GAAG,GAE3B,IAJA,IAGI2mC,GAAY,EACPC,EAAI,EAAGA,EAAIJ,EAAS1hC,OAAQ8hC,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa33B,OAAOG,KAAK+2B,EAAoBO,GAAGM,OAAM,SAAS5mC,GAAO,OAAO+lC,EAAoBO,EAAEtmC,GAAKumC,EAASI,GAAK,IAChKJ,EAASz0B,OAAO60B,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbL,EAASv0B,OAAO/R,IAAK,GACrB,IAAIkP,EAAI6Q,SACE+J,IAAN5a,IAAiBqS,EAASrS,EAC/B,CACD,CACA,OAAOqS,CArBP,CAJCklB,EAAWA,GAAY,EACvB,IAAI,IAAIzmC,EAAIsmC,EAASxhC,OAAQ9E,EAAI,GAAKsmC,EAAStmC,EAAI,GAAG,GAAKymC,EAAUzmC,IAAKsmC,EAAStmC,GAAKsmC,EAAStmC,EAAI,GACrGsmC,EAAStmC,GAAK,CAACwmC,EAAUzmB,EAAI0mB,EAwB/B,C,eC5BAT,EAAoBj5B,EAAI,SAASq5B,GAChC,IAAIU,EAASV,GAAUA,EAAOW,WAC7B,WAAa,OAAOX,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBhc,EAAE8c,EAAQ,CAAEr7B,EAAGq7B,IAC5BA,CACR,C,eCNAd,EAAoBhc,EAAI,SAASmc,EAASa,GACzC,IAAI,IAAI/mC,KAAO+mC,EACXhB,EAAoBiB,EAAED,EAAY/mC,KAAS+lC,EAAoBiB,EAAEd,EAASlmC,IAC5E6O,OAAO4K,eAAeysB,EAASlmC,EAAK,CAAEinC,YAAY,EAAM9rB,IAAK4rB,EAAW/mC,IAG3E,C,eCPA+lC,EAAoBviB,EAAI,WACvB,GAA0B,kBAAf0jB,WAAyB,OAAOA,WAC3C,IACC,OAAOzoC,MAAQ,IAAI0oC,SAAS,cAAb,EAGhB,CAFE,MAAOl1B,GACR,GAAsB,kBAAX7I,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB28B,EAAoBiB,EAAI,SAAS1rB,EAAKC,GAAQ,OAAO1M,OAAOu4B,UAAUC,eAAeC,KAAKhsB,EAAKC,EAAO,C,eCCtGwqB,EAAoB92B,EAAI,SAASi3B,GACX,qBAAXqB,QAA0BA,OAAOC,aAC1C34B,OAAO4K,eAAeysB,EAASqB,OAAOC,YAAa,CAAEjoC,MAAO,WAE7DsP,OAAO4K,eAAeysB,EAAS,aAAc,CAAE3mC,OAAO,GACvD,C,eCDA,IAAIkoC,EAAkB,CACrB,IAAK,GAaN1B,EAAoBO,EAAEK,EAAI,SAASe,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B7/B,GAC/D,IAKIi+B,EAAU0B,EALVnB,EAAWx+B,EAAK,GAChB8/B,EAAc9/B,EAAK,GACnB+/B,EAAU//B,EAAK,GAGIhI,EAAI,EAC3B,GAAGwmC,EAASwB,MAAK,SAASzmC,GAAM,OAA+B,IAAxBmmC,EAAgBnmC,EAAW,IAAI,CACrE,IAAI0kC,KAAY6B,EACZ9B,EAAoBiB,EAAEa,EAAa7B,KACrCD,EAAoBl4B,EAAEm4B,GAAY6B,EAAY7B,IAGhD,GAAG8B,EAAS,IAAIxmB,EAASwmB,EAAQ/B,EAClC,CAEA,IADG6B,GAA4BA,EAA2B7/B,GACrDhI,EAAIwmC,EAAS1hC,OAAQ9E,IACzB2nC,EAAUnB,EAASxmC,GAChBgmC,EAAoBiB,EAAES,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO3B,EAAoBO,EAAEhlB,EAC9B,EAEI0mB,EAAqBnvB,KAAK,yBAA2BA,KAAK,0BAA4B,GAC1FmvB,EAAmBxnB,QAAQmnB,EAAqB73B,KAAK,KAAM,IAC3Dk4B,EAAmBz7B,KAAOo7B,EAAqB73B,KAAK,KAAMk4B,EAAmBz7B,KAAKuD,KAAKk4B,G,IC/CvF,IAAIC,EAAsBlC,EAAoBO,OAAEzc,EAAW,CAAC,MAAM,WAAa,OAAOkc,EAAoB,KAAO,IACjHkC,EAAsBlC,EAAoBO,EAAE2B,E","sources":["webpack://legeclodb/./src/App.vue","webpack://legeclodb/src/App.vue","webpack://legeclodb/./src/App.vue?51dd","webpack://legeclodb/./src/App.vue?0e40","webpack://legeclodb/./src/components/MainCharacters.vue","webpack://legeclodb/./src/components/Navigation.vue","webpack://legeclodb/src/components/Navigation.vue","webpack://legeclodb/./src/components/Navigation.vue?09f9","webpack://legeclodb/./src/components/Navigation.vue?b4ab","webpack://legeclodb/./src/components/common.js","webpack://legeclodb/src/components/MainCharacters.vue","webpack://legeclodb/./src/components/MainCharacters.vue?3b8f","webpack://legeclodb/./src/components/MainCharacters.vue?bdc7","webpack://legeclodb/./src/components/SupportCharacters.vue","webpack://legeclodb/src/components/SupportCharacters.vue","webpack://legeclodb/./src/components/SupportCharacters.vue?2130","webpack://legeclodb/./src/components/SupportCharacters.vue?2ae8","webpack://legeclodb/./src/components/Items.vue","webpack://legeclodb/src/components/Items.vue","webpack://legeclodb/./src/components/Items.vue?b5a8","webpack://legeclodb/./src/components/Items.vue?2880","webpack://legeclodb/./src/components/Lookup.vue","webpack://legeclodb/./src/components/simulator/CombinationBufSimulator.vue","webpack://legeclodb/./src/components/parts/ChrSelector.vue","webpack://legeclodb/src/components/parts/ChrSelector.vue","webpack://legeclodb/./src/components/parts/ChrSelector.vue?1543","webpack://legeclodb/./src/components/parts/ChrSelector.vue?adbf","webpack://legeclodb/./src/components/simulator/lookup.js","webpack://legeclodb/src/components/simulator/CombinationBufSimulator.vue","webpack://legeclodb/./src/components/simulator/CombinationBufSimulator.vue?3ae3","webpack://legeclodb/./src/components/simulator/CombinationBufSimulator.vue?d339","webpack://legeclodb/./src/components/simulator/SelfBufSimulator.vue","webpack://legeclodb/src/components/simulator/SelfBufSimulator.vue","webpack://legeclodb/./src/components/simulator/SelfBufSimulator.vue?ff0c","webpack://legeclodb/./src/components/simulator/SelfBufSimulator.vue?8643","webpack://legeclodb/src/components/Lookup.vue","webpack://legeclodb/./src/components/Lookup.vue?8ac0","webpack://legeclodb/./src/components/Lookup.vue?6bb9","webpack://legeclodb/./src/components/About.vue","webpack://legeclodb/./src/components/simulator/DamageSimulator.vue","webpack://legeclodb/src/components/simulator/DamageSimulator.vue","webpack://legeclodb/./src/components/simulator/DamageSimulator.vue?8494","webpack://legeclodb/./src/components/simulator/DamageSimulator.vue?e9b4","webpack://legeclodb/./src/components/simulator/BattlePointSimulator.vue","webpack://legeclodb/src/components/simulator/BattlePointSimulator.vue","webpack://legeclodb/./src/components/simulator/BattlePointSimulator.vue?6eec","webpack://legeclodb/./src/components/simulator/BattlePointSimulator.vue?f1f5","webpack://legeclodb/./src/components/simulator/StatusSimulator.vue","webpack://legeclodb/./src/components/parts/ItemSelector.vue","webpack://legeclodb/src/components/parts/ItemSelector.vue","webpack://legeclodb/./src/components/parts/ItemSelector.vue?6f6b","webpack://legeclodb/./src/components/parts/ItemSelector.vue?bba7","webpack://legeclodb/./src/components/parts/SkillSelector.vue","webpack://legeclodb/src/components/parts/SkillSelector.vue","webpack://legeclodb/./src/components/parts/SkillSelector.vue?3835","webpack://legeclodb/./src/components/parts/SkillSelector.vue?5cc1","webpack://legeclodb/src/components/simulator/StatusSimulator.vue","webpack://legeclodb/./src/components/simulator/StatusSimulator.vue?2d92","webpack://legeclodb/./src/components/simulator/StatusSimulator.vue?370f","webpack://legeclodb/src/components/About.vue","webpack://legeclodb/./src/components/About.vue?878d","webpack://legeclodb/./src/components/About.vue?5a46","webpack://legeclodb/./src/components/Misc.vue","webpack://legeclodb/src/components/Misc.vue","webpack://legeclodb/./src/components/Misc.vue?4e8a","webpack://legeclodb/./src/components/Misc.vue?ea14","webpack://legeclodb/./src/components/Battle.vue","webpack://legeclodb/./src/components/simulator/simulation.js","webpack://legeclodb/src/components/Battle.vue","webpack://legeclodb/./src/components/Battle.vue?00f7","webpack://legeclodb/./src/components/Battle.vue?936c","webpack://legeclodb/./src/router.js","webpack://legeclodb/./src/main.js","webpack://legeclodb/webpack/bootstrap","webpack://legeclodb/webpack/runtime/chunk loaded","webpack://legeclodb/webpack/runtime/compat get default export","webpack://legeclodb/webpack/runtime/define property getters","webpack://legeclodb/webpack/runtime/global","webpack://legeclodb/webpack/runtime/hasOwnProperty shorthand","webpack://legeclodb/webpack/runtime/make namespace object","webpack://legeclodb/webpack/runtime/jsonp chunk loading","webpack://legeclodb/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  components: {\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7c3eba16&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7c3eba16&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation'),_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.searchTabIndex),callback:function ($$v) {_vm.searchTabIndex=$$v},expression:\"searchTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"タグ検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"skill_type_selector\"}},_vm._l((_vm.skillTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('skillType')}}},[_vm._v(\" \"+_vm._s(_vm.skillTypes[i])+\" \")])}),1)],1),_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"170px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('tag')},model:{value:(_vm.tagSearchPattern),callback:function ($$v) {_vm.tagSearchPattern=$$v},expression:\"tagSearchPattern\"}})],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_vm._l((_vm.tagCategory),function(tc,tci){return _c('div',{key:tci,staticClass:\"widget\",staticStyle:{\"margin-right\":\"0px\"}},[_c('b-dropdown',{ref:tc.name,refInFor:true,attrs:{\"text\":tc.display,\"size\":\"sm\"},on:{\"show\":function($event){return _vm.onTagDropdownShow($event, tc)},\"hide\":function($event){return _vm.onTagDropdownHide($event, tc)}}},_vm._l((_vm.getFilteredMainTags(tc.tags)),function(t){return _c('b-dropdown-item',{key:_vm.mainTagTable[t].id,staticClass:\"d-flex flex-column\",attrs:{\"id\":_vm.genTagID(t)},on:{\"click\":function($event){_vm.setTagSearchPattern(t); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(t)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.mainTagTable[t].count})`)}}),_vm._v(\" \"),(_vm.mainTagTable[t].note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.mainTagTable[t].note)}}):_vm._e(),(_vm.subTagTable[t])?_c('b-popover',{attrs:{\"target\":_vm.genTagID(t),\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\"},on:{\"show\":function($event){return _vm.onSubtagPopoverShow(tc, t)},\"hidden\":function($event){return _vm.onSubtagPopoverHide(tc, t)}}},_vm._l((_vm.getFilteredSubTags(t)),function(st){return _c('b-dropdown-item',{key:_vm.tagTable[st].id,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.setTagSearchPattern(st, true); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(st)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.tagTable[st].count})`)}})])}),1):_vm._e()],1)}),1)],1)}),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.tagSearchPattern=''}}},[_vm._v(\"クリア\")])],1)],2)]),_c('b-tab',{attrs:{\"title\":\"フリーワード検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"300px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('free')},model:{value:(_vm.freeSearchPattern),callback:function ($$v) {_vm.freeSearchPattern=$$v},expression:\"freeSearchPattern\"}})],1),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.freeSearchPattern=''}}},[_vm._v(\"クリア\")])],1)])])],1)],1),_c('div',{staticClass:\"menu-panel\"},[_vm._m(0),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"class_selector\"}},_vm._l((_vm.classFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('class')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"pressed\":_vm.engageFilter,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){_vm.engageFilter=$event},\"click\":function($event){return _vm.updateQuery('engage')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('エンゲージ'),\"width\":\"25\",\"height\":\"25\"}})],1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"symbol_selector\"}},_vm._l((_vm.symbolFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('symbol')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.symbols[i]),\"height\":\"25\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"rareiry_selector\"}},_vm._l((_vm.rarityFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('rarity')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.rarities[i]),\"width\":\"36\",\"height\":\"20\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"attack_type_selector\"}},_vm._l((_vm.damageTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('damageType')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.damageTypes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1)])]),_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.settingsTabIndex),callback:function ($$v) {_vm.settingsTabIndex=$$v},expression:\"settingsTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"表示\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"件数：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayCounts[_vm.displayCount],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayCounts),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayCount=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1),_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"形式：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayTypes[_vm.displayType],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1),_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"エンゲージ：\")]),_c('b-dropdown',{attrs:{\"text\":\"一括切替\",\"size\":\"sm\"}},[_c('b-dropdown-item',{staticClass:\"d-flex flex-column\",on:{\"click\":function($event){return _vm.switchEngageAll(false)}}},[_vm._v(\"エンゲージ前\")]),_c('b-dropdown-item',{staticClass:\"d-flex flex-column\",on:{\"click\":function($event){return _vm.switchEngageAll(true)}}},[_vm._v(\"エンゲージ後\")])],1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"ソート：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.sortTypes[_vm.sortType],\"size\":\"sm\",\"id\":\"sort_selector\"}},_vm._l((_vm.sortTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1),_c('span',{staticStyle:{\"width\":\"5px\"}}),_c('b-dropdown',{attrs:{\"text\":_vm.sortOrders[_vm.sortOrder],\"size\":\"sm\",\"id\":\"sort_order_selector\"}},_vm._l((_vm.sortOrders),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortOrder=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1)])]),_c('b-tab',{attrs:{\"title\":\"ステータス\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"menu-widgets\"},[_c('b-container',_vm._l(([_vm.stat.base.level, _vm.stat.base.star]),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}})],1)],1)}),1)],1),_c('div',{staticClass:\"menu-widgets\"},[_c('div',{staticStyle:{\"margin\":\"3px\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\",\"id\":\"stat-detail\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"詳細設定\")]),_c('b-popover',{attrs:{\"target\":\"stat-detail\",\"triggers\":\"click blur\",\"placement\":\"bottom\",\"custom-class\":\"stat-popover\"}},[_c('div',{staticClass:\"flex\",staticStyle:{\"font-size\":\"small\"}},[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"基本情報\")])]),_vm._l((_vm.stat.base),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"7em\"},attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"plain\":\"\"},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e()],1)],1)})],2),_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"記憶の書＋強化ボード\")])]),_vm._l((_vm.stat.boosts),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"8em\"},attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',{staticClass:\"flex\",staticStyle:{\"margin\":\"5px 5px 0px 5px\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('b-button',{staticStyle:{\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.resetStatus()}}},[_vm._v(\"カンスト化\")]),_c('b-button',{staticStyle:{\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.resetStatus(1)}}},[_vm._v(\"キャラ紹介を再現\")])],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"flex-grow\":\"1\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\",\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"適用\")])],1)])])],1),_c('div',{staticStyle:{\"margin\":\"3px\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"適用\")])],1)])])])],1)],1)])],1),_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"200px\"},style:(_vm.style),attrs:{\"id\":\"content\"}},[(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToBottom()}}},[_vm._v(\" ↓ \")])],1)])],1):_vm._e(),_vm._l((_vm.pagedItems),function(chr){return [_c('div',{key:chr.id,staticClass:\"character\",attrs:{\"id\":'chr_'+chr.id}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.icon),\"title\":chr.name,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\",class:{ 'highlighted': _vm.isInfoHighlighted(chr) }},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(chr.name))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.class),\"title\":'クラス:'+chr.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.symbol),\"title\":'シンボル:'+chr.symbol,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.rarity),\"title\":'レアリティ:'+chr.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.damageType),\"title\":'攻撃タイプ:'+chr.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(chr.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(chr.move))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(chr.date))])]),(chr.engage)?_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"エンゲージ:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(chr.engage.date))])]):_vm._e()],1),(chr.status)?_c('div',{staticClass:\"status2\",attrs:{\"title\":`☆${_vm.stat.base.star.value} Lv${_vm.stat.base.level.value} 時のステータス`},domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(chr.status))}}):_vm._e()]),_c('div',{staticClass:\"skills\"},[_c('div',{staticClass:\"talent\",class:{ 'highlighted': _vm.isTalentHighlighted(chr.talent) }},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'chr_'+chr.id+'_talent'}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.talent.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":'chr_'+chr.id+'_talent',\"title\":chr.talent.name,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(chr.talent))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('h5',[_vm._v(\" \"+_vm._s(_vm.skillNameToHtml(chr.talent))+\" \"),(chr.talent.descs)?_c('b-dropdown',{staticClass:\"level-selector\",attrs:{\"text\":chr.talent.current,\"variant\":\"outline-secondary\"}},_vm._l((chr.talent.descs),function(ds,di){return _c('b-dropdown-item',{key:di,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){chr.talent.current=di; chr.talent.desc=ds;}}},[_vm._v(_vm._s(di))])}),1):_vm._e(),(chr.engage)?_c('b-dropdown',{staticClass:\"level-selector\",attrs:{\"text\":chr.engage.enabled ? 'エンゲージ後': 'エンゲージ前',\"variant\":\"outline-secondary\"}},[_c('b-dropdown-item',{staticClass:\"d-flex flex-column\",on:{\"click\":function($event){return _vm.switchEngage(chr, false)}}},[_vm._v(\"エンゲージ前\")]),_c('b-dropdown-item',{staticClass:\"d-flex flex-column\",on:{\"click\":function($event){return _vm.switchEngage(chr, true)}}},[_vm._v(\"エンゲージ後\")])],1):_vm._e()],1),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(chr.talent))}}),(chr.talent.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(chr.talent))}}):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"tags\"},_vm._l((chr.talent.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)]),_vm._l((chr.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'chr_'+chr.id+'_skill'+si}},[_c('b-link',{on:{\"click\":function($event){return _vm.setSkillFilter(skill)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}})],1),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'chr_'+chr.id+'_skill'+si,\"title\":skill.name,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[(_vm.displayType==1)?_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})]):_vm._e(),(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.moveToChr(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\",\"height\":\"50\"}})],1)})],2):_vm._e()]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(_vm.skillNameToHtml(skill)))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"tags\"},_vm._l((skill.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)])})],2)])]),(chr.summon)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"summon\"},_vm._l((chr.summon),function(summon,smi){return _c('div',{key:smi,staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(summon.icon),\"title\":summon.name,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\",class:{ 'highlighted': _vm.isInfoHighlighted(summon) }},[_c('h5',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(summon.name))}}),_vm._v(\" \"),_c('span',{staticClass:\"note\"},[_vm._v(\"(召喚ユニット)\")])]),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(summon.class),\"title\":'クラス:'+summon.class,\"height\":\"25\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(summon.damageType),\"title\":'攻撃タイプ:'+summon.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(summon.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(summon.move))])],1)],1),(summon.statusLvs)?_c('div',{staticClass:\"status2\",attrs:{\"title\":\"Lv110 時の能力値\"},domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(summon.statusLvs[110]))}}):_vm._e()]),_c('div',{staticClass:\"skills\"},[_c('div',{staticClass:\"talent\",class:{ 'highlighted': _vm.isTalentHighlighted(summon.talent) }},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'summon_'+chr.id+'_'+smi+'_talent'}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(summon.talent.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":'summon_'+chr.id+'_'+smi+'_talent',\"triggers\":\"hover focus\",\"title\":summon.talent.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(summon.talent))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('h5',[_vm._v(\" \"+_vm._s(summon.talent.name)+\" \")]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(summon.talent))}}),(summon.talent.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(summon.talent))}}):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"tags\"},_vm._l((summon.talent.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)]),_vm._l((summon.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'summon_'+chr.id+'_'+smi+'_skill'+si}},[_c('b-link',{on:{\"click\":function($event){return _vm.setSkillFilter(skill)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}})],1),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'summon_'+chr.id+'_'+smi+'_skill'+si,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[(_vm.displayType==1)?_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})]):_vm._e(),(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.moveToChr(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\",\"height\":\"50\"}})],1)})],2):_vm._e()]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"tags\"},_vm._l((skill.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)])})],2)])])}),0):_vm._e()])]}),(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToTop()}}},[_vm._v(\" ↑ \")])],1)])],1):_vm._e()],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('h6',[_vm._v(\"フィルター\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-navbar',{attrs:{\"type\":\"dark\",\"variant\":\"dark\"}},[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_vm._v(\"れじぇくろDB\")]),_c('b-navbar-nav',[_c('b-nav-item',{attrs:{\"to\":\"/main.html\"}},[_vm._v(\"メインキャラ\")]),_c('b-nav-item',{attrs:{\"to\":\"/support.html\"}},[_vm._v(\"サポートキャラ\")]),_c('b-nav-item',{attrs:{\"to\":\"/item.html\"}},[_vm._v(\"アイテム\")]),_c('b-nav-item',{attrs:{\"to\":\"/lookup.html\"}},[_vm._v(\"組み合わせ検索\")]),_c('b-nav-item',{attrs:{\"to\":\"/about.html\"}},[_vm._v(\"解説\")]),(_vm.devmode)?_c('b-nav-item',{attrs:{\"to\":\"/battle.html\"}},[_vm._v(\"ギルドクエストEX\")]):_vm._e(),(_vm.devmode)?_c('b-nav-item',{attrs:{\"to\":\"/misc.html\"}},[_vm._v(\"その他\")]):_vm._e()],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{staticClass:\"icon\",attrs:{\"href\":\"https://github.com/legeclodb/legeclodb\",\"target\":\"_blank\"}},[_c('svg',{staticClass:\"navbar-nav-svg\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 32 32\",\"width\":\"24\",\"height\":\"24\",\"focusable\":\"false\",\"role\":\"img\"}},[_c('title',[_vm._v(\"GitHub\")]),_c('g',{attrs:{\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M16,0.4c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5C23.1,6.6,24.4,7,24.4,7 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C27.4,29.5,32,23.5,32,16.4C32,7.6,24.8,0.4,16,0.4z\"}})])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-navbar type=\"dark\" variant=\"dark\">\r\n    <b-navbar-brand to=\"/\">れじぇくろDB</b-navbar-brand>\r\n    <b-navbar-nav>\r\n      <b-nav-item to=\"/main.html\">メインキャラ</b-nav-item>\r\n      <b-nav-item to=\"/support.html\">サポートキャラ</b-nav-item>\r\n      <b-nav-item to=\"/item.html\">アイテム</b-nav-item>\r\n      <b-nav-item to=\"/lookup.html\">組み合わせ検索</b-nav-item>\r\n      <b-nav-item to=\"/about.html\">解説</b-nav-item>\r\n      <b-nav-item v-if=\"devmode\" to=\"/battle.html\">ギルドクエストEX</b-nav-item>\r\n      <b-nav-item v-if=\"devmode\" to=\"/misc.html\">その他</b-nav-item>\r\n    </b-navbar-nav>\r\n    <b-navbar-nav class=\"ml-auto\">\r\n      <b-nav-item class=\"icon\" href=\"https://github.com/legeclodb/legeclodb\" target=\"_blank\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"24\" height=\"24\" focusable=\"false\" role=\"img\" class=\"navbar-nav-svg\">\r\n          <title>GitHub</title>\r\n          <g fill=\"currentColor\">\r\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16,0.4c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5C23.1,6.6,24.4,7,24.4,7 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C27.4,29.5,32,23.5,32,16.4C32,7.6,24.8,0.4,16,0.4z\"></path>\r\n          </g>\r\n        </svg>\r\n      </b-nav-item>\r\n    </b-navbar-nav>\r\n  </b-navbar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Navigation',\r\n  props: {\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      devmode: false,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.devmode = process.env.NODE_ENV === 'development';\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  padding: 0.25rem 1rem;\r\n}\r\n\r\n.navbar-brand {\r\n  font-size: 1.75em;\r\n  margin-left: 1.0rem;\r\n  padding-top: 2px;\r\n  padding-bottom: 2px;\r\n}\r\n\r\n.nav-link {\r\n  font-size: 1.25em;\r\n  color: rgba(255, 255, 255, 0.8) !important;\r\n  white-space: nowrap;\r\n}\r\n.nav-link:hover, .nav-link:focus {\r\n  color: rgba(255, 255, 255, 0.5) !important;\r\n}\r\n.icond {\r\n  margin: 0 0;\r\n}\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=34d4e508&scoped=true&\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navigation.vue?vue&type=style&index=0&id=34d4e508&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34d4e508\",\n  null\n  \n)\n\nexport default component.exports","import jsonImageTable from '../assets/image_table.json'\nimport jsonConstants from '../assets/constants.json'\n\nexport default {\n  data() {\n    return {\n      imageTable: jsonImageTable,\n\n      showHeader: true,\n      preventShowHideHeaderOnScroll: 0,\n      lastScrollPosition: 0,\n      displayType: 2,\n      displayCount: 1,\n      sortType: 0,\n      sortOrder: 0,\n      sortBySlot: false,\n      page: 1,\n\n      tagTable: {},\n      mainTagTable: {},\n      subTagTable: {},\n      tagIDSeed: 0,\n      mainTagIDSeed: 0,\n      predefinedMainTags: [],\n\n      tagSearchPattern: \"\",\n      tagSearchPatternPrev: \"\",\n      tagSearchFn: null,\n\n      freeSearchPattern: \"\",\n      freeSearchPatternPrev: \"\",\n      freeSearchFn: null,\n\n      searchTabIndex: 0,\n      settingsTabIndex: 0,\n\n      displayCounts: [\n        \"10\",\n        \"20\",\n        \"50\",\n        \"100\",\n        \"全て\",\n      ],\n    }\n  },\n\n  created() {\n    let route = this.getRouteName();\n    let tmp = null;\n\n    tmp = localStorage.getItem(`${route}.displayCount`);\n    if (tmp)\n      this.displayCount = parseInt(tmp);\n\n    tmp = localStorage.getItem(`${route}.displayType`);\n    if (tmp)\n      this.displayType = parseInt(tmp);\n\n    tmp = localStorage.getItem(`${route}.sortType`);\n    if (tmp)\n      this.sortType = parseInt(tmp);\n\n    tmp = localStorage.getItem(`${route}.sortOrder`);\n    if (tmp)\n      this.sortOrder = parseInt(tmp);\n\n    tmp = localStorage.getItem(`${route}.sortBySlot`);\n    if (tmp)\n      this.sortBySlot = (tmp == \"true\");\n  },\n\n  mounted() {\n    window.addEventListener('scroll', this.onScroll);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.onScroll);\n  },\n\n  watch: {\n    displayCount: function (v) {\n      localStorage.setItem(`${this.getRouteName()}.displayCount`, v);\n    },\n    displayType: function (v) {\n      localStorage.setItem(`${this.getRouteName()}.displayType`, v);\n    },\n    sortType: function (v) {\n      localStorage.setItem(`${this.getRouteName()}.sortType`, v);\n    },\n    sortOrder: function (v) {\n      localStorage.setItem(`${this.getRouteName()}.sortOrder`, v);\n    },\n    sortBySlot: function (v) {\n      localStorage.setItem(`${this.getRouteName()}.sortBySlot`, v);\n    },\n  },\n\n  computed: {\n    style() {\n      return {\n        \"--character-width\": `${this.displayType >= 2 ? '750px' : ''}`,\n        \"--character-min-width\": `${this.displayType == 1 ? '500px' : ''}`,\n        \"--character-flex-grow\": `${this.displayType < 2 ? 0 : 1}`,\n        \"--skills-display\": `${this.displayType < 2 ? 'flex' : 'display'}`,\n        \"--skill-flex-grow\": `${this.displayType == 2 ? 1 : 0}`,\n      };\n    },\n\n    displayCountNum() {\n      let v = NaN;\n      if (this.displayCount < this.displayCounts.length)\n        v = parseInt(this.displayCounts[this.displayCount]);\n      return isNaN(v) ? 1000 : v;\n    }\n  },\n\n  methods: {\n    onScroll() {\n      const pos = window.scrollY || document.documentElement.scrollTop;\n      if (pos < 0 || Math.abs(pos - this.lastScrollPosition) < 30) {\n        return;\n      }\n\n      if (this.preventShowHideHeaderOnScroll > 0) {\n        --this.preventShowHideHeaderOnScroll;\n      }\n      else {\n        this.showHeader = pos < this.lastScrollPosition;\n      }\n      this.lastScrollPosition = pos;\n    },\n\n    onPage(page) {\n      if (page)\n        this.updateURL({ p: page });\n    },\n\n    getRouteName() {\n      let ret = this.$route.name;\n      if (ret == 'index')\n        ret = 'main';\n      return ret;\n    },\n\n    hideHeader() {\n      this.showHeader = false;\n    },\n\n    scrollToTop() {\n      window.scroll(0, 0);\n    },\n    scrollToBottom() {\n      window.scrollTo(0, document.body.scrollHeight);\n    },\n\n    onMouseMove(event) {\n      if (event.clientY < 50) {\n        this.showHeader = true;\n      }\n    },\n\n    escapeRE(str) {\n      return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    },\n\n    getImageURL(name) {\n      if (name in this.imageTable) {\n        return this.imageTable[name];\n      }\n      else {\n        if (name) {\n          console.log(`getImageURL(): ${name} not found`);\n        }\n        return \"./empty.png\";\n      }\n    },\n\n    compareDate(a, b) {\n      return a.date == b.date ? 0 : (a.date < b.date ? -1 : 1);\n    },\n    appendSet(dst, iteratable) {\n      for (const v of iteratable) {\n        dst.add(v);\n      }\n    },\n    sortSet(dst, compare = undefined) {\n      let sorted = Array.from(dst).sort(compare);\n      dst.clear();\n      this.appendSet(dst, sorted);\n    },\n    partitionSet(dst, condition) {\n      let tmp = [];\n      for (const v of dst) {\n        if (condition(v))\n          tmp.push(v);\n      }\n      for (const v of tmp) {\n        dst.delete(v);\n        dst.add(v);\n      }\n    },\n    reorderSet(dst, patterns) {\n      let tmp = [];\n      for (const v of patterns) {\n        if (dst.has(v)) {\n          dst.delete(v);\n          tmp.push(v);\n        }\n      }\n      if (tmp.length != 0) {\n        for (const v of dst) {\n          tmp.push(v);\n        }\n        dst.clear();\n        this.appendSet(dst, tmp);\n      }\n    },\n\n    applyPage(array) {\n      const n = this.displayCountNum;\n      if (array.length < n)\n        return array;\n      const start = n * (this.page - 1);\n      const end = Math.min(n * this.page, array.length);\n      return array.slice(start, end);\n    },\n    getPageCount(array) {\n      const n = this.displayCountNum;\n      return Math.ceil(array.length / n);\n    },\n    getPageOf(array, finder) {\n      const n = this.displayCountNum;\n      const i = array.findIndex(finder);\n      return Math.floor((i / n)) + 1;\n    },\n\n    partitionSubtags(subtagSet) {\n      this.sortSet(subtagSet);\n      this.partitionSet(subtagSet, tag => tag.match(/\\(物理\\)/));\n      this.partitionSet(subtagSet, tag => tag.match(/\\(魔法\\)/));\n      this.partitionSet(subtagSet, tag => tag.match(/\\(スキル\\)/));\n      this.partitionSet(subtagSet, tag => tag.match(/\\(単体スキル\\)/));\n      this.partitionSet(subtagSet, tag => tag.match(/\\(範囲スキル\\)/));\n    },\n    reorderSubtag() {\n      for (let k in this.subTagTable) {\n        this.partitionSubtags(this.subTagTable[k]);\n      }\n    },\n\n    getMainTagIfSubTag(tag) {\n      for (const m of this.predefinedMainTags) {\n        if (tag.startsWith(m))\n          return m;\n      }\n      let p = tag.indexOf('(');\n      return p != -1 ? tag.slice(0, p) : null;\n    },\n    addMainTag(t) {\n      if (!this.mainTagTable[t]) {\n        this.mainTagTable[t] = {\n          id: ++this.mainTagIDSeed,\n          count: 0,\n          note: this.constants.tagNotes[t]\n        };\n      }\n    },\n    addSubTag(main, sub) {\n      let subtags = this.subTagTable[main];\n      if (!subtags) {\n        subtags = new Set();\n        this.subTagTable[main] = subtags;\n      }\n      if (!subtags.has(main) && this.tagTable[main]) {\n        subtags.add(main);\n      }\n      subtags.add(sub);\n    },\n    registerTag(t) {\n      if (!this.tagTable[t]) {\n        this.tagTable[t] = {\n          id: ++this.tagIDSeed,\n          count: 0,\n        };\n      }\n      else {\n        return;\n      }\n\n      const mainTag = this.getMainTagIfSubTag(t);\n      if (mainTag) {\n        this.addMainTag(mainTag);\n        this.addSubTag(mainTag, t);\n      }\n      else {\n        this.addMainTag(t);\n        if (t in this.subTagTable) {\n          this.subTagTable[t].add(t);\n        }\n      }\n    },\n    registerTags(tags) {\n      if (tags) {\n        for (const t of tags)\n          this.registerTag(t);\n      }\n    },\n    countTags(tags) {\n      if (!tags)\n        return;\n      for (let t of tags) {\n        ++this.tagTable[t].count;\n\n        const mainTag = this.getMainTagIfSubTag(t);\n        if (mainTag) {\n          ++this.mainTagTable[mainTag].count;\n        }\n        else {\n          ++this.mainTagTable[t].count;\n        }\n      }\n    },\n    resetTagCounts() {\n      for (let v of Object.values(this.tagTable)) {\n        v.count = 0;\n      }\n      for (let v of Object.values(this.mainTagTable)) {\n        v.count = 0;\n      }\n    },\n\n    genTagID(t) {\n      return `tag${this.mainTagTable[t].id}`;\n    },\n    getMainTags() {\n      return Object.keys(this.mainTagTable);\n    },\n    getFilteredMainTags(tags) {\n      let r = [];\n      for (const t of tags) {\n        if (this.mainTagTable[t].count > 0) {\n          r.push(t);\n        }\n      }\n      return r;\n    },\n    getFilteredSubTags(mainTag) {\n      let r = null;\n      const subTags = this.subTagTable[mainTag];\n      if (subTags) {\n        for (const t of subTags) {\n          if (this.tagTable[t].count > 0) {\n            if (r == null) {\n              r = [];\n            }\n            r.push(t);\n          }\n        }\n      }\n      return r;\n    },\n\n    isFilterEnabled(filter) {\n      for (const v of filter)\n        if (v.state)\n          return true;\n      return false;\n    },\n    fillFilter(dst, items) {\n      while (dst.length < items.length) {\n        dst.push({ state: false });\n      }\n    },\n    filterMatch(filter, index) {\n      if (this.isFilterEnabled(filter)) {\n        if (Array.isArray(index)) {\n          for (const i of index) {\n            if (i >= 0 && filter[i].state) {\n              return true;\n            }\n          }\n          return false;\n        }\n        else {\n          return index >= 0 && filter[index].state;\n        }\n      }\n      else {\n        return true;\n      }\n    },\n\n    setTagSearchPattern(txt, wholeWord = false, escape = true) {\n      txt = txt.trim();\n      if (escape)\n        txt = this.escapeRE(txt);\n      txt = \"^\" + txt;\n      if (wholeWord)\n        txt += \"$\";\n      else\n        txt += \"($|[(:])\";\n      this.tagSearchPattern = txt;\n      this.freeSearchPattern = \"\";\n      this.searchTabIndex = 0;\n\n      this.preventShowHideHeaderOnScroll = 1;\n      this.hidePopover();\n      this.$nextTick(function () {\n        this.showHeader = true;\n      }.bind(this));\n    },\n    setFreeSearchPattern(txt, wholeWord = false, escape = true) {\n      txt = txt.trim();\n      if (escape)\n        txt = this.escapeRE(txt);\n      if (wholeWord)\n        txt = `^${txt}$`;\n      this.freeSearchPattern = txt;\n      this.tagSearchPattern = \"\";\n      this.searchTabIndex = 1;\n\n      this.preventShowHideHeaderOnScroll = 1;\n      this.hidePopover();\n      this.$nextTick(function () {\n        this.showHeader = true;\n      }.bind(this));\n    },\n\n    matchTags(tags, re) {\n      if (tags) {\n        for (const tag of tags) {\n          if (tag.match(re)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    matchContent(item, re) {\n      if (typeof item === 'string') {\n        return item.match(re);\n      }\n      else {\n        return (item.name && item.name.match(re)) || (item.desc && item.desc.match(re)) || (item.date && item.date.match(re));\n      }\n    },\n    getSearchMask() {\n      return (this.tagSearchFn ? 1 : 0) | (this.freeSearchFn ? 2 : 0);\n    },\n    isSearchPatternSet() {\n      return this.tagSearchFn || this.freeSearchFn;\n    },\n\n    chrNameToHtml(name) {\n      let m = name.match(/([^(]+)(\\(.+?\\))/);\n      if (m) {\n        return m[1] + `<span class='note'>${m[2]}</span>`;\n      }\n      else {\n        return name;\n      }\n    },\n    descToHtml(item, removeMarkup = false) {\n      let text = item.desc;\n      if (!text)\n        return \"\";\n\n      // 行を跨ぐ置換がありうるため、先に \\n -> <br/> 置換\n      text = text.replaceAll(\"\\n\", \"<br/>\") + \"<br/>\";\n      while (true) {\n        // [caution]hoge[/caution] -> <span class='caution'>hoge</span>\n        // 入れ子のケースに対応するためループする必要がある\n        let replaced = removeMarkup ? \"$2\" : \"<span class='$1'>$2</span>\";\n        let tmp = text.replaceAll(/\\[([^\\]]+?)\\](.+?)\\[\\/\\1\\]/g, replaced);\n        if (tmp == text)\n          break;\n        text = tmp;\n      }\n      return text;\n    },\n    descToTitle(item) {\n      if (!item)\n        return \"\";\n      let text = item.name + \"\\n\";\n      if (item.isMain) {\n        text += `クラス:${item.class} シンボル:${item.symbol} 攻撃タイプ:${item.damageType}\\n`;\n      }\n      if (item.isSupport) {\n        text += `クラス:${item.class} 攻撃タイプ:${item.damageType}\\n`;\n      }\n      if (item.isItem) {\n        text += this.statusToText(item.status) + \"\\n\";\n      }\n      if (item.isActive || item.isPassive) {\n        text += [\n          [\"CT\", this.ctToText(item)],\n          [\"範囲\", this.areaToText(item)],\n          [\"射程\", this.rangeToText(item)],\n          [\"コスト\", item.cost],\n        ].filter(a => a[1])\n          .map((a) => `${a[0]}: ${a[1]}`)\n          .join(\" \") + \"\\n\";\n      }\n      text += this.removeMarkup(item.desc);\n      return text;\n    },\n\n    ctToText(item) {\n      return item.ct == 0 ? \"-\" : item.ct;\n    },\n    areaToText(item) {\n      if (item.areaShape == \"直線\") {\n        return `直線${item.area}マス`\n      }\n      else {\n        return item.area;\n      }\n    },\n    rangeToText(item) {\n      return item.range;\n    },\n    removeMarkup(text) {\n      if (!text) {\n        return \"\";\n      }\n      while (true) {\n        let tmp = text.replaceAll(/\\[([^\\]]+?)\\](.+?)\\[\\/\\1\\]/g, \"$2\");\n        if (tmp == text)\n          break;\n        text = tmp;\n      }\n      return text;\n    },\n    noteToHtml(item) {\n      let text = item.note;\n      while (true) {\n        let tmp = text.replaceAll(/\\[([^\\]]+?)\\](.+?)\\[\\/\\1\\]/g, \"<span class='$1'>$2</span>\");\n        if (tmp == text)\n          break;\n        text = tmp;\n      }\n      return text.replaceAll(\"\\n\", \"<br/>\") + \"<br/>\";\n    },\n    skillNameToHtml(skill) {\n      return skill.name;\n    },\n    skillParamsToHtml(skill) {\n      return [\n        [\"CT\", this.ctToText(skill)],\n        [\"範囲\", this.areaToText(skill)],\n        [\"射程\", this.rangeToText(skill)],\n        [\"コスト\", skill.cost],\n      ].filter(a => a[1])\n        .map((a) => `<div class=\"param-box\"><span class=\"param-name\">${a[0]}:</span><span class=\"param-value\">${a[1]}</span></div>`)\n        .join(\"\");\n    },\n    statusToHtml(status, prefix = \"\", damageType = null) {\n      const conv = function (n, v, i) {\n        if (!v)\n          return [];\n        if (i < 6)\n          return `<div class=\"param-box\"><img src=\"${this.getImageURL(n)}\" title=\"${n}\" width=\"18\" height=\"18\" /><span>${prefix}${v}</span></div>`;\n        else\n          return `<div class=\"param-box\"><span class=\"param-name\">${n}:</span><span class=\"param-value\">${v}</span></div>`;\n      }.bind(this);\n      let list = [\"HP\", \"アタック\", \"ディフェンス\", \"マジック\", \"レジスト\", \"テクニック\", \"戦闘力\"].flatMap((n, i) => conv(n, status[i], i));\n\n      if (damageType) {\n        list.splice(5, 1);\n        if (damageType == \"アタック\")\n          list.splice(3, 1);\n        else if (damageType == \"マジック\")\n          list.splice(1, 1, ...list.splice(3, 1));\n      }\n      return list.join(\"\");\n    },\n    statusToText(status) {\n      const conv = function (n, v, i) {\n        if (!v)\n          return [];\n        return `${n}+${v} `;\n      }.bind(this);\n      let list = [\"HP\", \"アタック\", \"ディフェンス\", \"マジック\", \"レジスト\", \"テクニック\", \"戦闘力\"].flatMap((n, i) => conv(n, status[i], i));\n      return list.join(\"\");\n    },\n\n    updateQuery(name, updateURL = true) {\n      let modified = false;\n      try {\n        // なぜかボタン一個押すたびに呼ばれるので変更チェック\n        if (this.tagSearchPattern != this.tagSearchPatternPrev) {\n          this.tagSearchPatternPrev = this.tagSearchPattern;\n          modified = true;\n\n          if (this.tagSearchPattern.length != 0) {\n            const re = new RegExp(this.tagSearchPattern);\n            this.tagSearchFn = function (item) {\n              return this.matchTags(item.tags, re);\n            }.bind(this);\n          }\n          else {\n            this.tagSearchFn = null;\n          }\n        }\n\n        // 同上\n        if (this.freeSearchPattern != this.freeSearchPatternPrev) {\n          this.freeSearchPatternPrev = this.freeSearchPattern;\n          modified = true;\n\n          if (this.freeSearchPattern.length != 0) {\n            const re = new RegExp(this.freeSearchPattern);\n            this.freeSearchFn = (item) => this.matchContent(item, re);\n          }\n          else {\n            this.freeSearchFn = null;\n          }\n        }\n      }\n      catch (e) {\n        return;\n      }\n\n      if (modified || !['tag', 'free'].includes(name)) {\n        if (['class', 'engage', 'rarity', 'symbol', 'supportType', 'damageType', 'skillType', 'itemType', 'any'].includes(name))\n          this.updateTagCounts();\n        if (updateURL && this.updateURL)\n          this.updateURL();\n        this.preventShowHideHeaderOnScroll = 1;\n      }\n    },\n\n    onTagDropdownShow(event, state) {\n      state.keepDropdown = 0;\n      state.readyToHide = false;\n    },\n    onTagDropdownHide(event, state) {\n      if (state.keepDropdown > 0) {\n        event.preventDefault();\n      }\n    },\n    onSubtagPopoverShow(state, popoverTarget) {\n      this.hidePopover(this.prevPopover);\n      this.prevPopover = this.genTagID(popoverTarget);\n      state.keepDropdown++;\n    },\n    onSubtagPopoverHide(state) {\n      state.keepDropdown--;\n      if (state.readyToHide) {\n        this.$refs[state.name][0].hide();\n      }\n    },\n    hideTagDropdown(state, popoverTarget) {\n      if (popoverTarget) {\n        this.hidePopover(this.genTagID(popoverTarget));\n      }\n      state.readyToHide = true;\n    },\n    hidePopover(id = null) {\n      this.$root.$emit('bv::hide::popover', id);\n    },\n\n\n    serializeFilter(filter) {\n      let r = 0;\n      for (let i = 0; i < filter.length; ++i) {\n        if (filter[i].state) {\n          r |= 1 << i;\n        }\n      }\n      return r;\n    },\n    deserializeFilter(filter, v) {\n      for (let i = 0; i < filter.length; ++i) {\n        filter[i].state = (v & (1 << i)) != 0;\n      }\n    },\n\n    copyToClipboard(value) {\n      if (navigator.clipboard) {\n        return navigator.clipboard.writeText(value);\n      }\n    },\n\n    URLSerializer: class {\n      constructor(data) {\n        for (const k in data) {\n          this[k] = data[k];\n        }\n      }\n\n      serialize() {\n        let params = [];\n        for (const k in this) {\n          params.push(k + \"=\" + this[k].toString());\n        }\n        return \"?\" + (params.length != 0 ? params.join(\"&\") : \"\");\n      }\n\n      deserialize(url) {\n        url = decodeURIComponent(url);\n        let numHandled = 0;\n        let q = url.match(/\\?([^#]+)/);\n        if (q) {\n          let params = q[1].split('&');\n          for (let param of params) {\n            let kvp = param.split('=');\n            if (kvp.length == 2) {\n              if (typeof this[kvp[0]] === \"number\")\n                this[kvp[0]] = parseInt(kvp[1]);\n              else\n                this[kvp[0]] = kvp[1];\n              ++numHandled;\n            }\n          }\n        }\n        return numHandled;\n      }\n    },\n\n    getMainChrStatus(chr, level = 110, star = 6, master = 3, loveBonus = true, boost = [150, 140, 130, 140, 130, 50])\n    {\n      if (!chr || !chr.statusInit || !chr.statusLv || !chr.statusStar)\n        return null;\n\n      let r = [0, 0, 0, 0, 0, 0];\n      for (let i = 0; i < r.length; ++i) {\n        r[i] += chr.statusInit[i];\n        r[i] += Math.round(chr.statusLv[i] * (level - 1));\n        r[i] += Math.round(chr.statusStar[i] * star);\n      }\n      if(master > 0 && master <= 3){\n        const values = [\n          [  0, 0, 0, 0, 0, 0],\n          [200, 0, 0, 0, 0, 0],\n          [400, 0, 0, 0, 0, 0],\n          [800, 0, 0, 0, 0, 0],\n        ];\n        for (let i = 0; i < r.length; ++i)\n          r[i] += values[master][i];\n      }\n      if (loveBonus) {\n        const values = [100, 25, 15, 25, 15, 0];\n        for (let i = 0; i < values.length; ++i)\n          r[i] += values[i];\n      }\n      if (boost) {\n        for (let i = 0; i < boost.length; ++i)\n          r[i] = Math.round(r[i] * (1.0 + boost[i] * 0.01));\n      }\n      return r;\n    },\n\n    getSupportChrStatus(chr, level = 110, star = 6, master = 3, loveBonus = true, boost = [110, 120, 110, 120, 110, 0], amulet = null) {\n      if (!chr || !chr.statusInit || !chr.statusLv || !chr.statusStar)\n        return null;\n\n      let r = [0, 0, 0, 0, 0, 0];\n      for (let i = 0; i < r.length; ++i) {\n        r[i] += chr.statusInit[i];\n        r[i] += Math.round(chr.statusLv[i] * (level - 1));\n        r[i] += Math.round(chr.statusStar[i] * star);\n      }\n      if (master > 0 && master <= 3) {\n        const values = [\n          [   0,  0,  0,  0,  0, 0],\n          [ 300, 15,  8, 15,  8, 0],\n          [ 600, 30, 16, 30, 16, 0],\n          [1200, 55, 28, 55, 28, 0],\n        ];\n        for (let i = 0; i < r.length; ++i)\n          r[i] += values[master][i];\n      }\n      if (loveBonus) {\n        const values = [100, 25, 15, 25, 15, 0];\n        for (let i = 0; i < values.length; ++i)\n          r[i] += values[i];\n      }\n\n      // 端数の丸め方で誤差が出てしまうため、r *= 1.0 + boost + amulet ではダメ\n      let additional = [0, 0, 0, 0, 0, 0];\n      if (boost) {\n        for (let i = 0; i < boost.length; ++i)\n          additional[i] += Math.round(r[i] * (boost[i] * 0.01));\n      }\n      if (amulet) {\n        for (let i = 0; i < amulet.length; ++i)\n          additional[i] += Math.round(r[i] * (amulet[i] * 0.01));\n      }\n      for (let i = 0; i < additional.length; ++i)\n        r[i] += additional[i];\n\n      return r;\n    },\n\n    getItemStatus(item, level = 50) {\n      if (!item || !item.statusInit || !item.statusLv)\n        return null;\n\n      let r = [0, 0, 0, 0, 0, 0];\n      for (let i = 0; i < r.length; ++i) {\n        r[i] += Math.round(item.statusInit[i] + item.statusLv[i] * (level - 1));\n      }\n      return r;\n    },\n\n    getNPCChrStatus(chr, level, rate = [100, 100, 100, 100, 100, 100])\n    {\n      // todo: 補間\n      let r = [...chr.statusLvs[level]];\n      if (rate) {\n        for (let i = 0; i < r.length; ++i)\n          r[i] = Math.round(r[i] * (rate[i] * 0.01));\n      }\n      return r;\n    },\n\n\n    // seq must be sorted array\n    lowerBound(seq, n) {\n      let first = 0, last = seq.length - 1;\n      while (first <= last) {\n        const middle = (first + last) / 2;\n        if (seq[middle] < n)\n          first = middle + 1;\n        else\n          last = middle - 1;\n      }\n      return first;\n    },\n    compare(a, b) {\n      return a == b ? 0 : a < b ? 1 : -1;\n    },\n    toNumber(v)\n    {\n      if (typeof v === \"number\")\n        return v;\n      const r = parseFloat(v);\n      return isNaN(r) ? 0 : r;\n    },\n    toInt(v) {\n      if (typeof v === \"number\")\n        return v;\n      const r = parseInt(v);\n      return isNaN(r) ? 0 : r;\n    },\n    parseValue(s) {\n      if (s == 'true')\n        return true;\n      else if (s == 'false')\n        return false;\n      else if (s.match(/^[\\d.]+$/))\n        return this.toNumber(s);\n      else\n        return s;\n    },\n\n    getBattlePower(status)\n    {\n      if (!status)\n        return 0;\n\n      let r = 0;\n      r += status[0] * 0.05;\n      r += Math.max(status[1], status[3]) * 2 * (1.0 + status[5] * 0.0003);\n      r += status[2] * 2;\n      r += status[4] * 2;\n      return r;\n    },\n    getMainBattlePower(status, star = 6, master = 3, skillCost = 6, itemStar = 20, enchantComplete = true, engageSkillCount = 0) {\n      let r = this.getBattlePower(status);\n      return Math.round(r * (1.0 + 0.1 * star + 0.1 * master + 0.03 * skillCost + 0.02 * itemStar + (enchantComplete ? 0.1 : 0) + engageSkillCount * 0.05));\n    },\n    getSupportBattlePower(status, star = 6, master = 3, skillCount = 3) {\n      status = [...status];\n      status[5] = 0; // テクニックを計上しない\n      let r = this.getBattlePower(status);\n      return Math.round(r * (1.0 + 0.1 * star + 0.1 * master + 0.05 * skillCount));\n    },\n    getEstimatedItemBattlePower(status, api = 0, baseAP = 3000, baseTec = 0) {\n      let r = 0;\n      r += status[0] * 0.05;\n      r += status[2] * 2;\n      r += status[4] * 2;\n\n      let ap = 0;\n      if (api == 0)\n        ap = Math.max(status[1], status[3]);\n      else\n        ap = status[api];\n      r += ap * 2 * (1.0 + (baseTec + status[5]) * 0.0003);\n\n      r += baseAP * 2 * (status[5] * 0.0003);\n\n      return Math.round(r);\n    },\n\n\n    getEffectIndex(effectType) {\n      const effectTypes = jsonConstants.effectTypes;\n      return effectTypes.findIndex(a => a == effectType);\n    },\n\n    isPublicTarget(target) {\n      return !target ||\n        (typeof (target) == \"string\" && target != \"自身\");\n    },\n    isSelfTarget(target) {\n      return !target ||\n        (typeof (target) == \"string\" && target == \"自身\");\n    },\n\n    effectParamsToTags(skill, params) {\n      let miscTags = [];\n\n      if (skill.isSymbolSkill) {\n        miscTags.push(`シンボルスキル`);\n      }\n      if (skill.summon) {\n        miscTags.push(`召喚`);\n      }\n      if (skill.fixedDamage) {\n        if (skill.fixedDamage.find(a => a.target != \"自身\")) {\n          miscTags.push(`固定ダメージ`);\n        }\n      }\n      if (skill.buffCancel) {\n        miscTags.push(`バフ解除`);\n      }\n      if (skill.buffSteal) {\n        miscTags.push(`バフ奪取`);\n      }\n      if (skill.doubleAttack) {\n        let postfix = \"\";\n        const cond = skill.doubleAttack.condition;\n        if (cond) {\n          if (cond.onEnemyTurn)\n            postfix = \"(反撃)\";\n        }\n        miscTags.push(`2回攻撃${postfix}`);\n      }\n\n      if (skill.multiMove) {\n        let postfix = \"\";\n        const cond = skill.multiMove.condition;\n        if (cond) {\n          if (cond.onKill)\n            postfix = \"(敵撃破時)\";\n        }\n        miscTags.push(`再移動${postfix}`);\n      }\n      if (skill.multiAction) {\n        let postfix = \"\";\n        const cond = skill.multiAction.condition;\n        if (cond) {\n          if (cond.onKill)\n            postfix = \"(敵撃破時)\";\n          else if (cond.probability)\n            postfix = \"(確率)\";\n        }\n        if (skill.multiAction.target) {\n          postfix = \"(味方)\";\n        }\n\n        miscTags.push(`再行動${postfix}`);\n        if (!skill.isActive || (skill.isActive && skill.damageRate) || skill.multiAction.target) {\n          miscTags.push(`再攻撃${postfix}`);\n        }\n      }\n\n      const buffToS = function (effectCategory, effect) {\n        if (params.tagFilter && !params.tagFilter(skill, effectCategory, effect))\n          return [];\n        if (effect.isDebuff && !effect.duration)\n          return [];\n\n        // マイナスバフをデメリットタグとして登録するか\n        if (typeof (effect.value) == 'number') {\n          if (effect.value < 0 && effect.isBuff) {\n            if (params.includeDemeritTags) {\n              effectCategory = \"デメリット\"\n            }\n            else {\n              return [];\n            }\n          }\n        }\n\n        let t = effectCategory + \":\" + effect.type;\n\n        if (effect.ephemeral) {\n          t += \"(戦闘時)\";\n        }\n        else if (effect.target) {\n          if ((params.includeSelfTags && this.isSelfTarget(effect.target))) {\n            t += `(${effect.target})`;\n          }\n        }\n        else if (params.includeAreaTags && effect.isBuff && effect.area) {\n          t += `(味方)`;\n        }\n\n        if (effect.variant)\n          t += `(${effect.variant})`;\n        return t;\n      }.bind(this);\n\n      let buff = skill.buff;\n      if (skill.isSymbolSkill) {\n        buff = buff?.slice(6, buff.length); // シンボルスキル共通バフは除外\n      }\n\n      const map = (a, f) => a ? a.flatMap(f) : [];\n      return [\n        ...miscTags,\n        ...map(buff, a => buffToS(\"バフ\", a)),\n        ...map(skill.debuff, a => buffToS(\"デバフ\", a)),\n        ...map(skill.statusEffects, a => buffToS(\"デバフ\", a)),\n        ...map(skill.immune, a => buffToS(\"無効化\", a)),\n        ...map(skill.drawback, a => buffToS(\"デメリット\", a)),\n      ];\n    },\n\n    setupSkill(skill, params) {\n      const self = this;\n      if (skill.isActive) {\n        if (skill.target == \"単体\") {\n          skill.isSingleTarget = true;\n        }\n        if (skill.range == \"自ユニット\") {\n          if (skill.isSingleTarget) {\n            skill.isSelfTarget = true;\n          }\n          else {\n            skill.isRadialAreaTarget = true;\n          }\n        }\n        if (skill.area && skill.area != \"単体\") {\n          skill.isAreaTarget = true;\n        }\n        if (skill.damageRate) {\n          skill.isDamageSkill = true;\n        }\n      }\n\n      const setupSlot = function (effect) {\n        effect.typeId = self.getEffectIndex(effect.type);\n        if (skill.isActive && !effect.slot) {\n          let slot = effect.type;\n          if (effect.isBuff)\n            slot += \"+\";\n          else if (effect.isDebuff)\n            slot += \"-\";\n          if (skill.isMainSkill)\n            slot += \"(メイン)\";\n          else if (skill.isSupportSkill)\n            slot += \"(サポート)\";\n          if (effect.ephemeral)\n            slot += \"(戦闘時)\";\n          effect.slot = slot;\n        }\n        else if (skill.isActive && effect.slot) {\n          effect.hasSpecialSlot = true;\n        }\n      };\n      const setParent = function (effect) {\n        Object.defineProperty(effect, 'parent', {\n          value: skill,\n          writable: false,\n        });\n      };\n\n      if (skill.buff) {\n        for (let v of skill.buff) {\n          setParent(v);\n          v.isBuff = true;\n          setupSlot(v);\n\n          if (typeof (v.value) === 'number' && v.value < 0) {\n            if (!skill.negativeEffects)\n              skill.negativeEffects = [];\n            skill.negativeEffects.push(v);\n          }\n        }\n      }\n      if (skill.debuff) {\n        for (let v of skill.debuff) {\n          setParent(v);\n          v.isDebuff = true;\n          setupSlot(v);\n        }\n      }\n      if (skill.statusEffects) {\n        for (let v of skill.statusEffects) {\n          setParent(v);\n          v.isStatusEffect = true;\n        }\n      }\n      if (skill.immune) {\n        for (let v of skill.immune) {\n          setParent(v);\n          v.isImmune = true;\n        }\n      }\n\n      if (!skill.tags)\n        skill.tags = [];\n      if (params.includeSkillEffectTags)\n        skill.tags = [...skill.tags, ...this.effectParamsToTags(skill, params)];\n\n      if (!skill.icon)\n        skill.icon = skill.uid;\n    },\n\n    setupItems(items, params = {}) {\n      const consts = jsonConstants;\n      const allClasses = [0, 1, 2, 3, 4, 5, 6, 7];\n\n      for (let item of items) {\n        item.isItem = true;\n        this.setupSkill(item, params);\n\n        if (item.classes) {\n          item.classIds = item.classes.map(cls => consts.classes.findIndex(v => v == cls));\n          item.classFlags = 0;\n          for (const i of item.classIds)\n            item.classFlags |= 1 << i;\n        }\n        else {\n          item.classIds = allClasses;\n          item.classFlags = 0xffff;\n        }\n\n        if (item.rarity)\n          item.rarityId = consts.rarities.findIndex(v => v == item.rarity);\n        if (item.slot)\n          item.slotId = consts.itemTypes.findIndex(v => v == item.slot);\n\n        item.status = this.getItemStatus(item);\n      }\n    },\n\n    // params:\n    // {\n    //   includeSelfTags: bool,\n    //   includeSkillEffectTags: bool,\n    //   includeAreaTags: bool,\n    //   includeDemeritTags: bool,\n    //   tagFilter: (skill, effectCategory, effect) => bool,\n    // }\n    setupCharacters(characters, activeSkills, passiveSkills, talents = [], params = {}) {\n      const isMain = talents.length != 0;\n      const isSupport = !isMain;\n      const consts = jsonConstants;\n\n      for (let s of activeSkills)\n        s.isActive = true;\n      for (let s of passiveSkills)\n        s.isPassive = true;\n      for (let s of talents)\n        s.isTalent = true;\n\n      if (isMain) {\n        for (let chr of characters)\n          chr.isMain = true;\n        for (let s of [...activeSkills, ...passiveSkills, ...talents])\n          s.isMainSkill = true;\n      }\n      if (isSupport) {\n        for (let chr of characters)\n          chr.isSupport = true;\n        for (let s of [...activeSkills, ...passiveSkills])\n          s.isSupportSkill = true;\n      }\n\n      let skillTable = new Map();\n      for (let s of [...activeSkills, ...passiveSkills, ...talents]) {\n        this.setupSkill(s, params);\n        skillTable.set(s.uid, s);\n      }\n\n      const grabSkill = function (id, chr) {\n        if (typeof (id) == \"object\") {\n          return id;\n        }\n\n        let skill = skillTable.get(id);\n        if (!skill) {\n          console.error(`skill not found: ${id}`);\n          return null;\n        }\n        if (!skill.owners)\n          Object.defineProperty(skill, 'owners', {\n            value: [],\n            writable: false,\n          });\n        if (!skill.owners.includes(chr))\n          skill.owners.push(chr);\n\n        if (!skill.desc && skill.descs) {\n          skill.current = \"Lv 6\";\n          this.$set(skill, 'desc', skill.descs[skill.current]);\n\n          const arrayToScalar = function (obj, prop) {\n            const v = obj[prop];\n            if (Array.isArray(v)) {\n              obj[`${prop}_`] = v;\n              obj[prop] = v[v.length - 1];\n            }\n          };\n\n          let effects = [\n            ...(skill.buff ? skill.buff : []),\n            ...(skill.debuff ? skill.debuff : []),\n            ...(skill.immune ? skill.immune : []),\n          ]\n          for (let effect of effects) {\n            arrayToScalar(effect, \"value\");\n            arrayToScalar(effect, \"duration\");\n            if (effect.add) {\n              arrayToScalar(effect.add, \"rate\");\n            }\n            let cond = effect.condition;\n            if (cond) {\n              arrayToScalar(cond, \"probability\");\n            }\n          }\n        }\n        return skill;\n      }.bind(this);\n\n      for (let chr of characters) {\n        if (chr.talent) {\n          chr.isMain = true;\n          chr.talent = grabSkill(chr.talent, chr);\n        }\n        else {\n          chr.isSupport = true;\n        }\n        if (!chr.icon) {\n          chr.icon = chr.uid;\n        }\n\n        if (chr.class)\n          chr.classId = consts.classes.findIndex(v => v == chr.class);\n        if (chr.symbol)\n          chr.symbolId = consts.symbols.findIndex(v => v == chr.symbol);\n        if (chr.rarity)\n          chr.rarityId = consts.rarities.findIndex(v => v == chr.rarity);\n        if (chr.damageType)\n          chr.damageTypeId = consts.damageTypes.findIndex(v => v == chr.damageType);\n        if (chr.supportType)\n          chr.supportTypeId = consts.supportTypes.findIndex(v => v == chr.supportType);\n\n        const handleSummons = function (skills) {\n          for (let s of skills) {\n            if (Array.isArray(s.summon) && (typeof s.summon[0]) == \"string\") {\n              s.summon = s.summon.map(uid => chr.summon.find(sch => sch.uid == uid));\n            }\n          }\n        };\n\n        if (chr.skills) {\n          chr.skills = chr.skills.flatMap(id => grabSkill(id, chr));\n          if (chr.summon) {\n            for (let s of chr.summon) {\n              s.talent = grabSkill(s.talent, chr);\n              s.skills = s.skills.flatMap(id => grabSkill(id, chr));\n              if (!s.icon) {\n                s.icon = s.uid;\n              }\n            }\n            handleSummons(chr.skills);\n          }\n        }\n\n        if (chr.engage && chr.engage.skills) {\n          chr.engage.skills = chr.engage.skills.flatMap(id => grabSkill(id, chr));\n          if (chr.summon) {\n            handleSummons(chr.engage.skills);\n          }\n          chr.skillsBase = chr.skills;\n          this.$set(chr.engage, 'enabled', false);\n\n          for (let i = 0; i < chr.skills.length; ++i) {\n            if (chr.engage.skills[i] !== chr.skills[i]) {\n              chr.engage.skills[i].isEngageSkill = true;\n            }\n          }\n        }\n      }\n    },\n\n    setArrayElement(ary, idx, item) {\n      this.$set(ary, idx, item);\n    },\n    pushArray(ary, item) {\n      ary.push(item);\n    },\n    popArray(ary) {\n      if (ary.length > 0) {\n        ary.splice(ary.length - 1);\n      }\n    },\n\n    moveProperty(dst, src, name) {\n      if (name in src) {\n        dst[name] = src[name];\n        delete src[name];\n      }\n    },\n    swapProperty(dst, src, field) {\n      const tmp = dst[field];\n      dst[field] = src[field];\n      src[field] = tmp;\n    },\n    objectEqual(obj1, obj2) {\n      if (obj1 === obj2) {\n        return true;\n      }\n      if (typeof obj1 !== 'object' || typeof obj2 !== 'object' || obj1 === null || obj2 === null) {\n        return false;\n      }\n\n      const keys1 = Object.keys(obj1);\n      const keys2 = Object.keys(obj2);\n      if (keys1.length !== keys2.length) {\n        return false;\n      }\n      for (let key of keys1) {\n        if (!Object.hasOwn(obj2, key)) {\n          return false;\n        }\n        if (!this.objectEqual(obj1[key], obj2[key])) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n  },\n}\n","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n      <div class=\"menu-content\">\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"searchTabIndex\">\n            <b-tab title=\"タグ検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <b-button-group size=\"sm\" id=\"skill_type_selector\">\n                    <b-button v-for=\"(c, i) in skillTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('skillType')\" variant=\"outline-secondary\">\n                      {{ skillTypes[i] }}\n                    </b-button>\n                  </b-button-group>\n                </div>\n                <div class=\"widget\" style=\"width: 170px\">\n                  <b-form-input v-model=\"tagSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('tag')\" />\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"margin-right:0px\" v-for=\"(tc, tci) in tagCategory\" :key=\"tci\">\n                  <b-dropdown :text=\"tc.display\" :ref=\"tc.name\" size=\"sm\" @show=\"onTagDropdownShow($event, tc)\" @hide=\"onTagDropdownHide($event, tc)\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"t in getFilteredMainTags(tc.tags)\" :key=\"mainTagTable[t].id\" :id=\"genTagID(t)\" @click=\"setTagSearchPattern(t); hideTagDropdown(tc, t);\">\n                      {{t}} <span class=\"note\" v-html=\"`(${mainTagTable[t].count})`\"></span> <span v-if=\"mainTagTable[t].note\" class=\"note\" v-html=\"mainTagTable[t].note\"></span>\n                      <b-popover v-if=\"subTagTable[t]\" :target=\"genTagID(t)\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade @show=\"onSubtagPopoverShow(tc, t)\" @hidden=\"onSubtagPopoverHide(tc, t)\">\n                        <b-dropdown-item class=\"d-flex flex-column\" v-for=\"st in getFilteredSubTags(t)\" :key=\"tagTable[st].id\" @click=\"setTagSearchPattern(st, true); hideTagDropdown(tc, t);\">\n                          {{st}} <span class=\"note\" v-html=\"`(${tagTable[st].count})`\"></span>\n                        </b-dropdown-item>\n                      </b-popover>\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"tagSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"フリーワード検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"width: 300px\">\n                  <b-form-input v-model=\"freeSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('free')\" />\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"freeSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n        <div class=\"menu-panel\">\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <h6>フィルター</h6>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"class_selector\">\n                <b-button v-for=\"(c, i) in classFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('class')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button size=\"sm\" :pressed.sync=\"engageFilter\" @click=\"updateQuery('engage')\" variant=\"outline-secondary\">\n                <b-img-lazy :src=\"getImageURL('エンゲージ')\" width=\"25\" height=\"25\" />\n              </b-button>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"symbol_selector\">\n                <b-button v-for=\"(c, i) in symbolFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('symbol')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(symbols[i])\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"rareiry_selector\">\n                <b-button v-for=\"(c, i) in rarityFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('rarity')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(rarities[i])\" width=\"36\" height=\"20\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"attack_type_selector\">\n                <b-button v-for=\"(c, i) in damageTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('damageType')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(damageTypes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n        </div>\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"settingsTabIndex\">\n            <b-tab title=\"表示\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>件数：</span>\n                  <b-dropdown :text=\"displayCounts[displayCount]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayCounts\" :key=\"i\" @click=\"displayCount=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <span>形式：</span>\n                  <b-dropdown :text=\"displayTypes[displayType]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayTypes\" :key=\"i\" @click=\"displayType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <span>エンゲージ：</span>\n                  <b-dropdown text=\"一括切替\" size=\"sm\">\n                    <b-dropdown-item class=\"d-flex flex-column\" @click=\"switchEngageAll(false)\">エンゲージ前</b-dropdown-item>\n                    <b-dropdown-item class=\"d-flex flex-column\" @click=\"switchEngageAll(true)\">エンゲージ後</b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>ソート：</span>\n                  <b-dropdown :text=\"sortTypes[sortType]\" size=\"sm\" id=\"sort_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortTypes\" :key=\"i\" @click=\"sortType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                  <span style=\"width:5px\"></span>\n                  <b-dropdown :text=\"sortOrders[sortOrder]\" size=\"sm\" id=\"sort_order_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortOrders\" :key=\"i\" @click=\"sortOrder=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"ステータス\">\n              <div class=\"flex\">\n                <div class=\"menu-widgets\">\n                  <b-container>\n                    <b-form-row v-for=\"(param, name, index) in [stat.base.level, stat.base.star]\" :key=\"index\">\n                      <b-col style=\"text-align: right\" align-self=\"end\">\n                        <label :for=\"`stat-${name}`\">{{param.label}}</label>\n                      </b-col>\n                      <b-col>\n                        <b-form-input style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                      </b-col>\n                    </b-form-row>\n                  </b-container>\n                </div>\n                <div class=\"menu-widgets\">\n                  <div style=\"margin: 3px\">\n                    <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em\" @click=\"updateStatus()\" id=\"stat-detail\">詳細設定</b-button>\n                    <b-popover target=\"stat-detail\" triggers=\"click blur\" placement=\"bottom\" custom-class=\"stat-popover\">\n                      <div class=\"flex\" style=\"font-size: small\">\n                        <b-container>\n                          <div style=\"text-align:center\">\n                            <h6 style=\"margin: 5px 0px\">基本情報</h6>\n                          </div>\n                          <b-form-row v-for=\"(param, name, index) in stat.base\" :key=\"index\">\n                            <b-col style=\"text-align: right\" align-self=\"end\">\n                              <label style=\"width: 7em\" :for=\"`stat-${name}`\">{{param.label}}</label>\n                            </b-col>\n                            <b-col>\n                              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                              <b-form-checkbox v-if=\"param.type == 'bool'\" style=\"width: 5em\" :id=\"`stat-${name}`\" v-model=\"param.value\" size=\"sm\" plain></b-form-checkbox>\n                            </b-col>\n                          </b-form-row>\n                        </b-container>\n                        <b-container>\n                          <div style=\"text-align:center\">\n                            <h6 style=\"margin: 5px 0px\">記憶の書＋強化ボード</h6>\n                          </div>\n                          <b-form-row v-for=\"(param, name, index) in stat.boosts\" :key=\"index\">\n                            <b-col style=\"text-align: right\" align-self=\"end\">\n                              <label style=\"width: 8em\" :for=\"`stat-${name}`\">{{param.label}}</label>\n                            </b-col>\n                            <b-col>\n                              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                            </b-col>\n                          </b-form-row>\n                        </b-container>\n                      </div>\n                      <div class=\"flex\" style=\"margin: 5px 5px 0px 5px\">\n                        <div style=\"text-align: left\">\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"margin: 3px\" @click=\"resetStatus()\">カンスト化</b-button>\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"margin: 3px\" @click=\"resetStatus(1)\">キャラ紹介を再現</b-button>\n                        </div>\n                        <div style=\"text-align: right; flex-grow: 1\">\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em; margin: 3px\" @click=\"updateStatus()\">適用</b-button>\n                        </div>\n                      </div>\n                    </b-popover>\n                  </div>\n                  <div style=\"margin: 3px\">\n                    <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em\" @click=\"updateStatus()\">適用</b-button>\n                  </div>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n      </div>\n    </div>\n    <div id=\"content\" class=\"content\" style=\"margin-top: 200px;\" :style=\"style\">\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToBottom()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↓\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n      <template v-for=\"chr in pagedItems\">\n        <div class=\"character\" :id=\"'chr_'+chr.id\" :key=\"chr.id\">\n          <div class=\"flex\">\n            <div class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(chr.icon)\" :title=\"chr.name\" width=\"100\" height=\"100\" rounded />\n            </div>\n            <div class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"info\" :class=\"{ 'highlighted': isInfoHighlighted(chr) }\">\n                <h5 v-html=\"chrNameToHtml(chr.name)\"></h5>\n                <div class=\"status\">\n                  <b-img-lazy :src=\"getImageURL(chr.class)\" :title=\"'クラス:'+chr.class\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(chr.symbol)\" :title=\"'シンボル:'+chr.symbol\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(chr.rarity)\" :title=\"'レアリティ:'+chr.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(chr.damageType)\" :title=\"'攻撃タイプ:'+chr.damageType\" width=\"20\" height=\"20\" /></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{chr.range}}</span></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{chr.move}}</span></div>\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{chr.date}}</span></div>\n                  <div class=\"param-box\" v-if=\"chr.engage\"><span class=\"param-name\">エンゲージ:</span><span class=\"param-value\">{{chr.engage.date}}</span></div>\n                </div>\n                <div v-if=\"chr.status\" class=\"status2\" :title=\"`☆${stat.base.star.value} Lv${stat.base.level.value} 時のステータス`\" v-html=\"statusToHtml(chr.status)\" />\n              </div>\n              <div class=\"skills\">\n                <div class=\"talent\" :class=\"{ 'highlighted': isTalentHighlighted(chr.talent) }\">\n                  <div class=\"flex\">\n                    <div class=\"icon\" :id=\"'chr_'+chr.id+'_talent'\">\n                      <b-img-lazy :src=\"getImageURL(chr.talent.icon)\" with=\"50\" height=\"50\" />\n                      <b-popover v-if=\"displayType==1\" :target=\"'chr_'+chr.id+'_talent'\" :title=\"chr.talent.name\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div class=\"flex\">\n                          <div v-html=\"descToHtml(chr.talent)\"></div>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <h5>\n                        {{ skillNameToHtml(chr.talent) }}\n                        <b-dropdown v-if=\"chr.talent.descs\" class=\"level-selector\" :text=\"chr.talent.current\" variant=\"outline-secondary\">\n                          <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(ds, di) in chr.talent.descs\" :key=\"di\" @click=\"chr.talent.current=di; chr.talent.desc=ds;\">{{di}}</b-dropdown-item>\n                        </b-dropdown>\n                        <b-dropdown v-if=\"chr.engage\" class=\"level-selector\" :text=\"chr.engage.enabled ? 'エンゲージ後': 'エンゲージ前'\" variant=\"outline-secondary\">\n                          <b-dropdown-item class=\"d-flex flex-column\" @click=\"switchEngage(chr, false)\">エンゲージ前</b-dropdown-item>\n                          <b-dropdown-item class=\"d-flex flex-column\" @click=\"switchEngage(chr, true)\">エンゲージ後</b-dropdown-item>\n                        </b-dropdown>\n                      </h5>\n                      <p><span v-html=\"descToHtml(chr.talent)\"></span><span v-if=\"chr.talent.note\" class=\"note\" v-html=\"noteToHtml(chr.talent)\"></span></p>\n                    </div>\n                  </div>\n                  <div class=\"tags\" v-show=\"displayType >= 2\">\n                    <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in chr.talent.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                  </div>\n                </div>\n                <div class=\"skill\" v-for=\"(skill, si) in chr.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\" :id=\"'chr_'+chr.id+'_skill'+si\">\n                      <b-link @click=\"setSkillFilter(skill)\"><b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" /></b-link>\n                      <b-popover v-if=\"displayType>=1\" :target=\"'chr_'+chr.id+'_skill'+si\" :title=\"skill.name\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div class=\"flex\" v-if=\"displayType==1\">\n                          <div v-html=\"descToHtml(skill)\"></div>\n                        </div>\n                        <div v-if=\"skill.owners\" class=\"owners\">\n                          所持者:<br />\n                          <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"moveToChr(owner)\">\n                            <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" height=\"50\" />\n                          </b-link>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skillNameToHtml(skill) }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                    </div>\n                  </div>\n                  <div class=\"tags\" v-show=\"displayType >= 2\">\n                    <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in skill.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"summon\" v-if=\"chr.summon\" v-show=\"displayType >= 1\">\n            <div class=\"flex\" v-for=\"(summon, smi) in chr.summon\" :key=\"smi\">\n              <div class=\"portrait\">\n                <b-img-lazy :src=\"getImageURL(summon.icon)\" :title=\"summon.name\" width=\"100\" height=\"100\" rounded />\n              </div>\n              <div class=\"detail\" v-show=\"displayType >= 1\">\n                <div class=\"info\" :class=\"{ 'highlighted': isInfoHighlighted(summon) }\">\n                  <h5><span v-html=\"chrNameToHtml(summon.name)\"></span> <span class=\"note\">(召喚ユニット)</span></h5>\n                  <div class=\"status\">\n                    <b-img-lazy :src=\"getImageURL(summon.class)\" :title=\"'クラス:'+summon.class\" height=\"25\" />\n                    <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(summon.damageType)\" :title=\"'攻撃タイプ:'+summon.damageType\" width=\"20\" height=\"20\" /></div>\n                    <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{summon.range}}</span></div>\n                    <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{summon.move}}</span></div>\n                  </div>\n                  <div v-if=\"summon.statusLvs\" class=\"status2\" title=\"Lv110 時の能力値\" v-html=\"statusToHtml(summon.statusLvs[110])\" />\n                </div>\n                <div class=\"skills\">\n                  <div class=\"talent\" :class=\"{ 'highlighted': isTalentHighlighted(summon.talent) }\">\n                    <div class=\"flex\">\n                      <div class=\"icon\" :id=\"'summon_'+chr.id+'_'+smi+'_talent'\">\n                        <b-img-lazy :src=\"getImageURL(summon.talent.icon)\" with=\"50\" height=\"50\" />\n                        <b-popover v-if=\"displayType==1\" :target=\"'summon_'+chr.id+'_'+smi+'_talent'\" triggers=\"hover focus\" :title=\"summon.talent.name\" placement=\"top\">\n                          <div class=\"flex\">\n                            <div v-html=\"descToHtml(summon.talent)\"></div>\n                          </div>\n                        </b-popover>\n                      </div>\n                      <div class=\"desc\" v-show=\"displayType >= 2\">\n                        <h5>\n                          {{ summon.talent.name }}\n                        </h5>\n                        <p><span v-html=\"descToHtml(summon.talent)\"></span><span v-if=\"summon.talent.note\" class=\"note\" v-html=\"noteToHtml(summon.talent)\"></span></p>\n                      </div>\n                    </div>\n                    <div class=\"tags\" v-show=\"displayType >= 2\">\n                      <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in summon.talent.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                    </div>\n                  </div>\n                  <div class=\"skill\" v-for=\"(skill, si) in summon.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                    <div class=\"flex\">\n                      <div class=\"icon\" :id=\"'summon_'+chr.id+'_'+smi+'_skill'+si\">\n                        <b-link @click=\"setSkillFilter(skill)\"><b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" /></b-link>\n                        <b-popover v-if=\"displayType>=1\" :target=\"'summon_'+chr.id+'_'+smi+'_skill'+si\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                          <div class=\"flex\" v-if=\"displayType==1\">\n                            <div v-html=\"descToHtml(skill)\"></div>\n                          </div>\n                          <div v-if=\"skill.owners\" class=\"owners\">\n                            所持者:<br />\n                            <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"moveToChr(owner)\">\n                              <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" height=\"50\" />\n                            </b-link>\n                          </div>\n                        </b-popover>\n                      </div>\n                      <div class=\"desc\" v-show=\"displayType >= 2\">\n                        <div class=\"flex\">\n                          <h6>{{ skill.name }}</h6>\n                          <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                        </div>\n                        <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                      </div>\n                    </div>\n                    <div class=\"tags\" v-show=\"displayType >= 2\">\n                      <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in skill.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </template>\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToTop()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↑\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport jsonActive from '../assets/main_active.json'\nimport jsonPassive from '../assets/main_passive.json'\nimport jsonTalents from '../assets/main_talents.json'\nimport jsonCharacters from '../assets/main_characters.json'\nimport jsonConstants from '../assets/constants.json'\nimport common from \"./common\";\n\nexport default {\n  name: 'MainCharacters',\n  components: {\n    Navigation,\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      active: jsonActive,\n      passive: jsonPassive,\n      talents: jsonTalents,\n      characters: jsonCharacters,\n      constants: jsonConstants,\n\n      classes: jsonConstants.classes,\n      symbols: jsonConstants.symbols,\n      damageTypes: jsonConstants.damageTypes,\n      rarities: jsonConstants.rarities,\n      skillTypes: [\n        \"タレント\",\n        \"パッシブ\",\n        \"アクティブ\",\n      ],\n\n      displayTypes: [\n        \"アイコン\",\n        \"シンプル\",\n        \"詳細\",\n      ],\n      sortTypes: [\n        \"実装日\",\n        \"エンゲージ実装日\",\n        \"戦闘力\",\n        \"攻撃力\",\n        \"HP\",\n        \"アタック\",\n        \"ディフェンス\",\n        \"マジック\",\n        \"レジスト\",\n        \"テクニック\",\n      ],\n      sortOrders: [\n        \"降順\",\n        \"昇順\"\n      ],\n\n      tagCategory: {\n        buff: {\n          display: \"バフ系\",\n          name: \"tags_buff\",\n          tags: new Set(),\n        },\n        debuff: {\n          display: \"デバフ系\",\n          name: \"tags_debuff\",\n          tags: new Set(),\n        },\n        resist: {\n          display: \"無効化系\",\n          name: \"tags_resist\",\n          tags: new Set(),\n        },\n        action: {\n          display: \"攻撃/回復\",\n          name: \"tags_action\",\n          tags: new Set(),\n        },\n        other: {\n          display: \"その他\",\n          name: \"tags_other\",\n          tags: new Set(),\n        },\n      },\n\n      classFilter: [],\n      symbolFilter: [],\n      rarityFilter: [],\n      damageTypeFilter: [],\n      skillTypeFilter: [],\n      engageFilter: false,\n\n      stat: {\n        base: {\n          level: {\n            label: \"レベル\",\n            type: \"number\",\n            min: 1,\n            value: 110,\n          },\n          star: {\n            label: \"⭐\",\n            type: \"number\",\n            min: 1,\n            max: 6,\n            value: 6,\n          },\n          master: {\n            label: \"マスターレベル\",\n            type: \"number\",\n            min: 0,\n            max: 3,\n            value: 3,\n          },\n          loveBonus: {\n            label: \"好感度ボーナス\",\n            type: \"bool\",\n            value: true,\n          },\n        },\n        boosts: {\n          hp: {\n            label: \"HP (%)\",\n            type: \"number\",\n            min: 0,\n            value: 150,\n          },\n          atk: {\n            label: \"アタック (%)\",\n            type: \"number\",\n            min: 0,\n            value: 140,\n          },\n          def: {\n            label: \"ディフェンス (%)\",\n            type: \"number\",\n            min: 0,\n            value: 130,\n          },\n          mag: {\n            label: \"マジック (%)\",\n            type: \"number\",\n            min: 0,\n            value: 140,\n          },\n          res: {\n            label: \"レジスト (%)\",\n            type: \"number\",\n            min: 0,\n            value: 130,\n          },\n          tec: {\n            label: \"テクニック (%)\",\n            type: \"number\",\n            min: 0,\n            value: 50,\n          },\n        },\n      },\n\n      enableUpdateURL: false,\n      prevURL: \"\",\n    };\n  },\n\n  computed: {\n    rawItems() {\n      return this.characters;\n    },\n    items() {\n      let ret = this.characters.filter(a => this.filterItem(a)); // filter & shallow copy\n\n      const c = this.compare;\n\n      const getEngateDate = function (chr) {\n        return chr.engage ? chr.engage.date : \"\";\n      };\n      const compareEngageDate = function (l, r) {\n        const ld = getEngateDate(l);\n        const rd = getEngateDate(r);\n        if (ld || rd) {\n          return ld == rd ? r.date.localeCompare(l.date) : rd.localeCompare(ld);\n        }\n        else {\n          return r.date.localeCompare(l.date);\n        }\n      };\n\n      const comparer = [\n        (a, b) => b.date.localeCompare(a.date), // 実装日\n        (a, b) => compareEngageDate(a, b), // エンゲージ実装日\n        (a, b) => c(a.status[6], b.status[6]), // 戦闘力\n        (a, b) => c(a.attackPower, b.attackPower), // 攻撃力\n        (a, b) => c(a.status[0], b.status[0]), // HP\n        (a, b) => c(a.status[1], b.status[1]), // アタック\n        (a, b) => c(a.status[2], b.status[2]), // ディフェンス\n        (a, b) => c(a.status[3], b.status[3]), // マジック\n        (a, b) => c(a.status[4], b.status[4]), // レジスト\n        (a, b) => c(a.status[5], b.status[5]), // テクニック\n      ];\n      if (this.sortType >= 0 && this.sortType < comparer.length) {\n        const fn = comparer[this.sortType]\n        if (this.sortOrder == 0)\n          ret.sort((a, b) => fn(a, b));\n        else\n          ret.sort((a, b) => fn(b, a));\n      }\n\n      return ret;\n    },\n    pagedItems() {\n      return this.applyPage(this.items);\n    },\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: メインキャラ\";\n    this.setupDB();\n\n    this.fillFilter(this.classFilter, this.classes);\n    this.fillFilter(this.symbolFilter, this.symbols);\n    this.fillFilter(this.rarityFilter, this.rarities);\n    this.fillFilter(this.damageTypeFilter, this.damageTypes);\n    this.fillFilter(this.skillTypeFilter, this.skillTypes);\n\n    this.decodeURL();\n    this.updateTagCounts();\n  },\n\n  mounted() {\n    this.enableUpdateURL = true;\n    window.onpopstate = function () {\n      this.enableUpdateURL = false;\n      this.decodeURL(true);\n      this.$nextTick(function () {\n        this.enableUpdateURL = true;\n      });\n    }.bind(this);\n  },\n\n  methods: {\n    setupDB() {\n      // 外部 json 由来のデータへの変更はセッションをまたいでしまうので、deep copy しておく\n      this.active = structuredClone(this.active);\n      this.passive = structuredClone(this.passive);\n      this.talents = structuredClone(this.talents);\n      this.characters = structuredClone(this.characters).filter(a => !a.hidden);\n\n      const tagFilter = (skill, effectCategory, effect) => {\n        if (effectCategory == \"バフ\") {\n          if (!this.isPublicTarget(effect.target))\n            return false;\n          const cond = effect.condition;\n          if (cond && (cond.onClass || cond.onSymbol))\n            return false;\n        }\n        else if (effectCategory == \"デバフ\") {\n          if (effect.ephemeral)\n            return false;\n        }\n        return true;\n      };\n      this.setupCharacters(this.characters, this.active, this.passive, this.talents,\n        {\n          includeSkillEffectTags: true,\n          tagFilter: tagFilter\n        });\n\n      let chrId = 0;\n      for (let chr of this.characters) {\n        chr.id = ++chrId;\n        chr.classId = this.classes.findIndex(v => v == chr.class);\n        chr.symbolId = this.symbols.findIndex(v => v == chr.symbol);\n        chr.rarityId = this.rarities.findIndex(v => v == chr.rarity);\n        chr.damageTypeId = this.damageTypes.findIndex(v => v == chr.damageType);\n        this.$set(chr, 'status', [0, 0, 0, 0, 0, 0, 0]);\n        Object.defineProperty(chr, 'attackPower', {\n          get: chr.damageTypeId == 0 ? function () { return this.status[1]; } : function () { return this.status[3]; },\n        });\n      }\n      this.stat.defaults = [\n        ...Object.values(this.stat.base).map(a => a.value),\n        ...Object.values(this.stat.boosts).map(a => a.value),\n      ];\n      this.updateStatus();\n\n      for (let skill of [...this.active, ...this.passive, ...this.talents]) {\n        this.registerTags(skill.tags);\n      }\n\n      // リストの上の方に出すため特別処理\n      let handledTags = new Set();\n      this.appendSet(handledTags, this.constants.tagsHidden);\n      let handlePredefinedTags = function (dstTags, predefinedTags) {\n        for (let t of predefinedTags) {\n          dstTags.add(t);\n          handledTags.add(t);\n        }\n      };\n      handlePredefinedTags(this.tagCategory.buff.tags, [\"シンボルスキル\"]);\n\n      const isAction = function (t) {\n        for (const n of this.constants.tagsAction) {\n          if (t.startsWith(n))\n            return true;\n        }\n        return false;\n      }.bind(this);\n\n      for (let t of this.getMainTags()) {\n        if (handledTags.has(t))\n          continue;\n\n        if (t.match(/^バフ:/))\n          this.tagCategory.buff.tags.add(t);\n        else if (t.match(/^デバフ:/))\n          this.tagCategory.debuff.tags.add(t);\n        else if (t.match(/^無効化:/))\n          this.tagCategory.resist.tags.add(t);\n        else if (isAction(t))\n          this.tagCategory.action.tags.add(t);\n        else\n          this.tagCategory.other.tags.add(t);\n      }\n      this.reorderSet(this.tagCategory.buff.tags, this.constants.tagsBuff);\n      this.reorderSet(this.tagCategory.debuff.tags, this.constants.tagsDebuff);\n      this.reorderSet(this.tagCategory.resist.tags, this.constants.tagsResist);\n      this.reorderSet(this.tagCategory.action.tags, this.constants.tagsAction);\n      this.reorderSet(this.tagCategory.other.tags, this.constants.tagsOther);\n      this.reorderSubtag();\n    },\n\n    switchEngage(chr, v) {\n      if (chr.engage) {\n        chr.engage.enabled = v;\n        chr.skills = v ? chr.engage.skills : chr.skillsBase;\n      }\n      this.updateTagCounts();\n    },\n    switchEngageAll(v) {\n      for (let chr of this.characters) {\n        if (chr.engage) {\n          chr.engage.enabled = v;\n          chr.skills = v ? chr.engage.skills : chr.skillsBase;\n        }\n      }\n      this.updateTagCounts();\n    },\n    updateStatus() {\n      const s = this.stat;\n      const base = Object.values(s.base).map(a => a.value);\n      const boosts = Object.values(s.boosts).map(a => a.value);\n      for (let chr of this.characters) {\n        const status = this.getMainChrStatus(chr, ...base, boosts);\n        if (status) {\n          chr.status = [...status, this.getMainBattlePower(status, s.base.star.value, s.base.master.value, 5, 0, false)];\n        }\n      }\n      this.$forceUpdate();\n    },\n    resetStatus(type = 0) {\n      const s = this.stat;\n      const presets = [\n        s.defaults,\n        [100, 6, 0, true, 70, 50, 50, 50, 50, 50]\n      ];\n      let vals = [...presets[type]];\n      for (let v of [...Object.values(s.base), ...Object.values(s.boosts)])\n        v.value = vals.shift();\n      this.updateStatus();\n    },\n\n    moveToChr(chr, revealHidden = true) {\n      const cid = typeof chr === 'number' ? chr : chr.id;\n      let p = this.getPageOf(this.items, a => a.id == cid);\n      if (p == 0 && revealHidden) {\n        this.resetAllFilters();\n        p = this.getPageOf(this.items, a => a.id == cid);\n      }\n      this.updateURL({ id: cid });\n\n      if (p > 0) {\n        this.page = p;\n        this.$nextTick(function () {\n          let e = document.getElementById(`chr_${cid}`);\n          if (e != null) {\n            this.preventShowHideHeaderOnScroll = 1;\n            this.hideHeader();\n            this.hidePopover();\n            e.scrollIntoView();\n          }\n        });\n      }\n    },\n\n    resetAllFilters() {\n      this.tagSearchPattern = '';\n      this.freeSearchPattern = '';\n\n      const resetFilter = function (filter) {\n        for (let e of filter)\n          e.state = false;\n      };\n      resetFilter(this.classFilter);\n      resetFilter(this.symbolFilter);\n      resetFilter(this.rarityFilter);\n      resetFilter(this.damageTypeFilter);\n      resetFilter(this.skillTypeFilter);\n\n      this.updateQuery('any', false);\n    },\n    setSkillFilter(skill) {\n      this.setFreeSearchPattern(skill.name, true);\n    },\n\n    isInfoHighlighted(chr) {\n      return this.freeSearchFn && this.freeSearchFn(chr)\n        ? 2 : 0;\n    },\n    isTalentHighlighted(talent) {\n      let r = 0;\n      if (this.tagSearchFn) {\n        r |= this.applyTalentFilter(talent) && this.tagSearchFn(talent)\n          ? 1 : 0;\n      }\n      if (this.freeSearchFn) {\n        r |= this.freeSearchFn(talent)\n          ? 2 : 0;\n      }\n      return r;\n    },\n    isSkillHighlighted(skill) {\n      let r = 0;\n      if (this.tagSearchFn) {\n        r |= this.applySkillTypeFilter(skill) && this.tagSearchFn(skill)\n          ? 1 : 0;\n      }\n      if (this.freeSearchFn) {\n        r |= this.freeSearchFn(skill)\n          ? 2 : 0;\n      }\n      return r;\n    },\n    applyTalentFilter(talent) {\n      return !this.isFilterEnabled(this.skillTypeFilter) || this.skillTypeFilter[0].state;\n    },\n    applySkillTypeFilter(skill) {\n      return !this.isFilterEnabled(this.skillTypeFilter) ||\n        (skill.isPassive && this.skillTypeFilter[1].state) ||\n        (skill.isActive && this.skillTypeFilter[2].state);\n    },\n    applyClassFilter(chr) {\n      return (!this.engageFilter || chr.engage) && (\n        this.filterMatch(this.classFilter, chr.classId) &&\n        this.filterMatch(this.symbolFilter, chr.symbolId) &&\n        this.filterMatch(this.rarityFilter, chr.rarityId) &&\n        this.filterMatch(this.damageTypeFilter, chr.damageTypeId));\n    },\n    applySearchPatterns(chr) {\n      const doApply = function (obj) {\n        let r = this.isInfoHighlighted(obj) | this.isTalentHighlighted(obj.talent);\n        for (let skill of obj.skills)\n          r |= this.isSkillHighlighted(skill);\n        return r;\n      }.bind(this);\n\n      let r = doApply(chr);\n      if (chr.summon) {\n        for (let summon of chr.summon)\n          r |= doApply(summon);\n      }\n      return r == this.getSearchMask();\n    },\n    filterItem(chr) {\n      let ok = this.applyClassFilter(chr);\n      if (ok && this.isSearchPatternSet()) {\n        ok = this.applySearchPatterns(chr);\n      }\n      return ok;\n    },\n    updateTagCounts() {\n      this.resetTagCounts();\n\n      const doCount = function (obj) {\n        if (this.applyTalentFilter(obj.talent)) {\n          this.countTags(obj.talent.tags);\n        }\n        for (let skill of obj.skills) {\n          if (this.applySkillTypeFilter(skill)) {\n            this.countTags(skill.tags);\n          }\n        }\n      }.bind(this);\n\n      for (let chr of this.characters) {\n        if (this.applyClassFilter(chr)) {\n          doCount(chr);\n          if (chr.summon) {\n            for (let summon of chr.summon)\n              doCount(summon);\n          }\n        }\n      }\n    },\n\n    getSkillClass(skill) {\n      return {\n        active: skill.isActive,\n        passive: skill.isPassive,\n        highlighted: this.isSkillHighlighted(skill),\n      }\n    },\n\n    updateURL(kvp) {\n      if (!this.enableUpdateURL)\n        return false;\n\n      let seri = new this.URLSerializer();\n      if (this.isFilterEnabled(this.classFilter))\n        seri.class = this.serializeFilter(this.classFilter);\n      if (this.isFilterEnabled(this.symbolFilter))\n        seri.symbol = this.serializeFilter(this.symbolFilter);\n      if (this.isFilterEnabled(this.rarityFilter))\n        seri.rarity = this.serializeFilter(this.rarityFilter);\n      if (this.isFilterEnabled(this.damageTypeFilter))\n        seri.damageType = this.serializeFilter(this.damageTypeFilter);\n      if (this.isFilterEnabled(this.skillTypeFilter))\n        seri.skillType = this.serializeFilter(this.skillTypeFilter);\n      if (this.tagSearchPattern.length > 0)\n        seri.tag = this.tagSearchPattern;\n      if (this.freeSearchPattern.length > 0)\n        seri.free = this.freeSearchPattern;\n      if (this.engageFilter)\n        seri.engage = 1;\n\n      if (kvp) {\n        for (const k in kvp)\n          seri[k] = kvp[k];\n      }\n\n      let url = seri.serialize();\n      if (url != this.prevURL) {\n        window.history.pushState(null, null, url);\n        this.prevURL = url;\n        return true;\n      }\n      return false;\n    },\n    decodeURL(initState = false) {\n      let data = new this.URLSerializer({\n        class: 0,\n        symbol: 0,\n        damageType: 0,\n        rarity: 0,\n        skillType: 0,\n        tag: \"\",\n        free: \"\",\n        p: 1,\n        id: -1,\n      });\n\n      if (data.deserialize(window.location.href) || initState) {\n        this.deserializeFilter(this.classFilter, data.class);\n        this.deserializeFilter(this.symbolFilter, data.symbol);\n        this.deserializeFilter(this.damageTypeFilter, data.damageType);\n        this.deserializeFilter(this.rarityFilter, data.rarity);\n        this.deserializeFilter(this.skillTypeFilter, data.skillType);\n        this.tagSearchPattern = data.tag;\n        this.freeSearchPattern = data.free;\n        if (this.freeSearchPattern.length != 0)\n          this.searchTabIndex = 1;\n\n        if (data.p > 0)\n          this.page = data.p;\n        if (data.id > -1)\n          this.moveToChr(data.id);\n        if (data.engage)\n          this.engageFilter = true;\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainCharacters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainCharacters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainCharacters.vue?vue&type=template&id=a5fe5016&scoped=true&\"\nimport script from \"./MainCharacters.vue?vue&type=script&lang=js&\"\nexport * from \"./MainCharacters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5fe5016\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation'),_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.searchTabIndex),callback:function ($$v) {_vm.searchTabIndex=$$v},expression:\"searchTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"タグ検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"skill_type_selector\"}},_vm._l((_vm.skillTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('skillType')}}},[_vm._v(\" \"+_vm._s(_vm.skillTypes[i])+\" \")])}),1)],1),_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"170px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('tag')},model:{value:(_vm.tagSearchPattern),callback:function ($$v) {_vm.tagSearchPattern=$$v},expression:\"tagSearchPattern\"}})],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_vm._l((_vm.tagCategory),function(tc,tci){return _c('div',{key:tci,staticClass:\"widget\",staticStyle:{\"margin-right\":\"0px\"}},[_c('b-dropdown',{ref:tc.name,refInFor:true,attrs:{\"text\":tc.display,\"size\":\"sm\"},on:{\"show\":function($event){return _vm.onTagDropdownShow($event, tc)},\"hide\":function($event){return _vm.onTagDropdownHide($event, tc)}}},_vm._l((_vm.getFilteredMainTags(tc.tags)),function(t){return _c('b-dropdown-item',{key:_vm.mainTagTable[t].id,staticClass:\"d-flex flex-column\",attrs:{\"id\":_vm.genTagID(t)},on:{\"click\":function($event){_vm.setTagSearchPattern(t); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(t)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.mainTagTable[t].count})`)}}),_vm._v(\" \"),(_vm.mainTagTable[t].note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.mainTagTable[t].note)}}):_vm._e(),(_vm.subTagTable[t])?_c('b-popover',{attrs:{\"target\":_vm.genTagID(t),\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\"},on:{\"show\":function($event){return _vm.onSubtagPopoverShow(tc, t)},\"hidden\":function($event){return _vm.onSubtagPopoverHide(tc, t)}}},_vm._l((_vm.getFilteredSubTags(t)),function(st){return _c('b-dropdown-item',{key:_vm.tagTable[st].id,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.setTagSearchPattern(st, true); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(st)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.tagTable[st].count})`)}})])}),1):_vm._e()],1)}),1)],1)}),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.tagSearchPattern=''}}},[_vm._v(\"クリア\")])],1)],2)]),_c('b-tab',{attrs:{\"title\":\"フリーワード検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"300px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('free')},model:{value:(_vm.freeSearchPattern),callback:function ($$v) {_vm.freeSearchPattern=$$v},expression:\"freeSearchPattern\"}})],1),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.freeSearchPattern=''}}},[_vm._v(\"クリア\")])],1)])])],1)],1),_c('div',{staticClass:\"menu-panel\"},[_vm._m(0),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"class_selector\"}},_vm._l((_vm.classFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('class')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"support_type_selector\"}},_vm._l((_vm.supportTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('supportType')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.supportTypes[i]),\"height\":\"25\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"rareiry_selector\"}},_vm._l((_vm.rarityFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('rarity')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.rarities[i]),\"width\":\"36\",\"height\":\"20\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"attack_type_selector\"}},_vm._l((_vm.damageTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('damageType')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.damageTypes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1)])]),_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.settingsTabIndex),callback:function ($$v) {_vm.settingsTabIndex=$$v},expression:\"settingsTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"表示\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"件数：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayCounts[_vm.displayCount],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayCounts),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayCount=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1),_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"形式：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayTypes[_vm.displayType],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"ソート：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.sortTypes[_vm.sortType],\"size\":\"sm\",\"id\":\"sort_selector\"}},_vm._l((_vm.sortTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1),_c('span',{staticStyle:{\"width\":\"5px\"}}),_c('b-dropdown',{attrs:{\"text\":_vm.sortOrders[_vm.sortOrder],\"size\":\"sm\",\"id\":\"sort_order_selector\"}},_vm._l((_vm.sortOrders),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortOrder=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1)])]),_c('b-tab',{attrs:{\"title\":\"ステータス\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"menu-widgets\"},[_c('b-container',_vm._l(([_vm.stat.base.level, _vm.stat.base.star]),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}})],1)],1)}),1)],1),_c('div',{staticClass:\"menu-widgets\"},[_c('div',{staticStyle:{\"margin\":\"3px\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\",\"id\":\"stat-detail\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"詳細設定\")]),_c('b-popover',{attrs:{\"target\":\"stat-detail\",\"triggers\":\"click blur\",\"placement\":\"bottom\",\"custom-class\":\"stat-popover\"}},[_c('div',{staticClass:\"flex\",staticStyle:{\"font-size\":\"small\"}},[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"基本情報\")])]),_vm._l((_vm.stat.base),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"7em\"},attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"plain\":\"\"},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e()],1)],1)})],2),_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"記憶の書＋強化ボード\")])]),_vm._l((_vm.stat.boosts),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"8em\"},attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',{staticClass:\"flex\",staticStyle:{\"margin\":\"5px 5px 0px 5px\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('b-button',{staticStyle:{\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.resetStatus()}}},[_vm._v(\"カンスト化\")]),_c('b-button',{staticStyle:{\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.resetStatus(1)}}},[_vm._v(\"キャラ紹介を再現\")])],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"flex-grow\":\"1\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\",\"margin\":\"3px\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"適用\")])],1)])])],1),_c('div',{staticStyle:{\"margin\":\"3px\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"適用\")])],1)])])])],1)],1)])],1),_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"200px\"},style:(_vm.style),attrs:{\"id\":\"content\"}},[(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToBottom()}}},[_vm._v(\" ↓ \")])],1)])],1):_vm._e(),_vm._l((_vm.pagedItems),function(chr){return [_c('div',{key:chr.id,staticClass:\"character\",attrs:{\"id\":'chr_'+chr.id}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.icon),\"title\":chr.name,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\",class:{ 'highlighted': _vm.isInfoHighlighted(chr) }},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(chr.name))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.class),\"title\":'クラス:'+chr.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.supportType),\"title\":'サポートタイプ:'+chr.supportType,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.rarity),\"title\":'レアリティ:'+chr.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(chr.damageType),\"title\":'攻撃タイプ:'+chr.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(chr.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(chr.date))])])],1),(chr.status)?_c('div',{staticClass:\"status2\",attrs:{\"title\":`☆${_vm.stat.base.star.value} Lv${_vm.stat.base.level.value} 時のステータス`},domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(chr.status, '', chr.damageType))}}):_vm._e()]),_c('div',{staticClass:\"skills\"},_vm._l((chr.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'chr_'+chr.id+'_skill'+si}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":'chr_'+chr.id+'_skill'+si,\"title\":skill.name,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(\" \"+_vm._s(skill.name)+\" \"),(skill.descs)?_c('b-dropdown',{staticClass:\"level-selector\",attrs:{\"text\":skill.current,\"variant\":\"outline-secondary\"}},_vm._l((skill.descs),function(ds,di){return _c('b-dropdown-item',{key:di,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){skill.current=di; skill.desc=ds;}}},[_vm._v(_vm._s(di))])}),1):_vm._e()],1),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"tags\"},_vm._l((skill.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)])}),0)])])])]}),(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToTop()}}},[_vm._v(\" ↑ \")])],1)])],1):_vm._e()],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('h6',[_vm._v(\"フィルター\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n      <div class=\"menu-content\">\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"searchTabIndex\">\n            <b-tab title=\"タグ検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <b-button-group size=\"sm\" id=\"skill_type_selector\">\n                    <b-button v-for=\"(c, i) in skillTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('skillType')\" variant=\"outline-secondary\">\n                      {{ skillTypes[i] }}\n                    </b-button>\n                  </b-button-group>\n                </div>\n                <div class=\"widget\" style=\"width: 170px\">\n                  <b-form-input v-model=\"tagSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('tag')\" />\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"margin-right:0px\" v-for=\"(tc, tci) in tagCategory\" :key=\"tci\">\n                  <b-dropdown :text=\"tc.display\" :ref=\"tc.name\" size=\"sm\" @show=\"onTagDropdownShow($event, tc)\" @hide=\"onTagDropdownHide($event, tc)\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"t in getFilteredMainTags(tc.tags)\" :key=\"mainTagTable[t].id\" :id=\"genTagID(t)\" @click=\"setTagSearchPattern(t); hideTagDropdown(tc, t);\">\n                      {{t}} <span class=\"note\" v-html=\"`(${mainTagTable[t].count})`\"></span> <span v-if=\"mainTagTable[t].note\" class=\"note\" v-html=\"mainTagTable[t].note\"></span>\n                      <b-popover v-if=\"subTagTable[t]\" :target=\"genTagID(t)\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade @show=\"onSubtagPopoverShow(tc, t)\" @hidden=\"onSubtagPopoverHide(tc, t)\">\n                        <b-dropdown-item class=\"d-flex flex-column\" v-for=\"st in getFilteredSubTags(t)\" :key=\"tagTable[st].id\" @click=\"setTagSearchPattern(st, true); hideTagDropdown(tc, t);\">\n                          {{st}} <span class=\"note\" v-html=\"`(${tagTable[st].count})`\"></span>\n                        </b-dropdown-item>\n                      </b-popover>\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"tagSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"フリーワード検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"width: 300px\">\n                  <b-form-input v-model=\"freeSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('free')\" />\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"freeSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n        <div class=\"menu-panel\">\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <h6>フィルター</h6>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"class_selector\">\n                <b-button v-for=\"(c, i) in classFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('class')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"support_type_selector\">\n                <b-button v-for=\"(c, i) in supportTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('supportType')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(supportTypes[i])\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"rareiry_selector\">\n                <b-button v-for=\"(c, i) in rarityFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('rarity')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(rarities[i])\" width=\"36\" height=\"20\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"attack_type_selector\">\n                <b-button v-for=\"(c, i) in damageTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('damageType')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(damageTypes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n        </div>\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"settingsTabIndex\">\n            <b-tab title=\"表示\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>件数：</span>\n                  <b-dropdown :text=\"displayCounts[displayCount]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayCounts\" :key=\"i\" @click=\"displayCount=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <span>形式：</span>\n                  <b-dropdown :text=\"displayTypes[displayType]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayTypes\" :key=\"i\" @click=\"displayType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>ソート：</span>\n                  <b-dropdown :text=\"sortTypes[sortType]\" size=\"sm\" id=\"sort_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortTypes\" :key=\"i\" @click=\"sortType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                  <span style=\"width:5px\"></span>\n                  <b-dropdown :text=\"sortOrders[sortOrder]\" size=\"sm\" id=\"sort_order_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortOrders\" :key=\"i\" @click=\"sortOrder=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"ステータス\">\n              <div class=\"flex\">\n                <div class=\"menu-widgets\">\n                  <b-container>\n                    <b-form-row v-for=\"(param, name, index) in [stat.base.level, stat.base.star]\" :key=\"index\">\n                      <b-col style=\"text-align: right\" align-self=\"end\">\n                        <label :for=\"`stat-${name}`\">{{param.label}}</label>\n                      </b-col>\n                      <b-col>\n                        <b-form-input style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                      </b-col>\n                    </b-form-row>\n                  </b-container>\n                </div>\n                <div class=\"menu-widgets\">\n                  <div style=\"margin: 3px\">\n                    <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em\" @click=\"updateStatus()\" id=\"stat-detail\">詳細設定</b-button>\n                    <b-popover target=\"stat-detail\" triggers=\"click blur\" placement=\"bottom\" custom-class=\"stat-popover\">\n                      <div class=\"flex\" style=\"font-size: small\">\n                        <b-container>\n                          <div style=\"text-align:center\">\n                            <h6 style=\"margin: 5px 0px\">基本情報</h6>\n                          </div>\n                          <b-form-row v-for=\"(param, name, index) in stat.base\" :key=\"index\">\n                            <b-col style=\"text-align: right\" align-self=\"end\">\n                              <label style=\"width: 7em\" :for=\"`stat-${name}`\">{{param.label}}</label>\n                            </b-col>\n                            <b-col>\n                              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                              <b-form-checkbox v-if=\"param.type == 'bool'\" style=\"width: 5em\" :id=\"`stat-${name}`\" v-model=\"param.value\" size=\"sm\" plain></b-form-checkbox>\n                            </b-col>\n                          </b-form-row>\n                        </b-container>\n                        <b-container>\n                          <div style=\"text-align:center\">\n                            <h6 style=\"margin: 5px 0px\">記憶の書＋強化ボード</h6>\n                          </div>\n                          <b-form-row v-for=\"(param, name, index) in stat.boosts\" :key=\"index\">\n                            <b-col style=\"text-align: right\" align-self=\"end\">\n                              <label style=\"width: 8em\" :for=\"`stat-${name}`\">{{param.label}}</label>\n                            </b-col>\n                            <b-col>\n                              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                            </b-col>\n                          </b-form-row>\n                        </b-container>\n                      </div>\n                      <div class=\"flex\" style=\"margin: 5px 5px 0px 5px\">\n                        <div style=\"text-align: left\">\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"margin: 3px\" @click=\"resetStatus()\">カンスト化</b-button>\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"margin: 3px\" @click=\"resetStatus(1)\">キャラ紹介を再現</b-button>\n                        </div>\n                        <div style=\"text-align: right; flex-grow: 1\">\n                          <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em; margin: 3px\" @click=\"updateStatus()\">適用</b-button>\n                        </div>\n                      </div>\n                    </b-popover>\n                  </div>\n                  <div style=\"margin: 3px\">\n                    <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em\" @click=\"updateStatus()\">適用</b-button>\n                  </div>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"content\" class=\"content\" style=\"margin-top: 200px;\" :style=\"style\">\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToBottom()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↓\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n      <template v-for=\"chr in pagedItems\">\n        <div class=\"character\" :id=\"'chr_'+chr.id\" :key=\"chr.id\">\n          <div class=\"flex\">\n            <div class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(chr.icon)\" :title=\"chr.name\" width=\"100\" height=\"100\" rounded />\n            </div>\n            <div class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"info\" :class=\"{ 'highlighted': isInfoHighlighted(chr) }\">\n                <h5 v-html=\"chrNameToHtml(chr.name)\"></h5>\n                <div class=\"status\">\n                  <b-img-lazy :src=\"getImageURL(chr.class)\" :title=\"'クラス:'+chr.class\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(chr.supportType)\" :title=\"'サポートタイプ:'+chr.supportType\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(chr.rarity)\" :title=\"'レアリティ:'+chr.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(chr.damageType)\" :title=\"'攻撃タイプ:'+chr.damageType\" width=\"20\" height=\"20\" /></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{chr.range}}</span></div>\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{chr.date}}</span></div>\n                </div>\n                <div v-if=\"chr.status\" v-html=\"statusToHtml(chr.status, '', chr.damageType)\" class=\"status2\" :title=\"`☆${stat.base.star.value} Lv${stat.base.level.value} 時のステータス`\">\n                </div>\n              </div>\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in chr.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\" :id=\"'chr_'+chr.id+'_skill'+si\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                      <b-popover v-if=\"displayType==1\" :target=\"'chr_'+chr.id+'_skill'+si\" :title=\"skill.name\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div class=\"flex\">\n                          <div v-html=\"descToHtml(skill)\"></div>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>\n                          {{ skill.name }}\n                          <b-dropdown class=\"level-selector\" :text=\"skill.current\" v-if=\"skill.descs\" variant=\"outline-secondary\">\n                            <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(ds, di) in skill.descs\" :key=\"di\" @click=\"skill.current=di; skill.desc=ds;\">{{di}}</b-dropdown-item>\n                          </b-dropdown>\n                        </h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                    </div>\n                  </div>\n                  <div class=\"tags\" v-show=\"displayType >= 2\">\n                    <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in skill.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToTop()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↑\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport jsonActive from '../assets/support_active.json'\nimport jsonPassive from '../assets/support_passive.json'\nimport jsonCharacters from '../assets/support_characters.json'\nimport jsonConstants from '../assets/constants.json'\nimport common from \"./common\";\n\nexport default {\n  name: 'SupportCharacters',\n  components: {\n    Navigation,\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      active: jsonActive,\n      passive: jsonPassive,\n      characters: jsonCharacters,\n      constants: jsonConstants,\n\n      classes: jsonConstants.classes,\n      supportTypes: jsonConstants.supportTypes,\n      rarities: jsonConstants.rarities,\n      damageTypes: jsonConstants.damageTypes,\n      skillTypes: [\n        \"アクティブ\",\n        \"パッシブ1\",\n        \"パッシブ2\",\n      ],\n\n      displayTypes: [\n        \"アイコン\",\n        \"シンプル\",\n        \"詳細\",\n      ],\n      sortTypes: [\n        \"実装日\",\n        \"戦闘力\",\n        \"攻撃力\",\n        \"HP\",\n        \"アタック\",\n        \"ディフェンス\",\n        \"マジック\",\n        \"レジスト\",\n      ],\n      sortOrders: [\n        \"降順\",\n        \"昇順\"\n      ],\n\n      tagCategory: {\n        buff: {\n          display: \"バフ系\",\n          name: \"tags_buff\",\n          tags: new Set(),\n        },\n        debuff: {\n          display: \"デバフ系\",\n          name: \"tags_debuff\",\n          tags: new Set(),\n        },\n        resist: {\n          display: \"無効化系\",\n          name: \"tags_resist\",\n          tags: new Set(),\n        },\n        action: {\n          display: \"攻撃/回復\",\n          name: \"tags_action\",\n          tags: new Set(),\n        },\n        other: {\n          display: \"その他\",\n          name: \"tags_other\",\n          tags: new Set(),\n        },\n      },\n      subTagTable: {},\n\n      classFilter: [],\n      supportTypeFilter: [],\n      rarityFilter: [],\n      damageTypeFilter: [],\n      skillTypeFilter: [],\n\n      stat: {\n        base: {\n          level: {\n            label: \"レベル\",\n            type: \"number\",\n            min: 1,\n            value: 110,\n          },\n          star: {\n            label: \"⭐\",\n            type: \"number\",\n            min: 1,\n            max: 6,\n            value: 6,\n          },\n          master: {\n            label: \"マスターレベル\",\n            type: \"number\",\n            min: 0,\n            max: 3,\n            value: 3,\n          },\n          loveBonus: {\n            label: \"好感度ボーナス\",\n            type: \"bool\",\n            value: true,\n          },\n        },\n        boosts: {\n          hp: {\n            label: \"HP (%)\",\n            type: \"number\",\n            min: 0,\n            value: 110,\n          },\n          atk: {\n            label: \"アタック (%)\",\n            type: \"number\",\n            min: 0,\n            value: 120,\n          },\n          def: {\n            label: \"ディフェンス (%)\",\n            type: \"number\",\n            min: 0,\n            value: 110,\n          },\n          mag: {\n            label: \"マジック (%)\",\n            type: \"number\",\n            min: 0,\n            value: 120,\n          },\n          res: {\n            label: \"レジスト (%)\",\n            type: \"number\",\n            min: 0,\n            value: 110,\n          },\n        },\n      },\n\n      enableUpdateURL: false,\n      prevURL: \"\",\n\n    };\n  },\n\n  computed: {\n    rawItems() {\n      return this.characters;\n    },\n    items() {\n      let ret = this.characters.filter(a => this.filterItem(a)); // filter & shallow copy\n\n      const c = this.compare;\n      const comparer = [\n        (a, b) => b.date.localeCompare(a.date), // 実装日\n        (a, b) => c(a.status[6], b.status[6]), // 戦闘力\n        (a, b) => c(a.attackPower, b.attackPower), // 攻撃力\n        (a, b) => c(a.status[0], b.status[0]), // HP\n        (a, b) => c(a.status[1], b.status[1]), // アタック\n        (a, b) => c(a.status[2], b.status[2]), // ディフェンス\n        (a, b) => c(a.status[3], b.status[3]), // マジック\n        (a, b) => c(a.status[4], b.status[4]), // レジスト\n      ];\n      if (this.sortType >= 0 && this.sortType < comparer.length) {\n        const fn = comparer[this.sortType]\n        if (this.sortOrder == 0)\n          ret.sort((a, b) => fn(a, b));\n        else\n          ret.sort((a, b) => fn(b, a));\n      }\n\n      return ret;\n    },\n    pagedItems() {\n      return this.applyPage(this.items);\n    },\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: サポートキャラ\";\n    this.setupDB();\n\n    this.fillFilter(this.classFilter, this.classes);\n    this.fillFilter(this.supportTypeFilter, this.supportTypes);\n    this.fillFilter(this.rarityFilter, this.rarities);\n    this.fillFilter(this.damageTypeFilter, this.damageTypes);\n    this.fillFilter(this.skillTypeFilter, this.skillTypes);\n\n    this.decodeURL();\n    this.updateTagCounts();\n  },\n\n  mounted() {\n    this.enableUpdateURL = true;\n    window.onpopstate = function () {\n      this.enableUpdateURL = false;\n      this.decodeURL(true);\n      this.$nextTick(function () {\n        this.enableUpdateURL = true;\n      });\n    }.bind(this);\n  },\n\n  methods: {\n    setupDB() {\n      // 外部 json 由来のデータへの変更はセッションをまたいでしまうので、deep copy しておく\n      this.active = structuredClone(this.active);\n      this.passive = structuredClone(this.passive);\n      this.characters = structuredClone(this.characters).filter(a => !a.hidden);\n      this.setupCharacters(this.characters, this.active, this.passive, [],\n        {\n          includeSkillEffectTags: true,\n          includeSelfTags: true,\n        });\n\n      let chrId = 0;\n      for (let chr of this.characters) {\n        chr.id = ++chrId;\n        chr.classId = this.classes.findIndex(v => v == chr.class);\n        chr.supportTypeId = this.supportTypes.findIndex(v => v == chr.supportType);\n        chr.rarityId = this.rarities.findIndex(v => v == chr.rarity);\n        chr.damageTypeId = this.damageTypes.findIndex(v => v == chr.damageType);\n        this.$set(chr, 'status', [0, 0, 0, 0, 0, 0, 0]);\n        Object.defineProperty(chr, 'attackPower', {\n          get: chr.damageTypeId == 0 ? function () { return this.status[1]; } : function () { return this.status[3]; },\n        });\n\n        for (let si = 0; si < chr.skills.length; ++si) {\n          // パッシブ1 のみが複数キャラで共有され、現状全て si==1 なので問題ない\n          chr.skills[si].skillIndex = si;\n        }\n      }\n      this.stat.defaults = [\n        ...Object.values(this.stat.base).map(a => a.value),\n        ...Object.values(this.stat.boosts).map(a => a.value),\n      ];\n      this.updateStatus();\n\n      for (let skill of [...this.active, ...this.passive]) {\n        this.registerTags(skill.tags);\n      }\n\n      let handledTags = new Set();\n      this.appendSet(handledTags, this.constants.tagsHidden);\n\n      const isAction = function (t) {\n        for (const n of this.constants.tagsAction) {\n          if (t.startsWith(n))\n            return true;\n        }\n        return false;\n      }.bind(this);\n\n      for (let t of this.getMainTags()) {\n        if (handledTags.has(t))\n          continue;\n\n        if (t.match(/^バフ:/))\n          this.tagCategory.buff.tags.add(t);\n        else if (t.match(/^デバフ:/))\n          this.tagCategory.debuff.tags.add(t);\n        else if (t.match(/^無効化:/))\n          this.tagCategory.resist.tags.add(t);\n        else if (isAction(t))\n          this.tagCategory.action.tags.add(t);\n        else\n          this.tagCategory.other.tags.add(t);\n      }\n      this.reorderSet(this.tagCategory.buff.tags, this.constants.tagsBuff);\n      this.reorderSet(this.tagCategory.debuff.tags, this.constants.tagsDebuff);\n      this.reorderSet(this.tagCategory.resist.tags, this.constants.tagsResist);\n      this.reorderSet(this.tagCategory.action.tags, this.constants.tagsAction);\n      this.reorderSet(this.tagCategory.other.tags, this.constants.tagsOther);\n      this.reorderSubtag();\n    },\n\n    updateStatus() {\n      const s = this.stat;\n      const base = Object.values(s.base).map(a => a.value);\n      const boosts = Object.values(s.boosts).map(a => a.value);\n      for (let chr of this.characters) {\n        const status = this.getSupportChrStatus(chr, ...base, boosts);\n        if (status) {\n          chr.status = [...status, this.getSupportBattlePower(status, s.base.star.value, s.base.master.value)];\n        }\n      }\n      this.$forceUpdate();\n    },\n    resetStatus(type = 0) {\n      const s = this.stat;\n      const presets = [\n        s.defaults,\n        [100, 6, 0, true, 30, 30, 30, 30, 30]\n      ];\n      let vals = [...presets[type]];\n      for (let v of [...Object.values(s.base), ...Object.values(s.boosts)])\n        v.value = vals.shift();\n      this.updateStatus();\n    },\n\n    isInfoHighlighted(chr) {\n      return this.freeSearchFn && this.freeSearchFn(chr)\n        ? 2 : 0;\n    },\n    isSkillHighlighted(skill) {\n      let r = 0;\n      if (this.tagSearchFn) {\n        r |= this.applySkillTypeFilter(skill) && this.tagSearchFn(skill)\n          ? 1: 0;\n      }\n      if (this.freeSearchFn) {\n        r |= this.freeSearchFn(skill)\n          ? 2 : 0;\n      }\n      return r;\n    },\n    applySkillTypeFilter(skill) {\n      return !this.isFilterEnabled(this.skillTypeFilter) ||\n        (skill.skillIndex == 0 && this.skillTypeFilter[0].state) ||\n        (skill.skillIndex == 1 && this.skillTypeFilter[1].state) ||\n        (skill.skillIndex == 2 && this.skillTypeFilter[2].state);\n    },\n    applyClassFilter(chr) {\n      return this.filterMatch(this.classFilter, chr.classId) &&\n        this.filterMatch(this.supportTypeFilter, chr.supportTypeId) &&\n        this.filterMatch(this.rarityFilter, chr.rarityId) &&\n        this.filterMatch(this.damageTypeFilter, chr.damageTypeId);\n    },\n    applySearchPatterns(chr) {\n      let r = this.isInfoHighlighted(chr);\n      for (let skill of chr.skills) {\n        r |= this.isSkillHighlighted(skill);\n      }\n      return r == this.getSearchMask();\n    },\n    filterItem(chr) {\n      let ok = this.applyClassFilter(chr);\n      if (ok && this.isSearchPatternSet()) {\n        ok = this.applySearchPatterns(chr);\n      }\n      return ok;\n    },\n    updateTagCounts() {\n      this.resetTagCounts();\n      for (let chr of this.characters) {\n        if (this.applyClassFilter(chr)) {\n          for (let skill of chr.skills) {\n            if (this.applySkillTypeFilter(skill)) {\n              this.countTags(skill.tags);\n            }\n          }\n        }\n      }\n    },\n\n    getSkillClass(skill) {\n      return {\n        active: skill.isActive,\n        passive: skill.isPassive,\n        highlighted: this.isSkillHighlighted(skill),\n      }\n    },\n\n    updateURL(kvp) {\n      if (!this.enableUpdateURL)\n        return false;\n\n      let seri = new this.URLSerializer();\n      if (this.isFilterEnabled(this.classFilter))\n        seri.class = this.serializeFilter(this.classFilter);\n      if (this.isFilterEnabled(this.supportTypeFilter))\n        seri.supportType = this.serializeFilter(this.supportTypeFilter);\n      if (this.isFilterEnabled(this.rarityFilter))\n        seri.rarity = this.serializeFilter(this.rarityFilter);\n      if (this.isFilterEnabled(this.damageTypeFilter))\n        seri.damageType = this.serializeFilter(this.damageTypeFilter);\n      if (this.isFilterEnabled(this.skillTypeFilter))\n        seri.skillType = this.serializeFilter(this.skillTypeFilter);\n      if (this.tagSearchPattern.length > 0)\n        seri.tag = this.tagSearchPattern;\n      if (this.freeSearchPattern.length > 0)\n        seri.free = this.freeSearchPattern;\n  \n      if (kvp) {\n        for (const k in kvp)\n          seri[k] = kvp[k];\n      }\n\n      let url = seri.serialize();\n      if (url != this.prevURL) {\n        window.history.pushState(null, null, url);\n        this.prevURL = url;\n        return true;\n      }\n      return false;\n    },\n    decodeURL(initState = false) {\n      let data = new this.URLSerializer({\n        class: 0,\n        supportType: 0,\n        damageType: 0,\n        rarity: 0,\n        skillType: 0,\n        tag: \"\",\n        free: \"\",\n        p: 1,\n      });\n\n      if (data.deserialize(window.location.href) || initState) {\n        this.deserializeFilter(this.classFilter, data.class);\n        this.deserializeFilter(this.supportTypeFilter, data.supportType);\n        this.deserializeFilter(this.damageTypeFilter, data.damageType);\n        this.deserializeFilter(this.rarityFilter, data.rarity);\n        this.deserializeFilter(this.skillTypeFilter, data.skillType);\n        this.tagSearchPattern = data.tag;\n        this.freeSearchPattern = data.free;\n        if (this.freeSearchPattern.length != 0)\n          this.searchTabIndex = 1;\n\n        if (data.p > 0)\n          this.page = data.p;\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SupportCharacters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SupportCharacters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupportCharacters.vue?vue&type=template&id=3c78be92&scoped=true&\"\nimport script from \"./SupportCharacters.vue?vue&type=script&lang=js&\"\nexport * from \"./SupportCharacters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c78be92\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation'),_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.searchTabIndex),callback:function ($$v) {_vm.searchTabIndex=$$v},expression:\"searchTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"タグ検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"300px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('tag')},model:{value:(_vm.tagSearchPattern),callback:function ($$v) {_vm.tagSearchPattern=$$v},expression:\"tagSearchPattern\"}})],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_vm._l((_vm.tagCategory),function(tc,tci){return _c('div',{key:tci,staticClass:\"widget\",staticStyle:{\"margin-right\":\"0px\"}},[_c('b-dropdown',{ref:tc.name,refInFor:true,attrs:{\"text\":tc.display,\"size\":\"sm\"},on:{\"show\":function($event){return _vm.onTagDropdownShow($event, tc)},\"hide\":function($event){return _vm.onTagDropdownHide($event, tc)}}},_vm._l((_vm.getFilteredMainTags(tc.tags)),function(t){return _c('b-dropdown-item',{key:_vm.mainTagTable[t].id,staticClass:\"d-flex flex-column\",attrs:{\"id\":_vm.genTagID(t)},on:{\"click\":function($event){_vm.setTagSearchPattern(t); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(t)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.mainTagTable[t].count})`)}}),_vm._v(\" \"),(_vm.mainTagTable[t].note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.mainTagTable[t].note)}}):_vm._e(),(_vm.subTagTable[t])?_c('b-popover',{attrs:{\"target\":_vm.genTagID(t),\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\"},on:{\"show\":function($event){return _vm.onSubtagPopoverShow(tc, t)},\"hidden\":function($event){return _vm.onSubtagPopoverHide(tc, t)}}},_vm._l((_vm.getFilteredSubTags(t)),function(st){return _c('b-dropdown-item',{key:_vm.tagTable[st].id,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.setTagSearchPattern(st, true); _vm.hideTagDropdown(tc, t);}}},[_vm._v(\" \"+_vm._s(st)+\" \"),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(`(${_vm.tagTable[st].count})`)}})])}),1):_vm._e()],1)}),1)],1)}),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.tagSearchPattern=''}}},[_vm._v(\"クリア\")])],1)],2)]),_c('b-tab',{attrs:{\"title\":\"フリーワード検索\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\",staticStyle:{\"width\":\"300px\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"debounce\":\"500\",\"size\":\"sm\",\"placeholder\":\"検索ワード (正規表現)\",\"update\":_vm.updateQuery('free')},model:{value:(_vm.freeSearchPattern),callback:function ($$v) {_vm.freeSearchPattern=$$v},expression:\"freeSearchPattern\"}})],1),_c('div',{staticClass:\"widget\"},[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.freeSearchPattern=''}}},[_vm._v(\"クリア\")])],1)])])],1)],1),_c('div',{staticClass:\"menu-panel\"},[_vm._m(0),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"class_selector\"}},_vm._l((_vm.classFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('class')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"item_type_selector\"}},_vm._l((_vm.itemTypeFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('itemType')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.itemTypes[i]),\"width\":\"25\",\"height\":\"25\"}})],1)}),1)],1),_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"rareiry_selector\"}},_vm._l((_vm.rarityFilter),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)},\"click\":function($event){return _vm.updateQuery('rarity')}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.rarities[i]),\"width\":\"36\",\"height\":\"20\"}})],1)}),1)],1)])]),_c('div',{staticClass:\"menu-panel\"},[_c('b-tabs',{model:{value:(_vm.settingsTabIndex),callback:function ($$v) {_vm.settingsTabIndex=$$v},expression:\"settingsTabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"表示\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"件数：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayCounts[_vm.displayCount],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayCounts),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayCount=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1),_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"形式：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayTypes[_vm.displayType],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"ソート：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.sortTypes[_vm.sortType],\"size\":\"sm\",\"id\":\"sort_selector\"}},_vm._l((_vm.sortTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1),_c('span',{staticStyle:{\"width\":\"5px\"}}),_c('b-dropdown',{attrs:{\"text\":_vm.sortOrders[_vm.sortOrder],\"size\":\"sm\",\"id\":\"sort_order_selector\"}},_vm._l((_vm.sortOrders),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.sortOrder=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1),_c('span',{staticStyle:{\"width\":\"5px\"}}),_c('b-button',{attrs:{\"pressed\":_vm.sortBySlot,\"variant\":\"outline-secondary\",\"size\":\"sm\"},on:{\"update:pressed\":function($event){_vm.sortBySlot=$event}}},[_vm._v(\" 種類別 \")])],1)])]),_c('b-tab',{attrs:{\"title\":\"ステータス\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"menu-widgets\"},[_c('b-container',_vm._l(([_vm.stat.base.level]),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{attrs:{\"for\":`stat-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`stat-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}})],1)],1)}),1)],1),_c('div',{staticClass:\"menu-widgets\"},[_c('div',{staticStyle:{\"margin\":\"3px\"}}),_c('div',{staticStyle:{\"margin\":\"3px\"}},[_c('b-button',{staticStyle:{\"width\":\"7em\"},attrs:{\"variant\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateStatus()}}},[_vm._v(\"適用\")])],1)])])])],1)],1)])],1),_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"200px\"},style:(_vm.style),attrs:{\"id\":\"content\"}},[(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToBottom()}}},[_vm._v(\" ↓ \")])],1)])],1):_vm._e(),_vm._l((_vm.pagedItems),function(item){return [_c('div',{key:item.id,staticClass:\"item\",attrs:{\"id\":'item_'+item.id}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\",attrs:{\"id\":'item_'+item.id+'_icon'}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(item.icon),\"title\":item.name,\"width\":\"60\",\"height\":\"60\",\"rounded\":\"\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":'item_'+item.id+'_icon',\"triggers\":\"hover focus\",\"title\":item.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(item))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\",class:{ 'highlighted': _vm.isInfoHighlighted(item) }},[_c('h5',{domProps:{\"innerHTML\":_vm._s(item.name)}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(item.slot),\"title\":'部位:'+item.slot,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(item.rarity),\"title\":'レアリティ:'+item.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(item.date))])])],1)]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"status\",domProps:{\"innerHTML\":_vm._s(_vm.itemClassesToHtml(item))}}),_c('div',{staticClass:\"status2\",attrs:{\"title\":\"テクニックはメイン+サポートの攻撃力が 3000 の前提で戦闘力に計上\"},domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(item.status, '+'))}})]),_c('div',{staticClass:\"skills\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"skill\",class:{ 'highlighted': _vm.isDescHighlighted(item) },staticStyle:{\"flex-grow\":\"1\"}},[_c('div',{staticClass:\"desc\"},[_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(item))}}),(item.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(item))}}):_vm._e()])]),_c('div',{staticClass:\"tags\"},_vm._l((item.tags),function(tag,i){return _c('b-badge',{key:i,staticClass:\"tag\",attrs:{\"variant\":\"info\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.setTagSearchPattern(tag)}}},[_vm._v(_vm._s(tag))])}),1)])])])])])]}),(_vm.getPageCount(_vm.items) > 1)?_c('div',{staticClass:\"pages\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.items.length,\"per-page\":_vm.displayCountNum,\"limit\":\"10\",\"hide-goto-end-buttons\":\"\"},on:{\"change\":_vm.onPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('ul',{staticClass:\"pagination b-pagination\",staticStyle:{\"margin-left\":\"0px\"}},[_c('li',{staticClass:\"page-item\"},[_c('b-button',{staticClass:\"page-link\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.scrollToTop()}}},[_vm._v(\" ↑ \")])],1)])],1):_vm._e()],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('h6',[_vm._v(\"フィルター\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n      <div class=\"menu-content\">\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"searchTabIndex\">\n            <b-tab title=\"タグ検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"width: 300px \">\n                  <b-form-input v-model=\"tagSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('tag')\" />\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"margin-right:0px\" v-for=\"(tc, tci) in tagCategory\" :key=\"tci\">\n                  <b-dropdown :text=\"tc.display\" :ref=\"tc.name\" size=\"sm\" @show=\"onTagDropdownShow($event, tc)\" @hide=\"onTagDropdownHide($event, tc)\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"t in getFilteredMainTags(tc.tags)\" :key=\"mainTagTable[t].id\" :id=\"genTagID(t)\" @click=\"setTagSearchPattern(t); hideTagDropdown(tc, t);\">\n                      {{t}} <span class=\"note\" v-html=\"`(${mainTagTable[t].count})`\"></span> <span v-if=\"mainTagTable[t].note\" class=\"note\" v-html=\"mainTagTable[t].note\"></span>\n                      <b-popover v-if=\"subTagTable[t]\" :target=\"genTagID(t)\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade @show=\"onSubtagPopoverShow(tc, t)\" @hidden=\"onSubtagPopoverHide(tc, t)\">\n                        <b-dropdown-item class=\"d-flex flex-column\" v-for=\"st in getFilteredSubTags(t)\" :key=\"tagTable[st].id\" @click=\"setTagSearchPattern(st, true); hideTagDropdown(tc, t);\">\n                          {{st}} <span class=\"note\" v-html=\"`(${tagTable[st].count})`\"></span>\n                        </b-dropdown-item>\n                      </b-popover>\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"tagSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"フリーワード検索\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\" style=\"width: 300px\">\n                  <b-form-input v-model=\"freeSearchPattern\" type=\"text\" debounce=\"500\" size=\"sm\" placeholder=\"検索ワード (正規表現)\" :update=\"updateQuery('free')\" />\n                </div>\n                <div class=\"widget\">\n                  <b-button variant=\"secondary\" size=\"sm\" @click=\"freeSearchPattern=''\">クリア</b-button>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n        <div class=\"menu-panel\">\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <h6>フィルター</h6>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"class_selector\">\n                <b-button v-for=\"(c, i) in classFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('class')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"item_type_selector\">\n                <b-button v-for=\"(c, i) in itemTypeFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('itemType')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(itemTypes[i])\" width=\"25\" height=\"25\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"rareiry_selector\">\n                <b-button v-for=\"(c, i) in rarityFilter\" :key=\"i\" :pressed.sync=\"c.state\" @click=\"updateQuery('rarity')\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(rarities[i])\" width=\"36\" height=\"20\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n        </div>\n        <div class=\"menu-panel\">\n          <b-tabs v-model=\"settingsTabIndex\">\n            <b-tab title=\"表示\">\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>件数：</span>\n                  <b-dropdown :text=\"displayCounts[displayCount]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayCounts\" :key=\"i\" @click=\"displayCount=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n                <div class=\"widget\">\n                  <span>形式：</span>\n                  <b-dropdown :text=\"displayTypes[displayType]\" size=\"sm\" id=\"detail_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayTypes\" :key=\"i\" @click=\"displayType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n              <div class=\"menu-widgets flex\">\n                <div class=\"widget\">\n                  <span>ソート：</span>\n                  <b-dropdown :text=\"sortTypes[sortType]\" size=\"sm\" id=\"sort_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortTypes\" :key=\"i\" @click=\"sortType=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                  <span style=\"width:5px\"></span>\n                  <b-dropdown :text=\"sortOrders[sortOrder]\" size=\"sm\" id=\"sort_order_selector\">\n                    <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in sortOrders\" :key=\"i\" @click=\"sortOrder=i\">\n                      {{ c }}\n                    </b-dropdown-item>\n                  </b-dropdown>\n                  <span style=\"width:5px\"></span>\n                  <b-button :pressed.sync=\"sortBySlot\" variant=\"outline-secondary\" size=\"sm\">\n                    種類別\n                  </b-button>\n                </div>\n              </div>\n            </b-tab>\n            <b-tab title=\"ステータス\">\n              <div class=\"flex\">\n                <div class=\"menu-widgets\">\n                  <b-container>\n                    <b-form-row v-for=\"(param, name, index) in [stat.base.level]\" :key=\"index\">\n                      <b-col style=\"text-align: right\" align-self=\"end\">\n                        <label :for=\"`stat-${name}`\">{{param.label}}</label>\n                      </b-col>\n                      <b-col>\n                        <b-form-input style=\"width: 4em\" :id=\"`stat-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                      </b-col>\n                    </b-form-row>\n                  </b-container>\n                </div>\n                <div class=\"menu-widgets\">\n                  <div style=\"margin: 3px\">\n                  </div>\n                  <div style=\"margin: 3px\">\n                    <b-button variant=\"secondary\" size=\"sm\" style=\"width: 7em\" @click=\"updateStatus()\">適用</b-button>\n                  </div>\n                </div>\n              </div>\n            </b-tab>\n          </b-tabs>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"content\" class=\"content\" style=\"margin-top: 200px;\" :style=\"style\">\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToBottom()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↓\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n      <template v-for=\"item in pagedItems\">\n        <div class=\"item\" :id=\"'item_'+item.id\" :key=\"item.id\">\n          <div class=\"flex\">\n            <div class=\"portrait\" :id=\"'item_'+item.id+'_icon'\">\n              <b-img-lazy :src=\"getImageURL(item.icon)\" :title=\"item.name\" width=\"60\" height=\"60\" rounded />\n              <b-popover v-if=\"displayType==1\" :target=\"'item_'+item.id+'_icon'\" triggers=\"hover focus\" :title=\"item.name\" placement=\"top\">\n                <div class=\"flex\">\n                  <div v-html=\"descToHtml(item)\"></div>\n                </div>\n              </b-popover>\n            </div>\n            <div class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"info\" :class=\"{ 'highlighted': isInfoHighlighted(item) }\">\n                <h5 v-html=\"item.name\"></h5>\n                <div class=\"status\">\n                  <b-img-lazy :src=\"getImageURL(item.slot)\" :title=\"'部位:'+item.slot\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(item.rarity)\" :title=\"'レアリティ:'+item.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{item.date}}</span></div>\n                </div>\n              </div>\n              <div class=\"info\">\n                <div class=\"status\" v-html=\"itemClassesToHtml(item)\"></div>\n                <div class=\"status2\" v-html=\"statusToHtml(item.status, '+')\" title=\"テクニックはメイン+サポートの攻撃力が 3000 の前提で戦闘力に計上\"></div>\n              </div>\n              <div class=\"skills\">\n                <div class=\"skill\" :class=\"{ 'highlighted': isDescHighlighted(item) }\" v-show=\"displayType >= 2\" style=\"flex-grow: 1\">\n                  <div class=\"desc\">\n                    <p><span v-html=\"descToHtml(item)\"></span><span v-if=\"item.note\" class=\"note\" v-html=\"noteToHtml(item)\"></span></p>\n                  </div>\n                  <div class=\"tags\">\n                    <b-badge class=\"tag\" :key=\"i\" v-for=\"(tag, i) in item.tags\" variant=\"info\" pill @click=\"setTagSearchPattern(tag)\">{{ tag }}</b-badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <div class=\"pages\" v-if=\"getPageCount(items) > 1\">\n        <b-pagination v-model=\"page\"\n                      :total-rows=\"items.length\"\n                      :per-page=\"displayCountNum\"\n                      @change=\"onPage\"\n                      limit=\"10\"\n                      hide-goto-end-buttons></b-pagination>\n        <ul class=\"pagination b-pagination\" style=\"margin-left: 0px;\">\n          <li class=\"page-item\">\n            <b-button @click=\"scrollToTop()\" variant=\"outline-secondary\" class=\"page-link\">\n              ↑\n            </b-button>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport jsonItems from '../assets/items.json'\nimport jsonConstants from '../assets/constants.json'\nimport common from \"./common\";\n\nexport default {\n  name: 'Equipments',\n  components: {\n    Navigation,\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      equipments: jsonItems,\n      constants: jsonConstants,\n\n      classes: jsonConstants.classes,\n      itemTypes: jsonConstants.itemTypes,\n      rarities: jsonConstants.rarities,\n\n      displayTypes: [\n        \"アイコン\",\n        \"シンプル\",\n        \"詳細\",\n      ],\n      sortTypes: [\n        \"実装日\",\n        \"戦闘力\",\n        \"HP\",\n        \"アタック\",\n        \"ディフェンス\",\n        \"マジック\",\n        \"レジスト\",\n        \"テクニック\",\n      ],\n      sortOrders: [\n        \"降順\",\n        \"昇順\"\n      ],\n\n      tagCategory: {\n        buff: {\n          display: \"バフ系\",\n          name: \"tags_buff\",\n          tags: new Set(),\n        },\n        debuff: {\n          display: \"デバフ系\",\n          name: \"tags_debuff\",\n          tags: new Set(),\n        },\n        resist: {\n          display: \"無効化系\",\n          name: \"tags_resist\",\n          tags: new Set(),\n        },\n        action: {\n          display: \"攻撃/回復\",\n          name: \"tags_action\",\n          tags: new Set(),\n        },\n        other: {\n          display: \"その他\",\n          name: \"tags_other\",\n          tags: new Set(),\n        },\n      },\n      subTagTable: {},\n\n      classFilter: [],\n      itemTypeFilter: [],\n      rarityFilter: [],\n\n      stat: {\n        base: {\n          level: {\n            label: \"レベル\",\n            type: \"number\",\n            min: 1,\n            value: 50,\n          },\n        },\n      },\n\n      enableUpdateURL: false,\n      prevURL: \"\",\n    };\n  },\n\n  computed: {\n    rawItems() {\n      return this.characters;\n    },\n    items() {\n      let ret = this.equipments.filter(a => this.filterItem(a)); // filter & shallow copy\n\n      const c = this.compare;\n      const comparer = [\n        (a, b) => b.date.localeCompare(a.date), // 実装日\n        (a, b) => c(a.status[6], b.status[6]), // 戦闘力\n        (a, b) => c(a.status[0], b.status[0]), // HP\n        (a, b) => c(a.status[1], b.status[1]), // アタック\n        (a, b) => c(a.status[2], b.status[2]), // ディフェンス\n        (a, b) => c(a.status[3], b.status[3]), // マジック\n        (a, b) => c(a.status[4], b.status[4]), // レジスト\n        (a, b) => c(a.status[5], b.status[5]), // テクニック\n      ];\n      if (this.sortType >= 0 && this.sortType < comparer.length) {\n        const fn = comparer[this.sortType]\n        if (this.sortOrder == 0)\n          ret.sort((a, b) => fn(a, b));\n        else\n          ret.sort((a, b) => fn(b, a));\n      }\n\n      if (this.sortBySlot) // 種類別\n        ret.sort((a, b) => a.slotId < b.slotId ? -1 : 1);\n\n      return ret;\n    },\n    pagedItems() {\n      return this.applyPage(this.items);\n    },\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: アイテム\";\n    this.setupDB();\n\n    this.fillFilter(this.classFilter, this.classes);\n    this.fillFilter(this.itemTypeFilter, this.itemTypes.slice(0, 4));\n    this.fillFilter(this.rarityFilter, this.rarities);\n\n    this.decodeURL();\n    this.updateTagCounts();\n  },\n\n  mounted() {\n    this.enableUpdateURL = true;\n    window.onpopstate = function () {\n      this.enableUpdateURL = false;\n      this.decodeURL(true);\n      this.$nextTick(function () {\n        this.enableUpdateURL = true;\n      });\n    }.bind(this);\n  },\n\n  methods: {\n    setupDB() {\n      // 外部 json 由来のデータへの変更はセッションをまたいでしまうので、deep copy しておく\n      this.equipments = structuredClone(this.equipments);\n      this.setupItems(this.equipments, {\n        includeSkillEffectTags: true,\n        includeAreaTags: true,\n        includeDemeritTags: true,\n      });\n      this.equipments = this.equipments.filter(a => !a.hidden && a.slotId < 4); // アミュレットは除外\n\n      this.predefinedMainTags.push(\"分類\");\n      this.predefinedMainTags.push(\"デメリット\");\n\n      let itemId = 0;\n      for (let item of this.equipments) {\n        item.recordType = 'item';\n        item.id = ++itemId;\n        if (item.classes) {\n          item.classIds = item.classes.map(c1 => this.classes.findIndex(c2 => c1 == c2));\n        }\n        item.slotId = this.itemTypes.findIndex(v => v == item.slot);\n        item.rarityId = this.rarities.findIndex(v => v == item.rarity);\n        this.$set(item, 'status', [])\n\n        this.registerTags(item.tags);\n      }\n\n      let handledTags = new Set();\n      this.appendSet(handledTags, this.constants.tagsHidden);\n\n      const isAction = function (t) {\n        for (const n of this.constants.tagsAction) {\n          if (t.startsWith(n))\n            return true;\n        }\n        return false;\n      }.bind(this);\n      this.stat.defaults = [\n        ...Object.values(this.stat.base).map(a => a.value),\n      ];\n      this.updateStatus();\n\n      for (let t of this.getMainTags()) {\n        if (handledTags.has(t))\n          continue;\n\n        if (t.match(/^バフ:/))\n          this.tagCategory.buff.tags.add(t);\n        else if (t.match(/^デバフ:/))\n          this.tagCategory.debuff.tags.add(t);\n        else if (t.match(/^無効化:/))\n          this.tagCategory.resist.tags.add(t);\n        else if (isAction(t))\n          this.tagCategory.action.tags.add(t);\n        else\n          this.tagCategory.other.tags.add(t);\n      }\n      this.reorderSet(this.tagCategory.buff.tags, this.constants.tagsBuff);\n      this.reorderSet(this.tagCategory.debuff.tags, this.constants.tagsDebuff);\n      this.reorderSet(this.tagCategory.resist.tags, this.constants.tagsResist);\n      this.reorderSet(this.tagCategory.action.tags, this.constants.tagsAction);\n      this.reorderSet(this.tagCategory.other.tags, this.constants.tagsOther);\n      this.reorderSubtag();\n\n      this.reorderSet(this.subTagTable[\"デメリット\"], this.constants.tagsDemerit);\n    },\n\n    updateStatus() {\n      const base = Object.values(this.stat.base).map(a => a.value);\n      for (let item of this.equipments) {\n        const status = this.getItemStatus(item, ...base);\n        if (status) {\n          item.status = [...status, this.getEstimatedItemBattlePower(status)];\n        }\n      }\n      this.$forceUpdate();\n    },\n    resetStatus() {\n      let vals = [...this.stat.defaults];\n      for (let v of [...Object.values(this.stat.base)])\n        v.value = vals.shift();\n      this.updateStatus();\n    },\n\n    itemClassesToHtml(item) {\n      let r = \"\";\n      if (item.classes)\n        r += item.classes.map(c => `<img src=\"${this.getImageURL(c)}\" title=\"${c}\" width=\"24\" height=\"24\" />`).join(\"\")\n      else\n        r += `<img src=\"${this.getImageURL('全クラス')}\" title=\"全クラス\" height=\"24\" />`;\n      return r;\n    },\n\n    isInfoHighlighted(chr) {\n      return this.freeSearchFn && this.freeSearchFn(chr.name)\n        ? 2 : 0;\n    },\n    isDescHighlighted(chr) {\n      let r = 0;\n      if (this.tagSearchFn) {\n        r |= this.tagSearchFn(chr)\n          ? 1 : 0;\n      }\n      if (this.freeSearchFn) {\n        r |= this.freeSearchFn(chr.desc)\n          ? 2 : 0;\n      }\n      return r;\n    },\n    applySearchPatterns(chr) {\n      let r = this.isInfoHighlighted(chr) | this.isDescHighlighted(chr);\n      return r == this.getSearchMask();\n    },\n    applyClassFilter(chr) {\n      return (!chr.classIds || this.filterMatch(this.classFilter, chr.classIds)) &&\n        this.filterMatch(this.itemTypeFilter, chr.slotId) &&\n        this.filterMatch(this.rarityFilter, chr.rarityId);\n    },\n    filterItem(chr) {\n      let ok = this.applyClassFilter(chr);\n      if (ok && this.isSearchPatternSet()) {\n        ok = this.applySearchPatterns(chr);\n      }\n      return ok;\n    },\n    updateTagCounts() {\n      this.resetTagCounts();\n      for (let item of this.equipments) {\n        if (this.applyClassFilter(item)) {\n          this.countTags(item.tags);\n        }\n      }\n    },\n\n    updateURL(kvp) {\n      if (!this.enableUpdateURL)\n        return false;\n\n      let seri = new this.URLSerializer();\n      if (this.isFilterEnabled(this.classFilter))\n        seri.class = this.serializeFilter(this.classFilter);\n      if (this.isFilterEnabled(this.itemTypeFilter))\n        seri.itemType = this.serializeFilter(this.itemTypeFilter);\n      if (this.isFilterEnabled(this.rarityFilter))\n        seri.rarity = this.serializeFilter(this.rarityFilter);\n      if (this.tagSearchPattern.length > 0)\n        seri.tag = this.tagSearchPattern;\n      if (this.freeSearchPattern.length > 0)\n        seri.free = this.freeSearchPattern;\n\n      if (kvp) {\n        for (const k in kvp)\n          seri[k] = kvp[k];\n      }\n\n      let url = seri.serialize();\n      if (url != this.prevURL) {\n        window.history.pushState(null, null, url);\n        this.prevURL = url;\n        return true;\n      }\n      return false;\n    },\n    decodeURL(initState = false) {\n      let data = new this.URLSerializer({\n        class: 0,\n        itemType: 0,\n        rarity: 0,\n        tag: \"\",\n        free: \"\",\n        p: 1,\n      });\n\n      if (data.deserialize(window.location.href) || initState) {\n        this.deserializeFilter(this.classFilter, data.class);\n        this.deserializeFilter(this.itemTypeFilter, data.itemType);\n        this.deserializeFilter(this.rarityFilter, data.rarity);\n        this.tagSearchPattern = data.tag;\n        this.freeSearchPattern = data.free;\n        if (this.freeSearchPattern.length != 0)\n          this.searchTabIndex = 1;\n\n        if (data.p > 0)\n          this.page = data.p;\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Items.vue?vue&type=template&id=460e1956&scoped=true&\"\nimport script from \"./Items.vue?vue&type=script&lang=js&\"\nexport * from \"./Items.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"460e1956\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation')],1),_c('div',{staticStyle:{\"padding-top\":\"60px\",\"background\":\"#d0d0d4\"}}),_c('div',{staticClass:\"root\"},[_c('b-tabs',{attrs:{\"nav-class\":\"tab-index\",\"active-nav-item-class\":\"tab-title-active\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[_c('b-tab',{attrs:{\"title-link-class\":\"tab-title\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('h2',{staticStyle:{\"margin\":\"0em 1em\",\"font-size\":\"1.25em\"}},[_vm._v(\"組み合わせ検索\")])]},proxy:true}])},[_c('CombinationBufSimulator',{ref:\"cbSim\"})],1),_c('b-tab',{attrs:{\"title-link-class\":\"tab-title\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('h2',{staticStyle:{\"margin\":\"0em 1em\",\"font-size\":\"1.25em\"}},[_vm._v(\"自己バフ検索\")])]},proxy:true}])},[_c('SelfBufSimulator',{ref:\"sbSim\"})],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\"},[_c('div',{staticClass:\"menu-content\",staticStyle:{\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-settings\"}},[_c('b-container',[_c('div',[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"設定\")])]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":Object.values(_vm.options),\"fields\":_vm.optionFields},scopedSlots:_vm._u([{key:\"cell(value)\",fn:function(r){return [_c('div',{staticClass:\"flex\"},[_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[(r.item.type == 'boolean')?_c('b-form-checkbox',{model:{value:(r.item.value),callback:function ($$v) {_vm.$set(r.item, \"value\", $$v)},expression:\"r.item.value\"}}):_vm._e(),(r.item.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"3em\"},attrs:{\"min\":r.item.min,\"max\":r.item.max,\"size\":\"sm\",\"type\":\"number\",\"lazy\":\"\"},model:{value:(r.item.value),callback:function ($$v) {_vm.$set(r.item, \"value\", _vm._n($$v))},expression:\"r.item.value\"}}):_vm._e()],1)])]}},{key:\"cell(label)\",fn:function(r){return [_c('div',{attrs:{\"id\":`cb-p-${r.item.name}`}},[_vm._v(_vm._s(r.item.label))])]}}])})],1),_c('b-container',[_c('div',[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"フィルタ\")])]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"cb-class-selector\"}},_vm._l((_vm.filter.class),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"20px\"}})],1)}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"cb-symbol-selector\"}},_vm._l((_vm.filter.symbol),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.symbols[i]),\"width\":\"20px\"}})],1)}),1)],1),_c('div',{staticClass:\"widget filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"cb-damage-type-selector\"}},_vm._l((_vm.filter.damageType),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.damageTypes[i]),\"width\":\"20px\"}})],1)}),1)],1),_c('div',{staticClass:\"widget rareiry-filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"cb-rareiry-selector\"}},_vm._l((_vm.filter.rarity),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.rarities[i]),\"width\":\"30px\"}})],1)}),1)],1)])]),_c('b-container',[_c('div',{staticClass:\"button-box\"},[_c('div',{staticClass:\"left-align\"},[_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetPAtk()}}},[_vm._v(\"物攻系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetMAtk()}}},[_vm._v(\"魔攻系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetPDef()}}},[_vm._v(\"物防系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetMDef()}}},[_vm._v(\"魔防系\")])],1)]),_c('div',{staticClass:\"button-box\"},[_c('div',{staticClass:\"left-align\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"id\":\"cb-copy-url\"},on:{\"click\":function($event){_vm.copyToClipboard(_vm.getParamsUrl())}}},[_vm._v(\"パラメータを URL としてコピー\")]),_c('b-popover',{attrs:{\"target\":\"cb-copy-url\",\"triggers\":\"click blur\",\"placement\":\"top\",\"custom-class\":\"url-popover\"}},[_vm._v(\" コピーしました：\"),_c('br'),_vm._v(_vm._s(_vm.getParamsUrl())+\" \")])],1)])])],1),_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-buff-list\"}},[_c('b-container',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"バフ\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.buffs.forEach(a => a.reset())}}},[_vm._v(\"リセット\")])],1)]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":_vm.buffs,\"fields\":_vm.buffFields},scopedSlots:_vm._u([{key:\"cell(enabled)\",fn:function(r){return [_c('b-form-checkbox',{model:{value:(r.item.enabled),callback:function ($$v) {_vm.$set(r.item, \"enabled\", $$v)},expression:\"r.item.enabled\"}})]}},{key:\"cell(label)\",fn:function(r){return [_vm._v(\" \"+_vm._s(r.item.label)+\" \")]}},{key:\"cell(limit)\",fn:function(r){return [(!r.item.parent)?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4.5em\"},attrs:{\"size\":\"sm\",\"type\":\"number\",\"step\":\"10\",\"lazy\":\"\",\"placeholder\":\"無制限\"},model:{value:(r.item.limit),callback:function ($$v) {_vm.$set(r.item, \"limit\", _vm._n($$v))},expression:\"r.item.limit\"}}):_vm._e(),(r.item.parent)?_c('div',{staticStyle:{\"text-align\":\"center\",\"color\":\"lightgray\"}},[_vm._v(\"〃\")]):_vm._e()]}},{key:\"cell(weight)\",fn:function(r){return [_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"3.5em\"},attrs:{\"size\":\"sm\",\"type\":\"number\",\"lazy\":\"\"},model:{value:(r.item.weight),callback:function ($$v) {_vm.$set(r.item, \"weight\", _vm._n($$v))},expression:\"r.item.weight\"}})]}}])})],1)],1),_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-debuff-list\"}},[_c('b-container',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"デバフ\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.debuffs.forEach(a => a.reset())}}},[_vm._v(\"リセット\")])],1)]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":_vm.debuffs,\"fields\":_vm.buffFields},scopedSlots:_vm._u([{key:\"cell(enabled)\",fn:function(r){return [_c('b-form-checkbox',{model:{value:(r.item.enabled),callback:function ($$v) {_vm.$set(r.item, \"enabled\", $$v)},expression:\"r.item.enabled\"}})]}},{key:\"cell(label)\",fn:function(r){return [_vm._v(\" \"+_vm._s(r.item.label)+\" \")]}},{key:\"cell(limit)\",fn:function(r){return [(!r.item.parent)?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4.5em\"},attrs:{\"size\":\"sm\",\"type\":\"number\",\"step\":\"10\",\"lazy\":\"\",\"placeholder\":\"無制限\"},model:{value:(r.item.limit),callback:function ($$v) {_vm.$set(r.item, \"limit\", _vm._n($$v))},expression:\"r.item.limit\"}}):_vm._e(),(r.item.parent)?_c('div',{staticStyle:{\"text-align\":\"center\",\"color\":\"lightgray\"}},[_vm._v(\"〃\")]):_vm._e()]}},{key:\"cell(weight)\",fn:function(r){return [_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"3.5em\"},attrs:{\"size\":\"sm\",\"type\":\"number\",\"lazy\":\"\"},model:{value:(r.item.weight),callback:function ($$v) {_vm.$set(r.item, \"weight\", _vm._n($$v))},expression:\"r.item.weight\"}})]}}])})],1)],1),_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-exclude-list\"}},[_c('b-container',[_c('div',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"優先リスト\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"id\":\"cb-add-prioritized\"}},[_vm._v(\"追加\")]),_c('b-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.prioritized=[]}}},[_vm._v(\"クリア\")]),_c('ChrSelector',{attrs:{\"target\":\"cb-add-prioritized\",\"chrs\":_vm.mainChrs,\"classfilter\":\"\",\"symbolfilter\":\"\"},on:{\"click\":_vm.addPrioritized}})],1)]),_c('div',{staticClass:\"flex exclude-box\"},_vm._l((_vm.prioritized),function(v,i){return _c('b-link',{key:i,on:{\"click\":function($event){_vm.prioritized.splice(_vm.prioritized.indexOf(v), 1)}}},[(!v.owner)?_c('div',{attrs:{\"title\":v.name}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":v.name,\"width\":\"50\"}})],1):_vm._e(),(v.owner)?_c('div',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"title\":v.owner.name + ' & ' + v.item.name}},[_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"0px\",\"top\":\"0px\"},attrs:{\"src\":_vm.getImageURL(v.owner.icon),\"title\":v.name,\"width\":\"35\"}}),_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"-20px\",\"top\":\"15px\"},attrs:{\"src\":_vm.getImageURL(v.item.icon),\"title\":v.name,\"width\":\"35\"}})],1):_vm._e()])}),1)]),_c('div',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"除外リスト\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"id\":\"cb-add-excluded\"}},[_vm._v(\"追加\")]),_c('b-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.excluded=[]}}},[_vm._v(\"クリア\")]),_c('ChrSelector',{attrs:{\"target\":\"cb-add-excluded\",\"chrs\":_vm.mainChrs,\"classfilter\":\"\",\"symbolfilter\":\"\"},on:{\"click\":_vm.addExcluded}})],1)]),_c('div',{staticClass:\"flex exclude-box\"},_vm._l((_vm.excluded),function(v,i){return _c('b-link',{key:i,on:{\"click\":function($event){_vm.excluded.splice(_vm.excluded.indexOf(v), 1)}}},[(!v.owner)?_c('div',{attrs:{\"title\":v.name}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":v.name,\"width\":\"50\"}})],1):_vm._e(),(v.owner)?_c('div',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"title\":v.owner.name + ' & ' + v.item.name}},[_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"0px\",\"top\":\"0px\"},attrs:{\"src\":_vm.getImageURL(v.owner.icon),\"title\":v.name,\"width\":\"35\"}}),_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"-20px\",\"top\":\"15px\"},attrs:{\"src\":_vm.getImageURL(v.item.icon),\"title\":v.name,\"width\":\"35\"}})],1):_vm._e()])}),1)])])],1)]),_c('div',{staticClass:\"content\"},[(!_vm.progress.completed)?_c('div',{staticClass:\"menu-panel\",staticStyle:{\"padding\":\"10px\",\"position\":\"absolute\"}},[_c('b-spinner',{attrs:{\"small\":\"\",\"label\":\"Spinning\"}})],1):_vm._e(),(_vm.progress.result.length != 0)?_c('div',{staticClass:\"total-params\"},[_c('div',{staticClass:\"flex info\"},[_vm._m(0),_vm._l((_vm.allEffectsToHtml(_vm.progress.result)),function(e,ei){return [_c('div',{key:ei,domProps:{\"innerHTML\":_vm._s(e)}})]})],2)]):_vm._e()]),_c('div',{staticClass:\"content\",style:(_vm.style)},[(_vm.progress.result.length == 0)?_c('div',{staticClass:\"menu-panel\",staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"about\"},[_c('h5',{staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(\"組み合わせ検索\")]),_vm._v(\" 指定のバフ・デバフの最適な組み合わせを探すツールです。\"),_c('br'),_vm._v(\" メインキャラ(スキル×装備)×サポート の組み合わせから、競合を考慮しつつ、総効果量の高いものを探索します。\"),_c('br'),_vm._v(\" 例えば「与ダメージバフ＋クリティカルダメージ倍率バフ＋ダメージ耐性デバフ」のいい感じの組み合わせを探したい、というようなケースで役立ちます。\"),_c('br'),_c('br'),_vm._v(\" 味方全体の強化の最適化が目的であるため、自己バフは考慮しません。単体のバフも「\"),_c('b-link',{on:{\"mouseenter\":function($event){return _vm.highlight('cb-p-allowSingleUnitBuff', true)},\"mouseleave\":function($event){return _vm.highlight('cb-p-allowSingleUnitBuff', false)}}},[_vm._v(\"単体バフを含める\")]),_vm._v(\"」にチェックしていない限り考慮しません。\"),_c('br'),_vm._v(\" マスターキャラのクラス対象バフや、ゼニス/オリジン/ナディア のシンボル対象バフ、特定のクラスへの追加効果 (\"),_c('b-link',{ref:_vm.po},[_vm._v(\"みんな！丸太は持った！？\")]),_vm._v(\" のスキル与ダメージなど) は除外しています。\"),_c('br'),_vm._v(\" シンボルスキルに関しては「\"),_c('b-link',{on:{\"mouseenter\":function($event){return _vm.highlight('cb-p-allowSymbolSkill', true)},\"mouseleave\":function($event){return _vm.highlight('cb-p-allowSymbolSkill', false)}}},[_vm._v(\"シンボルスキルを含める\")]),_vm._v(\"」をチェックすると含めるようになります。\"),_c('br'),_vm._v(\" 特定のキャラやスキルを除外or優先採用したい場合、アイコンをマウスオーバーすると出てくるポップアップから可能です。\"),_c('br'),_vm._v(\" 特定の効果を優先したい場合は優先度を高めると優先的に選択されます。\"),_c('br'),_c('br'),_vm._v(\" なお、必ずしも本当に最適な結果になるとは限らないことに注意が必要です。\"),_c('br'),_vm._v(\" 完璧に解くには時間がかかりすぎるため、若干正確性を犠牲にしつつ高速に解く方法を用いています。\"),_c('br'),_vm._v(\" (アルゴリズムは随時改良中: 2024/01/06)\"),_c('br')],1)]):_vm._e(),_vm._l((_vm.progress.result),function(r,ri){return [_c('div',{key:ri,staticClass:\"character\"},[_c('div',{staticClass:\"flex info\"},[_vm._m(1,true),_vm._l((_vm.chrEffectsToHtml(r)),function(e,ei){return [_c('div',{key:ei,domProps:{\"innerHTML\":_vm._s(e)}})]})],2),_c('div',{staticClass:\"flex\"},[(r.main)?_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.icon),\"title\":r.main.character.name,\"id\":'portrait_m_'+ri,\"width\":\"100\",\"rounded\":\"\"}}),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'portrait_m_'+ri,\"title\":r.main.character.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"status flex\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.class),\"title\":'クラス:'+r.main.character.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.symbol),\"title\":'シンボル:'+r.main.character.symbol,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.rarity),\"title\":'レアリティ:'+r.main.character.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.damageType),\"title\":'攻撃タイプ:'+r.main.character.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(r.main.character.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(r.main.character.move))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(r.main.character.date))])])],1),_c('div',{staticClass:\"status flex\"},_vm._l((r.main.character.skills),function(skill,si){return _c('b-link',{key:si,on:{\"click\":function($event){return _vm.addPrioritized(skill)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\"}})],1)}),1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{on:{\"click\":function($event){return _vm.addPrioritized(r.main.character)}}},[_vm._v(\"このキャラを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{on:{\"click\":function($event){return _vm.addExcluded(r.main.character)}}},[_vm._v(\"このキャラを除外\")])],1)]):_vm._e()],1):_vm._e(),(r.main)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"skills\"},_vm._l((r.main.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\",\"id\":'skill_m_'+ri+'_'+si}}),_c('b-popover',{attrs:{\"target\":'skill_m_'+ri+'_'+si,\"title\":skill.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.addPrioritized(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\"}})],1)})],2):_vm._e(),(!skill.isTalent)?_c('div',[_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill)}}},[_vm._v(\"このスキルを優先\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill)}}},[_vm._v(\"このスキルを除外\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを除外\")])],1)]):_vm._e()])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill, true))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(skill, r.main))}})])])])])}),0),_c('div',{staticClass:\"skills\"},_vm._l((r.main.equipments),function(item,si){return _c('div',{key:si,staticClass:\"skill\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(item.icon),\"title\":item.name,\"width\":\"50\",\"id\":'item_'+ri+'_'+si}}),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'item_'+ri+'_'+si,\"title\":item.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(item)}}},[_vm._v(\"このアイテムを優先\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(item, r.main.character)}}},[_vm._v(\"このキャラとアイテムの組み合わせを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(item)}}},[_vm._v(\"このアイテムを除外\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(item, r.main.character)}}},[_vm._v(\"このキャラとアイテムの組み合わせを除外\")])],1)]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(item.slot),\"title\":item.name,\"width\":\"18\"}}),_vm._v(_vm._s(item.name))],1),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(item))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(item, true))}}),(item.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(item))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(item, r.main))}})])])])])}),0)]):_vm._e()]),_c('div',{staticClass:\"flex\"},[(r.summon)?_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.summon.character.icon),\"title\":`${r.summon.character.name} (召喚ユニット)`,\"id\":'portrait_x_'+ri,\"width\":\"100\",\"rounded\":\"\"}})],1):_vm._e(),(r.summon)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"skills\"},_vm._l((r.summon.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\",\"id\":'skill_x_'+ri+'_'+si}}),_c('b-popover',{attrs:{\"target\":'skill_x_'+ri+'_'+si,\"title\":skill.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.addPrioritized(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\",\"height\":\"50\"}})],1)})],2):_vm._e(),(!skill.isTalent)?_c('div',[_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill)}}},[_vm._v(\"このスキルを優先\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill)}}},[_vm._v(\"このスキルを除外\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを除外\")])],1)]):_vm._e()])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill, true))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(skill, r.main))}})])])])])}),0)]):_vm._e()]),_c('div',{staticClass:\"flex\"},[(r.support)?_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.support.character.icon),\"title\":r.support.character.name,\"id\":'portrait_s_'+ri,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}}),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'portrait_s_'+ri,\"title\":r.support.character.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"status flex\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.support.character.class),\"title\":'クラス:'+r.support.character.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.support.character.supportType),\"title\":'サポートタイプ:'+r.support.character.supportType,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.support.character.rarity),\"title\":'レアリティ:'+r.support.character.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.support.character.damageType),\"title\":'攻撃タイプ:'+r.support.character.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(r.support.character.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(r.support.character.date))])])],1),_c('div',{staticClass:\"status flex\"},_vm._l((r.support.character.skills),function(skill,si){return _c('b-link',{key:si},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\"}})],1)}),1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{on:{\"click\":function($event){return _vm.addPrioritized(r.support.character)}}},[_vm._v(\"このキャラを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{on:{\"click\":function($event){return _vm.addExcluded(r.support.character)}}},[_vm._v(\"このキャラを除外\")])],1)]):_vm._e()],1):_vm._e(),(r.support)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"skills\"},_vm._l((_vm.enumerate(r.support.skills)),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"with\":\"50\",\"height\":\"50\",\"id\":'skill_s_'+ri+'_'+si}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill, true))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(skill, r.support))}})])])])])}),0)]):_vm._e()])])]})],2),_vm._l((_vm.popoverElements),function(e,i){return [_c('b-popover',{key:i,attrs:{\"target\":e.element,\"triggers\":\"hover focus\",\"custom-class\":\"item_po\",\"title\":e.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(e.item.icon),\"width\":\"50\",\"height\":\"50\"}})],1),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(e.item))}})]),(e.item.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((e.item.owners),function(owner,oi){return _c('b-img-lazy',{key:oi,attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\",\"height\":\"50\"}})})],2):_vm._e()])]})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h6',[_vm._v(\"全ユニット合計:\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h6',[_vm._v(\"ユニット内合計:\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-popover',{attrs:{\"target\":_vm.target,\"triggers\":\"click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"bottom\"}},[_c('div',{staticStyle:{\"margin\":\"4px 0px\"}},[(_vm.classfilter)?_c('b-button-group',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"sm\"}},_vm._l((_vm.filter.class),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"20px\"}})],1)}),1):_vm._e(),(_vm.symbolfilter)?_c('b-button-group',{attrs:{\"size\":\"sm\"}},_vm._l((_vm.filter.symbol),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.symbols[i]),\"width\":\"20px\"}})],1)}),1):_vm._e()],1),_c('div',{staticClass:\"chr-area\"},[(_vm.nullable)?_c('b-link',{on:{\"mouseover\":function($event){return _vm.$emit('mouseover', null)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', null)},\"click\":function($event){return _vm.onClick(null)}}},[_c('b-img-lazy',{staticClass:\"rounded-bordered\",attrs:{\"src\":_vm.getImageURL('null'),\"title\":\"(なし)\",\"width\":\"50\",\"height\":\"50\"}})],1):_vm._e(),_vm._l((_vm.filteredChrs),function(v,i){return _c('b-link',{key:i,on:{\"mouseover\":function($event){return _vm.$emit('mouseover', v)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', v)},\"click\":function($event){return _vm.onClick(v)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":_vm.descToTitle(v),\"width\":\"50\"}})],1)})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-popover :target=\"target\" triggers=\"click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"bottom\">\n    <div style=\"margin: 4px 0px\">\n      <b-button-group v-if=\"classfilter\" size=\"sm\" style=\"margin-right: 10px\">\n        <b-button v-for=\"(c, i) in filter.class\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n          <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"20px\" />\n        </b-button>\n      </b-button-group>\n      <b-button-group v-if=\"symbolfilter\" size=\"sm\">\n        <b-button v-for=\"(c, i) in filter.symbol\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n          <b-img-lazy :src=\"getImageURL(symbols[i])\" width=\"20px\" />\n        </b-button>\n      </b-button-group>\n    </div>\n    <div class=\"chr-area\">\n      <b-link v-if=\"nullable\" @mouseover=\"$emit('mouseover', null)\" @mouseleave=\"$emit('mouseleave', null)\" @click=\"onClick(null)\">\n        <b-img-lazy :src=\"getImageURL('null')\" title=\"(なし)\" width=\"50\" height=\"50\" class=\"rounded-bordered\" />\n      </b-link>\n      <b-link v-for=\"(v, i) in filteredChrs\" :key=\"i\" @mouseover=\"$emit('mouseover', v)\" @mouseleave=\"$emit('mouseleave', v)\" @click=\"onClick(v)\">\n        <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"descToTitle(v)\" width=\"50\" />\n      </b-link>\n    </div>\n  </b-popover>\n</template>\n\n<script>\nimport jsonConstants from '../../assets/constants.json'\nimport common from \"../common\";\n\nexport default {\n  name: 'ChrSelector',\n  mixins: [common],\n  props: {\n    target: {\n      type: String,\n      required: true,\n    },\n    chrs: {\n      type: Array,\n      required: true,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n    classfilter: {\n      type: Boolean,\n      default: false,\n    },\n    symbolfilter: {\n      type: Boolean,\n      default: false,\n    },\n    rarityfilter: {\n      type: Boolean,\n      default: false,\n    },\n\n    closeonclick: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      classes: jsonConstants.classes,\n      symbols: jsonConstants.symbols,\n      damageTypes: jsonConstants.damageTypes,\n      rarities: jsonConstants.rarities,\n\n      filter: {\n        class: [],\n        symbol: [],\n        rarity: [],\n      },\n    }\n  },\n\n  computed: {\n    filteredChrs() {\n      return this.chrs.filter(a => this.filterChr(a));\n    },\n  },\n\n  created() {\n    this.fillFilter(this.filter.class, this.classes);\n    this.fillFilter(this.filter.symbol, this.symbols);\n    this.fillFilter(this.filter.rarity, this.rarities);\n  },\n\n  methods: {\n    filterChr(chr) {\n      return (!this.classfilter || this.filterMatch(this.filter.class, chr.classId)) &&\n        (!this.symbolfilter || this.filterMatch(this.filter.symbol, chr.symbolId)) &&\n        (!this.rarityfilter || this.filterMatch(this.filter.rarity, chr.rarityId));\n    },\n\n    onClick(item) {\n      this.$emit('click', item);\n      if (this.closeonclick) {\n        this.$root.$emit('bv::hide::popover', this.target)\n      }\n    },\n  }\n}\n</script>\n\n<style>\n.chr-area {\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  width: 425px;\n  min-height: 150px;\n  max-height: 250px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n/*\n.btn-outline-secondary {\n  padding: 3px !important;\n}\n*/\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChrSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChrSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChrSelector.vue?vue&type=template&id=7e985746&\"\nimport script from \"./ChrSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ChrSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChrSelector.vue?vue&type=style&index=0&id=7e985746&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import jsonConstants from '../../assets/constants.json'\nimport jsonMainActive from '../../assets/main_active.json'\nimport jsonMainPassive from '../../assets/main_passive.json'\nimport jsonMainTalents from '../../assets/main_talents.json'\nimport jsonMainChrs from '../../assets/main_characters.json'\nimport jsonSupportActive from '../../assets/support_active.json'\nimport jsonSupportPassive from '../../assets/support_passive.json'\nimport jsonSupportChrs from '../../assets/support_characters.json'\nimport jsonItems from '../../assets/items.json'\n\nexport default {\n  data() {\n    return {\n      classes: jsonConstants.classes,\n      symbols: jsonConstants.symbols,\n      damageTypes: jsonConstants.damageTypes,\n      rarities: jsonConstants.rarities,\n      effectTypes: jsonConstants.effectTypes,\n\n      filter: {\n        class: [],\n        symbol: [],\n        damageType: [],\n        rarity: [],\n      },\n\n      options: [],\n      buffs: [],\n      debuffs: [],\n      excluded: [],\n      prioritized: [],\n\n      progress: {\n        completed: true,\n        pending: false,\n        result: [],\n      },\n    };\n  },\n\n  methods: {\n    BitFlags: class {\n      constructor(arg) {\n        if (typeof arg == \"number\") {\n          const size = arg;\n          // (size / 32) + (size % 32 ? 1 : 0)\n          // 整数のまま処理するためビット演算\n          const n = (size >> 5) + (size & 31 ? 1 : 0);\n          this.data_ = new Uint32Array(n);\n        }\n        else if (arg.constructor === this.constructor) {\n          const parent = arg;\n          this.data_ = new Uint32Array(parent.data_);\n        }\n        else {\n          throw \"BitFlags(??????)\";\n        }\n      }\n      get(i) {\n        const byte = i >> 5;\n        const bit = i & 31;\n        return (this.data_[byte] & (1 << bit)) != 0;\n      }\n      set(i, v) {\n        const byte = i >> 5;\n        const bit = i & 31;\n        if (v)\n          this.data_[byte] |= 1 << bit;\n        else\n          this.data_[byte] &= ~(1 << bit);\n      }\n    },\n\n    isGetSet(obj, name) {\n      const desc = Object.getOwnPropertyDescriptor(obj, name);\n      if (desc) {\n        if (desc.get)\n          return true;\n        if (desc.set)\n          return true;\n      }\n      return false;\n    },\n\n\n    setupDB() {\n      let g = this;\n\n      g.mainActive = structuredClone(jsonMainActive);\n      g.mainPassive = structuredClone(jsonMainPassive);\n      g.mainTalents = structuredClone(jsonMainTalents);\n      g.mainChrs = structuredClone(jsonMainChrs).filter(a => !a.hidden);\n\n      g.supActive = structuredClone(jsonSupportActive);\n      g.supPassive = structuredClone(jsonSupportPassive);\n      g.supChrs = structuredClone(jsonSupportChrs).filter(a => !a.hidden);\n\n      g.items = structuredClone(jsonItems).filter(a => !a.hidden);\n\n      this.setupCharacters(g.mainChrs, g.mainActive, g.mainPassive, g.mainTalents);\n      this.setupCharacters(g.supChrs, g.supActive, g.supPassive);\n      this.setupItems(g.items);\n\n      g.mainChrs.sort((a, b) => b.date.localeCompare(a.date));\n      g.supChrs.sort((a, b) => b.date.localeCompare(a.date));\n      g.items.sort((a, b) => b.date.localeCompare(a.date));\n\n      g.weapons = g.items.filter(a => a.slot == \"武器\");\n      g.armors = g.items.filter(a => a.slot == \"鎧\");\n      g.helmets = g.items.filter(a => a.slot == \"兜\");\n      g.accessories = g.items.filter(a => a.slot == \"アクセサリ\");\n      g.amulets1 = g.items.filter(a => a.slot == \"月のアミュレット\");\n      g.amulets2 = g.items.filter(a => a.slot == \"太陽のアミュレット\");\n\n      g.searchTableWithUid = new Map();\n      g.searchTableWithName = new Map();\n      let idx = 0;\n      for (let list of [\n        g.mainChrs, g.mainActive, g.mainPassive, g.mainTalents,\n        g.supChrs, g.supActive, g.supPassive,\n        g.items\n      ]) {\n        for (let item of list) {\n          item.index = ++idx;\n          g.searchTableWithUid.set(item.uid, item);\n          g.searchTableWithName.set(item.name, item);\n        }\n      }\n      g.itemCount = idx;\n\n      let effectTypeIndex = 1;\n      let effectTypeNames = [\"???\"];\n      let effectTypeTable = new Map();\n      let slotIndex = 1;\n      let slotTable = new Map();\n      for (const et of this.effectTypes) {\n        const key = `${et}+`;\n        effectTypeTable.set(key, effectTypeIndex);\n        effectTypeNames.push(key);\n        effectTypeIndex++;\n      }\n      for (const et of this.effectTypes) {\n        const key = `${et}-`;\n        effectTypeTable.set(key, effectTypeIndex);\n        effectTypeNames.push(key);\n        effectTypeIndex++;\n      }\n      for (let skill of this.enumerate(g.mainActive, g.mainPassive, g.mainTalents, g.supActive, g.supPassive, g.items)) {\n        for (let effect of this.enumerateEffects(skill)) {\n          let effectType = effect.type;\n          if (effect.isBuff)\n            effectType += \"+\";\n          else if (effect.isDebuff)\n            effectType += \"-\";\n          effect.effectType = effectType;\n\n          if (effect.target == \"単体\")\n            effect.isSingleTarget = true;\n\n          effect.effectTypeIndex = effectTypeTable.get(effectType);\n          if (!effect.effectTypeIndex) {\n            effectTypeTable.set(effectType, effectTypeIndex);\n            effect.effectTypeIndex = effectTypeIndex++;\n            effectTypeNames.push(effectType);\n          }\n\n          if (skill.isActive) {\n            const slot = effect.slot;\n            effect.slotIndex = slotTable.get(slot);\n            if (!effect.slotIndex) {\n              slotTable.set(slot, slotIndex);\n              effect.slotIndex = slotIndex++;\n            }\n          }\n        }\n      }\n      g.effectTypeIndex = effectTypeIndex;\n      g.effectTypeNames = effectTypeNames;\n      g.effectTypeTable = effectTypeTable;\n      g.slotIndex = slotIndex;\n      g.slotTable = slotTable;\n    },\n    setupFilter() {\n      this.fillFilter(this.filter.class, this.classes);\n      this.fillFilter(this.filter.symbol, this.symbols);\n      this.fillFilter(this.filter.damageType, this.damageTypes);\n      this.fillFilter(this.filter.rarity, this.rarities);\n    },\n\n    getClassPassiveMain(className) {\n      const find = (uid) => this.searchTableWithUid.get(uid);\n      const table = {\n        \"ソルジャー\": [find(\"クラス特性:ソルジャー(メイン)\"), find(\"マスター特性:ソルジャー\")],\n        \"ランサー\": [find(\"クラス特性:ランサー(メイン)\"), find(\"マスター特性:ランサー\")],\n        \"ライダー\": [find(\"クラス特性:ライダー(メイン)\"), find(\"マスター特性:ライダー\")],\n        \"エアリアル\": [find(\"クラス特性:エアリアル(メイン)\"), find(\"マスター特性:エアリアル\")],\n        \"ソーサラー\": [find(\"クラス特性:ソーサラー(メイン)\"), find(\"マスター特性:ソーサラー\")],\n        \"セイント\": [find(\"クラス特性:セイント(メイン)\"), find(\"マスター特性:セイント\")],\n        \"シューター\": [find(\"クラス特性:シューター(メイン)\"), find(\"マスター特性:シューター\")],\n        \"アサシン\": [find(\"クラス特性:アサシン(メイン)\"), find(\"マスター特性:アサシン\")],\n      };\n      return className in table ? table[className] : [];\n    },\n    getClassPassiveSupport(className) {\n      const find = (uid) => this.searchTableWithUid.get(uid);\n      const table = {\n        \"ソルジャー\": [find(\"クラス特性:ソルジャー(サポート)\"), find(\"4100001\"), find(\"4100002\"), find(\"4100003\")],\n        \"ランサー\": [find(\"クラス特性:ランサー(サポート)\"), find(\"4100004\"), find(\"4100005\"), find(\"4100006\")],\n        \"ライダー\": [find(\"クラス特性:ライダー(サポート)\"), find(\"4100007\"), find(\"4100008\"), find(\"4100009\")],\n        \"エアリアル\": [find(\"クラス特性:エアリアル(サポート)\"), find(\"4100010\"), find(\"4100011\"), find(\"4100012\")],\n        \"ソーサラー\": [find(\"クラス特性:ソーサラー(サポート)\"), find(\"4100016\"), find(\"4100018\"), find(\"4100017\")],\n        \"セイント\": [find(\"クラス特性:セイント(サポート)\"), find(\"4100016\"), find(\"4100008\"), find(\"4100017\")],\n        \"シューター\": [find(\"クラス特性:シューター(サポート)\"), find(\"4100015\"), find(\"4100014\"), find(\"4100012\")],\n        \"アサシン\": [find(\"クラス特性:アサシン(サポート)\"), find(\"4100013\"), find(\"4100014\"), find(\"4100012\")],\n      };\n      return className in table ? table[className] : [];\n    },\n\n    getEnchantPassiveList() {\n      const find = (uid) => this.searchTableWithUid.get(uid);\n      const list = [\n        find(\"100\"), find(\"101\"), find(\"102\"), find(\"103\"), find(\"104\"), find(\"105\"),\n        find(\"106\"), find(\"107\"), find(\"108\"), find(\"109\"), find(\"110\"), find(\"111\"), find(\"112\")\n      ];\n      return list;\n    },\n    getEnchantPassive(enchantName) {\n      const find = (uid) => this.searchTableWithUid.get(uid);\n      const table = {\n        \"バスター\": find(\"100\"),\n        \"チャージ\": find(\"101\"),\n        \"フェザー\": find(\"102\"),\n        \"クイック\": find(\"103\"),\n        \"ノヴァ\": find(\"104\"),\n        \"アイアン\": find(\"105\"),\n        \"リフレクト\": find(\"106\"),\n        \"バックアップ\": find(\"107\"),\n        \"アイス\": find(\"108\"),\n        \"ブライト\": find(\"109\"),\n        \"クリスタル\": find(\"110\"),\n        \"ストライク\": find(\"111\"),\n        \"ブレイク\": find(\"112\"),\n      };\n      return enchantName in table ? table[enchantName] : [];\n    },\n\n    filterMatchMainChr(chr, filter = this.filter) {\n      return (!filter.class || this.filterMatch(filter.class, chr.classId)) &&\n        (!filter.symbol || this.filterMatch(filter.symbol, chr.symbolId)) &&\n        (!filter.damageType || this.filterMatch(filter.damageType, chr.damageTypeId)) &&\n        (!filter.rarity || this.filterMatch(filter.rarity, chr.rarityId));\n    },\n    filterMatchSupChr(chr, filter = this.filter) {\n      // チャレンジクエストはサポートのクラスは無制限なので、クラスフィルタは考慮しない\n      return (!filter.rarity || this.filterMatch(filter.rarity, chr.rarityId));\n    },\n\n    removeEffectsOfSameType(skill) {\n      const doRemove = function (effects) {\n        if (!effects)\n          return;\n\n        const countEffect = function (effect) {\n          let count = 0;\n          for (const e of effects) {\n            if (e.type == effect.type && e.target == effect.target && e.ephemeral == effect.ephemeral && e.slot == effect.slot &&\n              e.timing == effect.timing && Math.sign(e.value) == Math.sign(effect.value)) {\n              ++count;\n            }\n          }\n          return count;\n        }\n\n        for (let i = 0; i < effects.length;) {\n          if (countEffect(effects[i]) > 1) {\n            //console.log(effects[i]);\n            effects.splice(i, 1);\n          }\n          else {\n            ++i;\n          }\n        }\n      };\n      doRemove(skill.buff);\n      doRemove(skill.debuff);\n    },\n\n\n    getParamClass(param) {\n      return param.disabled() ? \"disabled\" : \"\";\n    },\n    getSkillClass(skill) {\n      return {\n        active: skill.isActive,\n        passive: skill.isPassive,\n      }\n    },\n    effectsToHtml(skill, ctx) {\n      let lines = [];\n\n      if (skill.multiAction) {\n        lines.push(`<div class=\"effect-box\"><span class=\"effect\">再行動</span></div>`);\n      }\n      for (const effect of this.enumerate(skill.buff, skill.debuff)) {\n        if ([\"ランダム\"].includes(effect.type)) {\n          continue;\n        }\n\n        let value = this.getEffectValue(effect);\n        if (effect.add) {\n          value = `${effect.add.from}${effect.add.rate}`;\n        }\n\n        let additionalClass = \"\";\n        let prefix = effect.isDebuff ? \"-\" : \"+\";\n        let onBattle = effect.ephemeral ? \"(戦闘時)\" : \"\";\n        let unit = \"\";\n        let title = \"\";\n        if (ctx.usedEffects.includes(effect)) {\n          additionalClass += \" caution\";\n        }\n        if (ctx.conflictedEffects.includes(effect)) {\n          additionalClass += \" blue\";\n          title = \"アクティブ同士で競合、または既に上限に達している\";\n        }\n        if (![\"移動\", \"射程(通常攻撃)\", \"射程(スキル)\", \"範囲\"].includes(effect.type)) {\n          unit = \"%\";\n        }\n\n        lines.push(`<div class=\"effect-box\"><span class=\"effect ${additionalClass}\" title=\"${title}\">${effect.type}${onBattle}${prefix}${value}${unit}</span></div>`);\n      }\n      return lines.length ? `<div class=\"effect-group\">${lines.join(\"\")}</div>` : \"\";\n    },\n    highlight(id, enabled) {\n      var element = document.getElementById(id);\n      if (enabled)\n        element.classList.add(\"param-highlighted\");\n      else\n        element.classList.remove(\"param-highlighted\");\n    },\n\n    getEffectValues(effectList, dst = null) {\n      if (!dst) {\n        dst = new Int32Array(this.effectTypeIndex);\n        dst.fill(0);\n      }\n      for (const e of effectList)\n        dst[e.effectTypeIndex] += this.getEffectValue(e);\n      return dst;\n    },\n    effectParamsToHtml(data) {\n      let lines = [];\n      for (let i = 0; i < this.effectTypeIndex; ++i) {\n        const name = this.effectTypeNames[i];\n        let v = data[i];\n        let unit = [\"移動+\"].includes(name) ? \"\" : \"%\";\n        if (v) {\n          lines.push(`<div class=\"effect-box\"><span class=\"effect caution\">${name}${v}${unit}</span></div>`);\n        }\n      }\n      return lines;\n    },\n    chrEffectsToHtml(r) {\n      const data = this.getEffectValues(r.main.usedEffects);\n      return this.effectParamsToHtml(data);\n    },\n    allEffectsToHtml(recs) {\n      let data = null;\n      for (let r of recs)\n        data = this.getEffectValues(r.usedEffects, data);\n      return this.effectParamsToHtml(data);\n    },\n\n\n    // 優先/除外処理\n    _addPriorityItem(list, item, owner) {\n      const cb = owner ?\n        a => a.owner == owner && a.item == item :\n        a => a == item;\n      let i = list.findIndex(cb);\n      if (i >= 0)\n        list.splice(i, 1);\n\n      list.splice(0, 0, owner ? { item: item, owner: owner } : item);\n    },\n    _isInPrioritizeList(list, item, owner = null) {\n      if (list.includes(item))\n        return true;\n      else if (owner)\n        return list.find(a => a.owner == owner && a.item == item) != null;\n      return false;\n    },\n    addPrioritized(item, owner = null) {\n      this._addPriorityItem(this.prioritized, item, owner);\n    },\n    removePrioritized(item) {\n      this.prioritized.splice(this.prioritized.indexOf(item), 1);\n    },\n    isPrioritized(item, owner = null) {\n      return this._isInPrioritizeList(this.prioritized, item, owner);\n    },\n    addExcluded(item, owner = null) {\n      this._addPriorityItem(this.excluded, item, owner);\n    },\n    removeExcluded(item) {\n      this.excluded.splice(this.excluded.indexOf(item), 1);\n    },\n    isExcluded(item, owner = null) {\n      return this._isInPrioritizeList(this.excluded, item, owner);\n    },\n\n\n    // バフやデバフの効果量取得処理\n    getEffectValue(effect) {\n      let r = 0;\n      if (effect.value) {\n        r = effect.value;\n        if (effect.maxStack) {\n          // 効果が重複するタイプ\n          // フルスペック時の効果を返す\n          r *= effect.maxStack;\n        }\n      }\n      else if (effect.variable) {\n        // HP 割合などに応じて効果が上下するタイプ\n        // フルスペック時の効果を返す\n        if (Array.isArray(effect.variable.max)) {\n          r = effect.variable.max[effect.variable.max.length - 1];\n        }\n        else {\n          r = effect.variable.max;\n        }\n      }\n      else if (effect.add) {\n        // \"アタックの n% をマジックに加算\" など\n        // 正確な評価は困難だが 0 にはしたくないので、とりあえず 1/4 したのをスコアにしておく\n        r = effect.add.rate * 0.25;\n      }\n      return r;\n    },\n\n    *enumerate(...arrays) {\n      for (let array of arrays) {\n        if (array)\n          yield* array;\n      }\n    },\n\n    *enumerateEffects(skill) {\n      yield* this.enumerate(skill.buff, skill.debuff);\n    },\n\n    findItemByUid(uid) {\n      const r = this.searchTableWithUid.get(uid);\n      //if (!r) {\n      //  console.log(`uid:${uid} not found`);\n      //}\n      return r;\n    },\n    findItemByName(name) {\n      const r = this.searchTableWithName.get(name);\n      if (!r) {\n        console.log(`${name} not found`);\n      }\n      return r;\n    },\n\n    matchClass(item, chr) {\n      if (item) {\n        if (!item.classes || item.classes.includes(chr.class))\n          return true;\n      }\n      return false;\n    },\n    mainCanEquip(item, slot = null) {\n      if (this.matchClass(item, this.main.character.value)) {\n        if (!slot || item.slot == slot)\n          return true;\n      }\n      return false;\n    },\n    supportCanEquip(item, slot, aux) {\n      if (item) {\n        if (!slot || item.slot == slot) {\n          if (slot == \"アミュレット\")\n            return !aux || item.amuletType == aux;\n          else\n            return true;\n        }\n      }\n      return false;\n    },\n\n    validateItems() {\n      var mainItems = this.mainItems;\n      var supItems = this.supportItems;\n      if (!this.mainCanEquip(mainItems.weapon.value, '武器'))\n        mainItems.weapon.value = null;\n      if (!this.mainCanEquip(mainItems.armor.value, '鎧'))\n        mainItems.armor.value = null;\n      if (!this.mainCanEquip(mainItems.helmet.value, '兜'))\n        mainItems.helmet.value = null;\n      if (!this.mainCanEquip(mainItems.accessory.value, 'アクセサリ'))\n        mainItems.accessory.value = null;\n\n      if (!this.supportCanEquip(supItems.amulet1.value, 'アミュレット', '月'))\n        supItems.amulet1.value = null;\n      if (!this.supportCanEquip(supItems.amulet2.value, 'アミュレット', '太陽'))\n        supItems.amulet2.value = null;\n    },\n\n\n    serializeParams() {\n      const isGetSet = this.isGetSet;\n\n      const handleOptions = function (obj) {\n        return Object.values(obj).map(a => a.value);\n      };\n      const handleFilter = function (obj) {\n        return Object.values(obj).map(a => this.serializeFilter(a));\n      }.bind(this);\n      const handleBuffs = function (list) {\n        let r = [];\n        const props = [\"enabled\", \"limit_\", \"weight\"];\n        for (const obj of list) {\n          let tmp = [];\n          for (const prop of props) {\n            if (Object.hasOwn(obj, prop)) {\n              tmp.push(obj[prop]);\n            }\n          }\n          r.push(tmp);\n        }\n        return r;\n      };\n      const handleExcludes = function (list) {\n        let r = [];\n        for (let v of list) {\n          if (v.owner != undefined)\n            r.push([v.item.uid, v.owner.uid]);\n          else\n            r.push(v.uid);\n        }\n        return r;\n      };\n\n      let r = {};\n      r.options = handleOptions(this.options);\n      r.filter = handleFilter(this.filter);\n      r.buffs = handleBuffs(this.buffs);\n      r.debuffs = handleBuffs(this.debuffs);\n      r.excluded = handleExcludes(this.excluded);\n      r.prioritized = handleExcludes(this.prioritized);\n      return r;\n    },\n    deserializeParams(obj) {\n      const isGetSet = this.isGetSet;\n      const findItemByUid = this.findItemByUid;\n\n      const handleOptions = function (dst, src) {\n        dst = Object.values(dst);\n        if (src && dst.length == src.length) {\n          for (let i = 0; i < dst.length; ++i) {\n            if (typeof dst[i].value == typeof src[i])\n              dst[i].value = src[i];\n          }\n        }\n      };\n      const handleFilter = function (dst, src) {\n        dst = Object.values(dst);\n        if (src && dst.length == src.length) {\n          for (let i = 0; i < dst.length; ++i) {\n            this.deserializeFilter(dst[i], src[i]);\n          }\n        }\n      }.bind(this);\n      const handleBuffs = function (dst, src) {\n        if (src && dst.length == src.length) {\n          for (let i = 0; i < dst.length; ++i) {\n            let d = dst[i];\n            let s = src[i];\n            const props = [\"enabled\", \"limit_\", \"weight\"];\n            for (const prop of props) {\n              if (Object.hasOwn(d, prop)) {\n                d[prop] = s.shift();\n              }\n            }\n          }\n        }\n      };\n      const handleExcludes = function (dst, src) {\n        if (src) {\n          dst.splice(0, dst.length);\n          for (let v of src) {\n            if (Array.isArray(v)) {\n              let t = {\n                item: findItemByUid(v[0]),\n                owner: findItemByUid(v[1]),\n              }\n              if (t.item && t.owner)\n                dst.push(t);\n            }\n            else {\n              let t = findItemByUid(v);\n              if (t)\n                dst.push(t);\n            }\n          }\n        }\n        return dst;\n      };\n\n      handleOptions(this.options, obj.options);\n      handleFilter(this.filter, obj.filter);\n      handleBuffs(this.buffs, obj.buffs);\n      handleBuffs(this.debuffs, obj.debuffs);\n      handleExcludes(this.excluded, obj.excluded);\n      handleExcludes(this.prioritized, obj.prioritized);\n    },\n\n    getParamsUrl() {\n      let params = this.serializeParams();\n      let t = \"\";\n\n      let url = window.location.href.replace(/\\?.+/, '').replace(/#.+/, '');\n      url += \"?\";\n\n      let m = window.location.href.match(/(t=\\d)/, '');\n      if (m) {\n        url += m[1];\n        url += \"&\";\n      }\n      url += \"p=\" + encodeURIComponent(JSON.stringify(params));\n      return url;\n    },\n    parseParamsUrl(url) {\n      let params = {};\n\n      let q = url.match(/\\bt=(\\d)/);\n      if (q) {\n        params.t = parseInt(q[1]);\n      }\n\n      q = url.match(/\\bp=(.+)$/);\n      if (q) {\n        params.p = JSON.parse(decodeURIComponent(q[1]));\n      }\n      //console.log(params);\n      return params;\n    },\n  },\n\n  computed: {\n    optionValues() {\n      const opt = this.options;\n      let r = {};\n      for (const k in opt)\n        r[k] = opt[k].value;\n      return r;\n    },\n  },\n\n  watch: {\n    filter: { handler: function () { this.updateQuery(); }, deep: true },\n    options: { handler: function () { this.updateQuery(); }, deep: true },\n    buffs: { handler: function () { this.updateQuery(); }, deep: true },\n    debuffs: { handler: function () { this.updateQuery(); }, deep: true },\n    prioritized: function () { this.updateQuery(); },\n    excluded: function () { this.updateQuery(); },\n  },\n\n  updated: function () {\n    // ペンディングリクエストが残っていたら再検索\n    if (this.progress.pending && this.progress.completed) {\n      if (this.beginSearch()) {\n        this.progress.pending = false;\n      }\n    }\n  },\n}","<template>\n  <div class=\"root\">\n    <div class=\"menu-content\" style=\"flex-wrap: nowrap\">\n      <div class=\"menu-panel\" id=\"cb-settings\">\n        <b-container>\n          <div>\n            <h3 style=\"margin: 5px 0px\">設定</h3>\n          </div>\n          <b-table small borderless hover :items=\"Object.values(options)\" :fields=\"optionFields\">\n            <template #cell(value)=\"r\">\n              <div class=\"flex\">\n                <div style=\"margin-left: auto\">\n                  <b-form-checkbox v-if=\"r.item.type == 'boolean'\" v-model=\"r.item.value\"></b-form-checkbox>\n                  <b-form-input v-if=\"r.item.type == 'number'\" style=\"width: 3em\" v-model.number=\"r.item.value\" :min=\"r.item.min\" :max=\"r.item.max\" size=\"sm\" type=\"number\" class=\"input-param\" lazy></b-form-input>\n                </div>\n              </div>\n            </template>\n            <template #cell(label)=\"r\">\n              <div :id=\"`cb-p-${r.item.name}`\">{{r.item.label}}</div>\n            </template>\n          </b-table>\n\n        </b-container>\n\n        <b-container>\n          <div>\n            <h3 style=\"margin: 5px 0px\">フィルタ</h3>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"cb-class-selector\">\n                <b-button v-for=\"(c, i) in filter.class\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget filter\">\n              <b-button-group size=\"sm\" id=\"cb-symbol-selector\">\n                <b-button v-for=\"(c, i) in filter.symbol\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(symbols[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget filter\">\n              <b-button-group size=\"sm\" id=\"cb-damage-type-selector\">\n                <b-button v-for=\"(c, i) in filter.damageType\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(damageTypes[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget rareiry-filter\">\n              <b-button-group size=\"sm\" id=\"cb-rareiry-selector\">\n                <b-button v-for=\"(c, i) in filter.rarity\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(rarities[i])\" width=\"30px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n        </b-container>\n\n        <b-container>\n          <div class=\"button-box\">\n            <div class=\"left-align\">\n              <b-button size=\"sm\" @click=\"presetPAtk()\" style=\"margin-right: 3px\">物攻系</b-button>\n              <b-button size=\"sm\" @click=\"presetMAtk()\" style=\"margin-right: 3px\">魔攻系</b-button>\n              <b-button size=\"sm\" @click=\"presetPDef()\" style=\"margin-right: 3px\">物防系</b-button>\n              <b-button size=\"sm\" @click=\"presetMDef()\" style=\"margin-right: 3px\">魔防系</b-button>\n            </div>\n          </div>\n          <div class=\"button-box\">\n            <div class=\"left-align\">\n              <b-button size=\"sm\" id=\"cb-copy-url\" @click=\"copyToClipboard(getParamsUrl())\">パラメータを URL としてコピー</b-button>\n              <b-popover target=\"cb-copy-url\" triggers=\"click blur\" placement=\"top\" custom-class=\"url-popover\">\n                コピーしました：<br />{{ getParamsUrl() }}\n              </b-popover>\n            </div>\n          </div>\n        </b-container>\n\n      </div>\n\n      <div class=\"menu-panel\" id=\"cb-buff-list\">\n        <b-container>\n          <div class=\"flex\">\n            <h3 style=\"margin: 5px 0px\">バフ</h3>\n            <div class=\"right-align\">\n              <b-button size=\"sm\" @click=\"buffs.forEach(a => a.reset())\">リセット</b-button>\n            </div>\n          </div>\n          <b-table small borderless hover :items=\"buffs\" :fields=\"buffFields\">\n            <template #cell(enabled)=\"r\">\n              <b-form-checkbox v-model=\"r.item.enabled\"></b-form-checkbox>\n            </template>\n            <template #cell(label)=\"r\">\n              {{r.item.label}}\n            </template>\n            <template #cell(limit)=\"r\">\n              <b-form-input v-if=\"!r.item.parent\" style=\"width: 4.5em\" v-model.number=\"r.item.limit\" size=\"sm\" type=\"number\" class=\"input-param\" step=\"10\" lazy placeholder=\"無制限\"></b-form-input>\n              <div v-if=\"r.item.parent\" style=\"text-align:center; color: lightgray\">〃</div>\n            </template>\n            <template #cell(weight)=\"r\">\n              <b-form-input style=\"width: 3.5em\" v-model.number=\"r.item.weight\" size=\"sm\" type=\"number\" class=\"input-param\" lazy></b-form-input>\n            </template>\n          </b-table>\n        </b-container>\n      </div>\n\n      <div class=\"menu-panel\" id=\"cb-debuff-list\">\n        <b-container>\n          <div class=\"flex\">\n            <h3 style=\"margin: 5px 0px\">デバフ</h3>\n            <div class=\"right-align\">\n              <b-button size=\"sm\" @click=\"debuffs.forEach(a => a.reset())\">リセット</b-button>\n            </div>\n          </div>\n\n          <b-table small borderless hover :items=\"debuffs\" :fields=\"buffFields\">\n            <template #cell(enabled)=\"r\">\n              <b-form-checkbox v-model=\"r.item.enabled\"></b-form-checkbox>\n            </template>\n            <template #cell(label)=\"r\">\n              {{r.item.label}}\n            </template>\n            <template #cell(limit)=\"r\">\n              <b-form-input v-if=\"!r.item.parent\" style=\"width: 4.5em\" v-model.number=\"r.item.limit\" size=\"sm\" type=\"number\" class=\"input-param\" step=\"10\" lazy placeholder=\"無制限\"></b-form-input>\n              <div v-if=\"r.item.parent\" style=\"text-align:center; color: lightgray\">〃</div>\n            </template>\n            <template #cell(weight)=\"r\">\n              <b-form-input style=\"width: 3.5em\" v-model.number=\"r.item.weight\" size=\"sm\" type=\"number\" class=\"input-param\" lazy></b-form-input>\n            </template>\n          </b-table>\n        </b-container>\n      </div>\n\n      <div class=\"menu-panel\" id=\"cb-exclude-list\">\n        <b-container>\n          <div>\n            <div class=\"flex\">\n              <h3 style=\"margin: 5px 0px\">優先リスト</h3>\n              <div class=\"right-align\">\n                <b-button size=\"sm\" id=\"cb-add-prioritized\">追加</b-button>\n                <b-button size=\"sm\" @click=\"prioritized=[]\" style=\"margin-left: 5px\">クリア</b-button>\n                <ChrSelector target=\"cb-add-prioritized\" :chrs=\"mainChrs\" @click=\"addPrioritized\" classfilter symbolfilter />\n              </div>\n            </div>\n            <div class=\"flex exclude-box\">\n              <b-link v-for=\"(v, i) in prioritized\" :key=\"i\" @click=\"prioritized.splice(prioritized.indexOf(v), 1)\">\n                <div v-if=\"!v.owner\" :title=\"v.name\">\n                  <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"v.name\" width=\"50\" />\n                </div>\n                <div v-if=\"v.owner\" style=\"width: 50px; height: 50px;\" :title=\"v.owner.name + ' & ' + v.item.name\">\n                  <b-img-lazy :src=\"getImageURL(v.owner.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: 0px; top: 0px; \" />\n                  <b-img-lazy :src=\"getImageURL(v.item.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: -20px; top: 15px; \" />\n                </div>\n              </b-link>\n            </div>\n          </div>\n          <div>\n            <div class=\"flex\">\n              <h3 style=\"margin: 5px 0px\">除外リスト</h3>\n              <div class=\"right-align\">\n                <b-button size=\"sm\" id=\"cb-add-excluded\">追加</b-button>\n                <b-button size=\"sm\" @click=\"excluded=[]\" style=\"margin-left: 5px\">クリア</b-button>\n                <ChrSelector target=\"cb-add-excluded\" :chrs=\"mainChrs\" @click=\"addExcluded\" classfilter symbolfilter />\n              </div>\n            </div>\n            <div class=\"flex exclude-box\">\n              <b-link v-for=\"(v, i) in excluded\" :key=\"i\" @click=\"excluded.splice(excluded.indexOf(v), 1)\">\n                <div v-if=\"!v.owner\" :title=\"v.name\">\n                  <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"v.name\" width=\"50\" />\n                </div>\n                <div v-if=\"v.owner\" style=\"width: 50px; height: 50px; \" :title=\"v.owner.name + ' & ' + v.item.name\">\n                  <b-img-lazy :src=\"getImageURL(v.owner.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: 0px; top: 0px; \" />\n                  <b-img-lazy :src=\"getImageURL(v.item.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: -20px; top: 15px; \" />\n                </div>\n              </b-link>\n            </div>\n          </div>\n        </b-container>\n      </div>\n    </div>\n\n    <div class=\"content\">\n      <div v-if=\"!progress.completed\" class=\"menu-panel\" style=\"padding: 10px; position: absolute;\">\n        <b-spinner small label=\"Spinning\"></b-spinner>\n      </div>\n      <div v-if=\"progress.result.length != 0\" class=\"total-params\">\n        <div class=\"flex info\">\n          <div><h6>全ユニット合計:</h6></div>\n          <template v-for=\"(e, ei) in allEffectsToHtml(progress.result)\">\n            <div :key=\"ei\" v-html=\"e\" />\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"content\" :style=\"style\">\n\n      <div v-if=\"progress.result.length == 0\" class=\"menu-panel\" style=\"padding: 10px\">\n        <div class=\"about\">\n          <h5 style=\"margin-bottom: 5px\">組み合わせ検索</h5>\n          指定のバフ・デバフの最適な組み合わせを探すツールです。<br />\n          メインキャラ(スキル×装備)×サポート の組み合わせから、競合を考慮しつつ、総効果量の高いものを探索します。<br />\n          例えば「与ダメージバフ＋クリティカルダメージ倍率バフ＋ダメージ耐性デバフ」のいい感じの組み合わせを探したい、というようなケースで役立ちます。<br />\n          <br />\n          味方全体の強化の最適化が目的であるため、自己バフは考慮しません。単体のバフも「<b-link @mouseenter=\"highlight('cb-p-allowSingleUnitBuff', true)\" @mouseleave=\"highlight('cb-p-allowSingleUnitBuff', false)\">単体バフを含める</b-link>」にチェックしていない限り考慮しません。<br />\n          マスターキャラのクラス対象バフや、ゼニス/オリジン/ナディア のシンボル対象バフ、特定のクラスへの追加効果 (<b-link :ref=\"po\">みんな！丸太は持った！？</b-link> のスキル与ダメージなど) は除外しています。<br />\n          シンボルスキルに関しては「<b-link @mouseenter=\"highlight('cb-p-allowSymbolSkill', true)\" @mouseleave=\"highlight('cb-p-allowSymbolSkill', false)\">シンボルスキルを含める</b-link>」をチェックすると含めるようになります。<br />\n          特定のキャラやスキルを除外or優先採用したい場合、アイコンをマウスオーバーすると出てくるポップアップから可能です。<br />\n          特定の効果を優先したい場合は優先度を高めると優先的に選択されます。<br />\n          <br />\n          なお、必ずしも本当に最適な結果になるとは限らないことに注意が必要です。<br />\n          完璧に解くには時間がかかりすぎるため、若干正確性を犠牲にしつつ高速に解く方法を用いています。<br />\n          (アルゴリズムは随時改良中: 2024/01/06)<br />\n        </div>\n      </div>\n\n      <template v-for=\"(r, ri) in progress.result\">\n        <div class=\"character\" :key=\"ri\">\n          <div class=\"flex info\">\n            <div><h6>ユニット内合計:</h6></div>\n            <template v-for=\"(e, ei) in chrEffectsToHtml(r)\">\n              <div :key=\"ei\" v-html=\"e\" />\n            </template>\n          </div>\n          <div class=\"flex\">\n            <div v-if=\"r.main\" class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(r.main.character.icon)\" :title=\"r.main.character.name\" :id=\"'portrait_m_'+ri\" width=\"100\" rounded />\n              <b-popover v-if=\"displayType>=1\" :target=\"'portrait_m_'+ri\" :title=\"r.main.character.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                <div class=\"status flex\">\n                  <b-img-lazy :src=\"getImageURL(r.main.character.class)\" :title=\"'クラス:'+r.main.character.class\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.main.character.symbol)\" :title=\"'シンボル:'+r.main.character.symbol\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.main.character.rarity)\" :title=\"'レアリティ:'+r.main.character.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(r.main.character.damageType)\" :title=\"'攻撃タイプ:'+r.main.character.damageType\" width=\"20\" height=\"20\" /></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{r.main.character.range}}</span></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{r.main.character.move}}</span></div>\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{r.main.character.date}}</span></div>\n                </div>\n                <div class=\"status flex\">\n                  <b-link v-for=\"(skill, si) in r.main.character.skills\" :key=\"si\" @click=\"addPrioritized(skill)\">\n                    <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" />\n                  </b-link>\n                </div>\n                <div class=\"flex exclude-menu\">\n                  <b-button @click=\"addPrioritized(r.main.character)\">このキャラを優先</b-button>\n                </div>\n                <div class=\"flex exclude-menu\">\n                  <b-button @click=\"addExcluded(r.main.character)\">このキャラを除外</b-button>\n                </div>\n              </b-popover>\n            </div>\n            <div v-if=\"r.main\" class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in r.main.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" :id=\"'skill_m_'+ri+'_'+si\" />\n                      <b-popover :target=\"'skill_m_'+ri+'_'+si\" :title=\"skill.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div v-if=\"skill.owners\" class=\"owners\">\n                          所持者:<br />\n                          <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"addPrioritized(owner)\">\n                            <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" />\n                          </b-link>\n                        </div>\n                        <div v-if=\"!skill.isTalent\">\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill)\">このスキルを優先</b-button>\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill, r.main.character)\">このキャラとスキルの組み合わせを優先</b-button>\n                          </div>\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addExcluded(skill)\">このスキルを除外</b-button>\n                            <b-button size=\"sm\" @click=\"addExcluded(skill, r.main.character)\">このキャラとスキルの組み合わせを除外</b-button>\n                          </div>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skill.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(skill, true)\" />\n                        <span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(skill, r.main)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(item, si) in r.main.equipments\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(item.icon)\" :title=\"item.name\" width=\"50\" :id=\"'item_'+ri+'_'+si\" />\n                      <b-popover v-if=\"displayType>=1\" :target=\"'item_'+ri+'_'+si\" :title=\"item.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div class=\"flex exclude-menu\">\n                          <b-button size=\"sm\" @click=\"addPrioritized(item)\">このアイテムを優先</b-button>\n                          <b-button size=\"sm\" @click=\"addPrioritized(item, r.main.character)\">このキャラとアイテムの組み合わせを優先</b-button>\n                        </div>\n                        <div class=\"flex exclude-menu\">\n                          <b-button size=\"sm\" @click=\"addExcluded(item)\">このアイテムを除外</b-button>\n                          <b-button size=\"sm\" @click=\"addExcluded(item, r.main.character)\">このキャラとアイテムの組み合わせを除外</b-button>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6><b-img-lazy :src=\"getImageURL(item.slot)\" :title=\"item.name\" width=\"18\" />{{ item.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(item)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(item, true)\" />\n                        <span v-if=\"item.note\" class=\"note\" v-html=\"noteToHtml(item)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(item, r.main)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex\">\n            <div v-if=\"r.summon\" class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(r.summon.character.icon)\" :title=\"`${r.summon.character.name} (召喚ユニット)`\" :id=\"'portrait_x_'+ri\" width=\"100\" rounded />\n            </div>\n            <div v-if=\"r.summon\" class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in r.summon.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" :id=\"'skill_x_'+ri+'_'+si\" />\n                      <b-popover :target=\"'skill_x_'+ri+'_'+si\" :title=\"skill.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div v-if=\"skill.owners\" class=\"owners\">\n                          所持者:<br />\n                          <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"addPrioritized(owner)\">\n                            <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" height=\"50\" />\n                          </b-link>\n                        </div>\n                        <div v-if=\"!skill.isTalent\">\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill)\">このスキルを優先</b-button>\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill, r.main.character)\">このキャラとスキルの組み合わせを優先</b-button>\n                          </div>\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addExcluded(skill)\">このスキルを除外</b-button>\n                            <b-button size=\"sm\" @click=\"addExcluded(skill, r.main.character)\">このキャラとスキルの組み合わせを除外</b-button>\n                          </div>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skill.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(skill, true)\" />\n                        <span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(skill, r.main)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex\">\n            <div v-if=\"r.support\" class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(r.support.character.icon)\" :title=\"r.support.character.name\" :id=\"'portrait_s_'+ri\" width=\"100\" height=\"100\" rounded />\n              <b-popover v-if=\"displayType>=1\" :target=\"'portrait_s_'+ri\" :title=\"r.support.character.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                <div class=\"status flex\">\n                  <b-img-lazy :src=\"getImageURL(r.support.character.class)\" :title=\"'クラス:'+r.support.character.class\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.support.character.supportType)\" :title=\"'サポートタイプ:'+r.support.character.supportType\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.support.character.rarity)\" :title=\"'レアリティ:'+r.support.character.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(r.support.character.damageType)\" :title=\"'攻撃タイプ:'+r.support.character.damageType\" width=\"20\" height=\"20\" /></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{r.support.character.range}}</span></div>\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{r.support.character.date}}</span></div>\n                </div>\n                <div class=\"status flex\">\n                  <b-link v-for=\"(skill, si) in r.support.character.skills\" :key=\"si\">\n                    <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" />\n                  </b-link>\n                </div>\n                <div class=\"flex exclude-menu\">\n                  <b-button @click=\"addPrioritized(r.support.character)\">このキャラを優先</b-button>\n                </div>\n                <div class=\"flex exclude-menu\">\n                  <b-button @click=\"addExcluded(r.support.character)\">このキャラを除外</b-button>\n                </div>\n              </b-popover>\n            </div>\n            <div v-if=\"r.support\" class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in enumerate(r.support.skills)\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" with=\"50\" height=\"50\" :id=\"'skill_s_'+ri+'_'+si\" />\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skill.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(skill, true)\" />\n                        <span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(skill, r.support)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n      </template>\n    </div>\n\n    <template v-for=\"(e, i) in popoverElements\">\n      <b-popover :target=\"e.element\" :key=\"i\" triggers=\"hover focus\" custom-class=\"item_po\" :title=\"e.name\" placement=\"top\">\n        <div class=\"flex\">\n          <div><b-img-lazy :src=\"getImageURL(e.item.icon)\" width=\"50\" height=\"50\" /></div>\n          <div v-html=\"descToHtml(e.item)\"></div>\n        </div>\n        <div v-if=\"e.item.owners\" class=\"owners\">\n          所持者:<br />\n          <b-img-lazy v-for=\"(owner, oi) in e.item.owners\" :key=\"oi\" :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" height=\"50\" />\n        </div>\n      </b-popover>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport ChrSelector from '../parts/ChrSelector.vue'\nimport commonjs from \"../common.js\";\nimport lookupjs from \"./lookup.js\";\n\nexport default {\n  name: 'Lookup',\n  components: {\n    ChrSelector,\n  },\n  mixins: [commonjs, lookupjs],\n\n  data() {\n    return {\n      popoverElements: [],\n\n      initialState: {},\n      history: [],\n      historyIndex: 0,\n\n      buffFields: [\n        {\n          key: \"enabled\",\n          label: \"\",\n        },\n        {\n          key: \"label\",\n          label: \"種類\",\n        },\n        {\n          key: \"limit\",\n          label: \"上限\",\n        },\n        {\n          key: \"weight\",\n          label: \"優先度\",\n        },\n      ],\n      optionFields: [\n        {\n          key: \"value\",\n          label: \"\",\n        },\n        {\n          key: \"label\",\n          label: \"項目\",\n        },\n      ],\n    };\n  },\n\n  created() {\n    this.setupDB();\n    this.setupFilter();\n\n    const excludeEffect = function (effect) {\n      const cond = effect.condition;\n      if (!this.isPublicTarget(effect.target) ||\n        (cond && (cond.onClass || cond.onSymbol)) ||\n        (effect.isDebuff && effect.ephemeral && !effect.duration)\n      ) {\n        return true;\n      }\n      return false;\n    }.bind(this);\n    for (let skill of this.enumerate(this.mainActive, this.mainPassive, this.mainTalents, this.supActive, this.supPassive, this.items)) {\n      if (skill.buff)\n        skill.buff = skill.buff.filter(s => !excludeEffect(s));\n      if (skill.debuff)\n        skill.debuff = skill.debuff.filter(s => !excludeEffect(s));\n    }\n\n    const makeOptions = function (params) {\n      let r = {};\n      for(const p of params) {\n        const v = p.value;\n        p.type = typeof v;\n        p.reset = function () { this.value = v; };\n        r[p.name] = p;\n      }\n      return r;\n    };\n    this.options = makeOptions([\n      { name: \"maxPickup\", label: \"人を選出\", value: 5, min: 1, max: 10 },\n      { name: \"maxActiveCount\", label: \"アクティブ数制限 (再行動ありを除く)\", value: 2, min: 0, max: 3 },\n      { name: \"allowEngageSkills\", label: \"エンゲージスキルを含める\", value: true },\n      { name: \"allowOnBattle\", label: \"戦闘時発動効果を含める\", value: true },\n      { name: \"allowProbability\", label: \"確率発動効果を含める\", value: true },\n      { name: \"allowSingleUnitBuff\", label: \"単体バフを含める\", value: false },\n      { name: \"allowSymbolSkill\", label: \"シンボルスキルを含める\", value: false },\n      { name: \"allowSupportActive\", label: \"サポートのアクティブを含める\", value: true },\n      { name: \"prioritizeReaction\", label: \"再行動付きを優先する\", value: true },\n    ]);\n\n    const effectTypeTable = this.effectTypeTable;\n    const makeParams = function (prefix, types) {\n      const make = function (t) {\n        const l = t.limit ? t.limit : null;\n        const w = t.weight ? t.weight : 10;\n        const effectType = `${t.label}${prefix}`;\n        return {\n          label: t.label,\n          enabled: false,\n          limit_: l,\n          weight: w,\n          effectType: effectType,\n          effectTypeIndex: effectTypeTable.get(effectType),\n\n          get limit() {\n            return this.parent ? this.parent.limit_ : this.limit_;\n          },\n          set limit(v) {\n            if (!this.parent)\n              this.limit_ = v;\n          },\n          reset() {\n            this.enabled = false;\n            this.limit = l;\n            this.weight = w;\n          }\n        };\n      }\n      return types.map(a => make(a));\n    };\n\n    this.buffs = makeParams(\"+\", [\n      {label: \"アタック\"},\n      {label: \"ディフェンス\"},\n      {label: \"マジック\"},\n      {label: \"レジスト\"},\n      {label: \"クリティカル率\"},\n      {label: \"クリティカルダメージ倍率\"},\n      {label: \"与ダメージ\"},\n      {label: \"与ダメージ(物理)\"},\n      {label: \"与ダメージ(魔法)\"},\n      {label: \"与ダメージ(スキル)\"},\n      {label: \"与ダメージ(範囲スキル)\"},\n      {label: \"与ダメージ(通常攻撃)\"},\n      {label: \"ダメージ耐性\", limit:70},\n      {label: \"ダメージ耐性(物理)\"},\n      {label: \"ダメージ耐性(魔法)\"},\n    ]);\n    this.debuffs = makeParams(\"-\", [\n      {label: \"アタック\", limit:70},\n      {label: \"ディフェンス\", limit:70},\n      {label: \"マジック\", limit:70},\n      {label: \"レジスト\", limit:70},\n      {label: \"与ダメージ\", limit:70},\n      {label: \"ダメージ耐性\"},\n      {label: \"ダメージ耐性(物理)\"},\n      {label: \"ダメージ耐性(魔法)\"},\n    ]);\n\n    const setParent = function (list, childLabel, parentLabel) {\n      let c = list.find(a => a.label == childLabel);\n      let p = list.find(a => a.label == parentLabel);\n      c.parent = p;\n      delete c.limit_;\n    };\n    setParent(this.buffs, \"与ダメージ(物理)\", \"与ダメージ\");\n    setParent(this.buffs, \"与ダメージ(魔法)\", \"与ダメージ\");\n    setParent(this.buffs, \"与ダメージ(スキル)\", \"与ダメージ\");\n    setParent(this.buffs, \"与ダメージ(範囲スキル)\", \"与ダメージ\");\n    setParent(this.buffs, \"ダメージ耐性(物理)\", \"ダメージ耐性\");\n    setParent(this.buffs, \"ダメージ耐性(魔法)\", \"ダメージ耐性\");\n    setParent(this.debuffs, \"ダメージ耐性(物理)\", \"ダメージ耐性\");\n    setParent(this.debuffs, \"ダメージ耐性(魔法)\", \"ダメージ耐性\");\n  },\n\n  mounted() {\n  },\n\n  methods: {\n    findItem(name) {\n      const r = this.searchTableWithName.get(name);\n      if (!r)\n        console.log(`${name} not found`);\n      return r;\n    },\n\n    po(e) {\n      if (e) {\n        let el = e.$el;\n        if (!this.popoverElements.find(e => e === el)) {\n          this.popoverElements.push({\n            name: el.innerText,\n            item: this.findItem(el.innerText),\n            element: el,\n          });\n        }\n      }\n    },\n\n\n    createUsedFlags(parent = null) {\n      if (parent) {\n        return new this.BitFlags(parent);\n      }\n      else {\n        return new this.BitFlags(this.itemCount);\n      }\n    },\n\n    compare(a, b) {\n      return a == b ? 0 : a < b ? 1 : -1;\n    },\n\n    pickMax(iter, evaluator) {\n      let r = null;\n      let highest = 0;\n      for (let v of iter) {\n        let score = evaluator(v);\n        if (score > highest) {\n          r = v;\n          highest = score;\n        }\n      }\n      return [r, highest];\n    },\n\n    doSearch(num) {\n      // reactive getter 回避のためコピーを用意\n      const opt = this.optionValues;\n      let targets = new Array(this.effectTypeIndex);\n      for (let v of this.enabledEffects) {\n        targets[v.effectTypeIndex] = {\n          limit: v.limit,\n          weight: v.weight,\n          effectTypeIndex: v.effectTypeIndex,\n        };\n      }\n      const excluded = [...this.excluded];\n      const prioritized = [...this.prioritized];\n      const isExcluded = this.isExcluded;\n      const isPrioritized = this.isPrioritized;\n\n      const compareScore = function (a, b) {\n        if (a.score == b.score && a.scoreMain)\n          return this.compare(a.scoreMain, b.scoreMain);\n        else\n          return this.compare(a.score, b.score);\n      }.bind(this);\n\n      const effectCondition = function (effect) {\n        if (effect.ephemeral && !effect.duration)\n          return false;\n\n        const cond = effect.condition;\n        const probability = cond?.probability;\n        if (effect.isDebuff) {\n          return (opt.allowOnBattle || !effect.ephemeral) &&\n            (opt.allowProbability || !probability);\n        }\n        else {\n          return (opt.allowSingleUnitBuff || !effect.isSingleTarget) &&\n            (opt.allowOnBattle || !effect.ephemeral) &&\n            (opt.allowProbability || !probability);\n        }\n      };\n      const skillCondition = function (skill) {\n        if (!opt.allowSymbolSkill && skill.isSymbolSkill)\n          return false;\n        if (!opt.allowSupportActive && skill.isActive && skill.isSupportSkill)\n          return false;\n        return true;\n      };\n\n      const findPrioritizedChr = function (scoreList) {\n        for (const p of this.prioritized) {\n          const r = scoreList.find(a => (a.scoreMain != undefined ? a.scoreMain > 0 : a.score > 0) && a.character == p);\n          if (r)\n            return r;\n        }\n        return null;\n      }.bind(this);\n\n      // 高速化のため事前フィルタ\n      const isRelevant = function (item) {\n        if (isExcluded(item))\n          return false;\n        if (item.isSupport) {\n          for (const skill of item.skills) {\n            for (const v of this.enumerateEffects(skill)) {\n              let p = targets[v.effectTypeIndex];\n              if (p && effectCondition(v))\n                return true;\n            }\n          }\n        }\n        else {\n          for (const v of this.enumerateEffects(item)) {\n            let p = targets[v.effectTypeIndex];\n            if (p && effectCondition(v))\n              return true;\n          }\n        }\n        return false;\n      }.bind(this);\n\n      let mainChrs = this.mainChrs.filter(a => this.filterMatchMainChr(a));\n      let supChrs = this.supChrs.filter(a => isRelevant(a) && this.filterMatchSupChr(a));\n      let weapons = this.weapons.filter(a => isRelevant(a));\n      let armors = this.armors.filter(a => isRelevant(a));\n      let helmets = this.helmets.filter(a => isRelevant(a));\n      let accessories = this.accessories.filter(a => isRelevant(a));\n\n      for (let chr of mainChrs) {\n        if (chr.engage) {\n          chr.skills = opt.allowEngageSkills ? chr.engage.skills : chr.skillsBase;\n        }\n      }\n\n      const createContext = function (parent = null) {\n        let vue = this;\n        let ctx = {\n          totalAmount: new Int32Array(parent ? parent.totalAmount : vue.effectTypeIndex),\n          usedSlots: parent ? [...parent.usedSlots] : new Array(vue.slotIndex),\n          usedSkills: this.createUsedFlags(parent ? parent.usedSkills : null),\n\n          isPrioritized: isPrioritized,\n          isAvailable: function (item, owner = null) {\n            return !this.usedSkills.get(item.index) && !isExcluded(item, owner);\n          },\n          markAsUsed: function (item) {\n            if (item.index)\n              this.usedSkills.set(item.index, true);\n          },\n\n          getEffectValue(effect) {\n            let p = targets[effect.effectTypeIndex];\n            if (p && effectCondition(effect)) {\n              if (effect.slotIndex && this.usedSlots[effect.slotIndex])\n                return [0, p, true];\n\n              const current = this.totalAmount[p.effectTypeIndex];\n              let v = vue.getEffectValue(effect);\n              let hitLimit = false;\n              if (p.limit > 0 && current + v >= p.limit) {\n                hitLimit = true;\n                v = p.limit - current;\n              }\n              return [v, p, hitLimit];\n            }\n            return null;\n          },\n          acceptEffects(effectList) {\n            for (const effect of effectList) {\n              this.totalAmount[effect.effectTypeIndex] += vue.getEffectValue(effect);\n              if (effect.slotIndex)\n                this.usedSlots[effect.slotIndex] = effect;\n            }\n          },\n\n          prepassSkill(skill, owner = null) {\n            if (!skill || !this.isAvailable(skill, owner) || !skillCondition(skill))\n              return 0;\n            let score = 0;\n            for (const v of vue.enumerateEffects(skill)) {\n              let p = this.getEffectValue(v);\n              if (p)\n                score += p[0] * (p[1].weight * 0.1);\n            }\n            if (skill.summon) {\n              let sch = skill.summon[0];\n              for (const s of [sch.talent, ...sch.skills])\n                score += this.prepassSkill(s);\n            }\n            // 無価値なら以降 isAvailable() で速やかに弾く\n            if (score == 0)\n              this.markAsUsed(skill);\n            return score;\n          },\n          prepassChr(chr) {\n            let score = 0;\n            score += this.prepassSkill(chr.talent, chr);\n            for (const skill of chr.skills)\n              score += this.prepassSkill(skill, chr);\n\n            if (chr.isMain) {\n              const enumerateItems = function* (items, chr) {\n                for (let item of items) {\n                  if (!this.usedSkills.get(item.index) && item.classFlags & (1 << chr.classId)) {\n                    yield item;\n                  }\n                }\n              }.bind(this);\n              const pickBest = function (equipments) {\n                return vue.pickMax(enumerateItems(equipments, chr), a => this.prepassSkill(a))[1];\n              }.bind(this);\n\n              // 補正なしだと装備の影響が強すぎるので、適当に減衰係数を用意…\n              const itemRate = 0.5;\n              score += pickBest(weapons) * itemRate;\n              score += pickBest(armors) * itemRate;\n              score += pickBest(helmets) * itemRate;\n              score += pickBest(accessories) * itemRate;\n            }\n\n            // 無価値なら以降 isAvailable() で速やかに弾く\n            if (score == 0)\n              this.markAsUsed(chr);\n            return score;\n          },\n\n          pickCandidates(chrs, num) {\n            chrs = chrs.filter(a => this.isAvailable(a));\n            let tmp = chrs.map(a => [this.prepassChr(a), a]).filter(a => a[0] > 0).sort((a, b) => vue.compare(a[0], b[0])).slice(0, num);\n            let r = tmp.map(a => a[1]);\n            for (let p of vue.prioritized) {\n              if (this.isAvailable(p) && chrs.includes(p) && !r.includes(p)) {\n                r.splice(0, 0, p);\n                break;\n              }\n            }\n            return r;\n          },\n\n        };\n        return ctx;\n      }.bind(this);\n\n      const getChrScore = function (parentCtx, chr) {\n        if (!parentCtx.isAvailable(chr))\n          return null;\n\n        let cctx = createContext(parentCtx);\n        let usedEffects = [];\n        let conflictedEffects = [];\n\n        const getSkillScore = function (ctx, skill) {\n          if (!ctx.isAvailable(skill, chr) || !skillCondition(skill))\n            return 0;\n\n          let r = {\n            skill: skill,\n            score: 0,\n            usedEffects: [],\n            conflictedEffects: [],\n          };\n\n          let scoreBoost = 1;\n          if (skill.multiAction && opt.prioritizeReaction) {\n              // 再行動つきアクティブは優先的に選ぶ\n              scoreBoost += 0.25;\n          }\n \n          for (const effect of this.enumerateEffects(skill)) {\n            const ev = ctx.getEffectValue(effect);\n            if (!ev)\n              continue;\n            const [val, p, hitLimit] = ev;\n\n            let score = val * (p.weight * 0.1) * scoreBoost;\n            if (score > 0) {\n              if (!hitLimit && skill.isActive)\n                score *= Math.pow(Math.min(val / 20, 1), 2); // 中途半端な効果量のアクティブは選ばれにくいようにスコア補正\n              r.score += score;\n              r.usedEffects.push(effect);\n            }\n            else {\n              r.conflictedEffects.push(effect);\n            }\n          }\n\n          if (skill.summon) {\n            let sctx = createContext(ctx);\n            let sch = skill.summon[0];\n            r.summon = {\n              character: sch,\n              skills: [],\n            };\n            for (const s of [sch.talent, ...sch.skills]) {\n              const sr = getSkillScore(sctx, s);\n              if (sr.score > 0) {\n                r.score += sr.score;\n                r.usedEffects = r.usedEffects.concat(sr.usedEffects);\n                r.conflictedEffects = r.conflictedEffects.concat(sr.conflictedEffects);\n                r.summon.skills.push(s);\n                sctx.acceptEffects(sr.usedEffects);\n              }\n            }\n          }\n          return r;\n        }.bind(this);\n\n        const pickEquip = function (ctx, equipments) {\n          const scoreList = equipments.filter(a => this.matchClass(a, chr)).map(a => getSkillScore(ctx, a));\n          for (const s of scoreList)\n            if (s.score > 0 && ctx.isPrioritized(s.skill, chr))\n              return s;\n\n          scoreList.sort(compareScore);\n          if (scoreList.length > 0 && scoreList[0].score > 0)\n            return scoreList[0];\n          return null;\n        }.bind(this);\n\n        const pickSkill = function (ctx, skills, ignoreActive) {\n          let scoreList = [];\n          for (const skill of skills) {\n            if (ignoreActive && skill.isActive && !skill.multiAction)\n              continue;\n\n            const r = getSkillScore(ctx, skill);\n            if (r.score > 0) {\n              if (ctx.isPrioritized(skill, chr))\n                return r;\n              scoreList.push(r);\n            }\n          }\n          if (scoreList.length == 0)\n            return null;\n\n          let r = scoreList.sort(compareScore)[0];\n          return r;\n        }.bind(this);\n\n\n        let result = { character: chr };\n        let score = 0;\n        let skillsScore = [];\n        let equipmentsScore = null;\n        let summonScore = null;\n        let supportScore = null;\n\n        const updateState = function (s) {\n          score += s.score;\n          usedEffects = usedEffects.concat(s.usedEffects);\n          conflictedEffects = conflictedEffects.concat(s.conflictedEffects);\n          cctx.acceptEffects(s.usedEffects);\n        };\n\n        if (chr.isMain) {\n          equipmentsScore = [];\n          for (let equips of [weapons, armors, helmets, accessories]) {\n            let r = pickEquip(cctx, equips);\n            if (r) {\n              equipmentsScore.push(r);\n              updateState(r);\n            }\n          }\n          result.scoreMainItem = score;\n        }\n\n        if (chr.talent) {\n          let r = getSkillScore(cctx, chr.talent);\n          if (r.score > 0) {\n            skillsScore.push(r);\n            updateState(r);\n          }\n        }\n        if (chr.skills) {\n          let tmpSkills = [...chr.skills];\n          let activeCount = false;\n          for (let i = 0; i < 3; ++i) {\n            let r = pickSkill(cctx, tmpSkills, activeCount >= opt.maxActiveCount);\n            if (!r)\n              break;\n\n            tmpSkills.splice(tmpSkills.indexOf(r.skill), 1);\n            skillsScore.push(r);\n            updateState(r);\n            if (r.summon)\n              summonScore = r.summon;\n            if (r.skill.isActive && !r.skill.multiAction)\n              ++activeCount;\n          }\n        }\n\n        if (chr.isMain) {\n          result.scoreMainSkill = score - result.scoreMainItem;\n          result.scoreMain = score;\n        }\n\n        result.score = score;\n        result.skills = skillsScore.map(a => a.skill);\n        if (equipmentsScore)\n          result.equipments = equipmentsScore.map(a => a.skill);\n        if (summonScore)\n          result.summon = summonScore;\n        if (supportScore)\n          result.support = supportScore;\n        result.usedEffects = usedEffects;\n        result.conflictedEffects = conflictedEffects;\n        return result;\n      }.bind(this);\n\n\n      let bestScore = 0;\n      let bestSkillCount = 0;\n      let bestResult = [];\n      let searchCount = 0;\n      const updateBest = function (r, depth, resultGetter) {\n        ++searchCount;\n\n        let update = r.score > bestScore;\n        if (r.score == bestScore) {\n          if (depth < bestResult.length) {\n            update = true;\n          }\n          else if (depth == bestResult.length) {\n            if (r.skillCount < bestSkillCount) {\n              update = true;\n            }\n          }\n        }\n\n        if (update) {\n          bestScore = r.score;\n          bestSkillCount = r.skillCount;\n          bestResult = resultGetter();\n          //console.log(r.score, r.skillCount, bestResult);\n        }\n      };\n\n      const searchRecursive = function (pctx, results, stack = [], depth = 0) {\n        const mainPickCounts = [5, 4, 3, 3, 2, 2, 2, 2, 2, 2];\n        const supPickCounts = [2, 2, 1, 1, 1, 1, 1, 1, 1, 1];\n        if (depth > mainPickCounts.length)\n          return;\n        let mainPickCount = mainPickCounts[depth];\n        let supPickCount = supPickCounts[depth];\n\n        // サポートを先に処理\n        let sups = pctx.pickCandidates(supChrs, supPickCount);\n        let supScores = sups.map(a => getChrScore(pctx, a)).filter(a => a && a.score > 0).sort(compareScore);\n        let prioSup = findPrioritizedChr(supScores);\n        if (prioSup) {\n          supScores = [prioSup];\n        }\n        else if (supScores.length == 0) {\n          supScores = [null];\n        }\n\n        for (let ss of supScores) {\n          let sctx = createContext(pctx);\n          let supportScore = 0;\n          if (ss) {\n            sctx.acceptEffects(ss.usedEffects);\n            supportScore = ss.score;\n          }\n\n          let mains = sctx.pickCandidates(mainChrs, mainPickCount);\n          let mainScores = mains.map(a => getChrScore(sctx, a)).filter(a => a).sort(compareScore);\n          if (mainScores.length == 0 || supportScore + mainScores[0].score == 0)\n            return;\n          let prioMain = findPrioritizedChr(mainScores);\n          if (prioMain) {\n            mainScores = [prioMain];\n          }\n\n          for (let ms of mainScores) {\n            let mctx = createContext(sctx);\n            let pr = stack.length ? stack[stack.length - 1] : null;\n            let r = {\n              score: pr ? pr.score : 0,\n              skillCount: pr ? pr.skillCount : 0,\n              usedEffects: [],\n              conflictedEffects: [],\n              children: [],\n            };\n            results.push(r);\n\n            const updateState = function (s) {\n              r.score += s.score;\n              r.skillCount += s.skills.length;\n              if (s.equipments)\n                r.skillCount += s.equipments.length;\n              if (s.usedEffects.length)\n                r.usedEffects.splice(r.usedEffects.length, 0, ...s.usedEffects);\n              if (s.conflictedEffects.length)\n                r.conflictedEffects.splice(r.conflictedEffects.length, 0, ...s.conflictedEffects);\n            };\n            if (ss) {\n              updateState(ss);\n              r.support = ss;\n            }\n            {\n              updateState(ms);\n              mctx.acceptEffects(ms.usedEffects);\n              r.main = ms;\n              if (ms.summon)\n                r.summon = ms.summon;\n            }\n            for (let v of [r.main, r.summon, r.support]) {\n              if (v) {\n                mctx.markAsUsed(v.character);\n                for (const s of this.enumerate(v.skills, v.equipments))\n                  mctx.markAsUsed(s);\n              }\n            }\n\n            if (depth + 1 < num) {\n              let cstack = [...stack, r];\n              searchRecursive(mctx, r.children, cstack, depth + 1);\n\n              if (r.children.length == 0)\n                updateBest(r, depth + 1, () => cstack);\n            }\n            else {\n              updateBest(r, depth + 1, () => [...stack, r]);\n            }\n          }\n        }\n\n      }.bind(this);\n\n      let ctx = createContext();\n      let results = [];\n      searchRecursive(ctx, results);\n\n      return bestResult;\n    },\n\n    beginSearch() {\n      this.progress.completed = false;\n\n      const body = function () {\n        this.progress.result = this.doSearch(this.options.maxPickup.value);\n        this.progress.completed = true;\n      }.bind(this);\n      //requestIdleCallback(body);\n      setTimeout(body, 500);\n    },\n\n    updateQuery() {\n      this.beginSearch();\n    },\n\n    enableBuf(label) {\n      for (let e of this.buffs) {\n        if (e.label == label) {\n          e.enabled = true;\n          break;\n        }\n      }\n    },\n    enableDebuf(label) {\n      for (let e of this.debuffs) {\n        if (e.label == label) {\n          e.enabled = true;\n          break;\n        }\n      }\n    },\n\n    presetAll() {\n      for (let e of this.buffs) {\n        e.enabled = true;\n      }\n      for (let e of this.debuffs) {\n        e.enabled = true;\n      }\n    },\n    presetPAtk() {\n      for (const l of [\"アタック\", \"クリティカルダメージ倍率\", \"与ダメージ\", \"与ダメージ(物理)\", \"与ダメージ(スキル)\", \"与ダメージ(範囲スキル)\", \"与ダメージ(通常攻撃)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"ダメージ耐性\", \"ダメージ耐性(物理)\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetMAtk() {\n      for (const l of [\"マジック\", \"クリティカルダメージ倍率\", \"与ダメージ\", \"与ダメージ(魔法)\", \"与ダメージ(スキル)\", \"与ダメージ(範囲スキル)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"ダメージ耐性\", \"ダメージ耐性(魔法)\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetPDef() {\n      for (const l of [\"ディフェンス\", \"ダメージ耐性\", \"ダメージ耐性(物理)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"アタック\", \"与ダメージ\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetMDef() {\n      for (const l of [\"レジスト\", \"ダメージ耐性\", \"ダメージ耐性(魔法)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"マジック\", \"与ダメージ\"]) {\n        this.enableDebuf(l);\n      }\n    },\n  },\n\n  computed: {\n    optionValues() {\n      const opt = this.options;\n      let r = {};\n      for (const k in opt)\n        r[k] = opt[k].value;\n      return r;\n    },\n    enabledEffects() {\n      return [...this.buffs.filter(a => a.enabled), ...this.debuffs.filter(a => a.enabled)];\n    },\n  },\n}\n</script>\n\n<style scoped src=\"./lookup.css\">\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CombinationBufSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CombinationBufSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CombinationBufSimulator.vue?vue&type=template&id=4bb6b27d&scoped=true&\"\nimport script from \"./CombinationBufSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./CombinationBufSimulator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./lookup.css?vue&type=style&index=0&id=4bb6b27d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb6b27d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\"},[_c('div',{staticClass:\"menu-content\",staticStyle:{\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"menu-panel\"},[_c('b-container',[_c('div',[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"設定\")])]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":Object.values(_vm.options),\"fields\":_vm.optionFields},scopedSlots:_vm._u([{key:\"cell(value)\",fn:function(r){return [_c('div',{staticClass:\"flex\"},[_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[(r.item.type == 'boolean')?_c('b-form-checkbox',{model:{value:(r.item.value),callback:function ($$v) {_vm.$set(r.item, \"value\", $$v)},expression:\"r.item.value\"}}):_vm._e(),(r.item.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"3em\"},attrs:{\"min\":r.item.min,\"max\":r.item.max,\"size\":\"sm\",\"type\":\"number\",\"lazy\":\"\"},model:{value:(r.item.value),callback:function ($$v) {_vm.$set(r.item, \"value\", _vm._n($$v))},expression:\"r.item.value\"}}):_vm._e()],1)])]}},{key:\"cell(label)\",fn:function(r){return [_c('div',{attrs:{\"id\":`sb-p-${r.item.name}`}},[_vm._v(_vm._s(r.item.label))])]}}])})],1),_c('b-container',[_c('div',[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"フィルタ\")])]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"sb-class-selector\"}},_vm._l((_vm.filter.class),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"20px\"}})],1)}),1)],1)]),_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"sb-symbol-selector\"}},_vm._l((_vm.filter.symbol),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.symbols[i]),\"width\":\"20px\"}})],1)}),1)],1),_c('div',{staticClass:\"widget filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"sb-damage-type-selector\"}},_vm._l((_vm.filter.damageType),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.damageTypes[i]),\"width\":\"20px\"}})],1)}),1)],1),_c('div',{staticClass:\"widget rareiry-filter\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"sb-rareiry-selector\"}},_vm._l((_vm.filter.rarity),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.rarities[i]),\"width\":\"30px\"}})],1)}),1)],1)])]),_c('b-container',[_c('div',{staticClass:\"button-box\"},[_c('div',{staticClass:\"left-align\"},[_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetPAtk()}}},[_vm._v(\"物攻系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetMAtk()}}},[_vm._v(\"魔攻系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetPDef()}}},[_vm._v(\"物防系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetMDef()}}},[_vm._v(\"魔防系\")]),_c('b-button',{staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.presetAll()}}},[_vm._v(\"全て\")])],1)]),_c('div',{staticClass:\"button-box\"},[_c('div',{staticClass:\"left-align\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"id\":\"sb-copy-url\"},on:{\"click\":function($event){_vm.copyToClipboard(_vm.getParamsUrl())}}},[_vm._v(\"パラメータを URL としてコピー\")]),_c('b-popover',{attrs:{\"target\":\"sb-copy-url\",\"triggers\":\"click blur\",\"placement\":\"top\",\"custom-class\":\"url-popover\"}},[_vm._v(\" コピーしました：\"),_c('br'),_vm._v(_vm._s(_vm.getParamsUrl())+\" \")])],1)])])],1),_c('div',{staticClass:\"menu-panel\"},[_c('b-container',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"バフ\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.buffs.forEach(a => a.reset())}}},[_vm._v(\"リセット\")])],1)]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":_vm.buffs,\"fields\":_vm.buffFields},scopedSlots:_vm._u([{key:\"cell(enabled)\",fn:function(r){return [_c('b-form-checkbox',{model:{value:(r.item.enabled),callback:function ($$v) {_vm.$set(r.item, \"enabled\", $$v)},expression:\"r.item.enabled\"}})]}},{key:\"cell(label)\",fn:function(r){return [_vm._v(\" \"+_vm._s(r.item.label)+\" \")]}}])})],1)],1),_c('div',{staticClass:\"menu-panel\"},[_c('b-container',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"デバフ\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.debuffs.forEach(a => a.reset())}}},[_vm._v(\"リセット\")])],1)]),_c('b-table',{attrs:{\"small\":\"\",\"borderless\":\"\",\"hover\":\"\",\"items\":_vm.debuffs,\"fields\":_vm.buffFields},scopedSlots:_vm._u([{key:\"cell(enabled)\",fn:function(r){return [_c('b-form-checkbox',{model:{value:(r.item.enabled),callback:function ($$v) {_vm.$set(r.item, \"enabled\", $$v)},expression:\"r.item.enabled\"}})]}},{key:\"cell(label)\",fn:function(r){return [_vm._v(\" \"+_vm._s(r.item.label)+\" \")]}}])})],1)],1),_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"sb-exclude-list\"}},[_c('b-container',[_c('div',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"優先リスト\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.prioritized=[]}}},[_vm._v(\"クリア\")])],1)]),_c('div',{staticClass:\"flex exclude-box\"},_vm._l((_vm.prioritized),function(v,i){return _c('b-link',{key:i,on:{\"click\":function($event){_vm.prioritized.splice(_vm.prioritized.indexOf(v), 1)}}},[(!v.owner)?_c('div',{attrs:{\"title\":v.name}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":v.name,\"width\":\"50\"}})],1):_vm._e(),(v.owner)?_c('div',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"title\":v.owner.name + ' & ' + v.item.name}},[_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"0px\",\"top\":\"0px\"},attrs:{\"src\":_vm.getImageURL(v.owner.icon),\"title\":v.name,\"width\":\"35\"}}),_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"-20px\",\"top\":\"15px\"},attrs:{\"src\":_vm.getImageURL(v.item.icon),\"title\":v.name,\"width\":\"35\"}})],1):_vm._e()])}),1)]),_c('div',[_c('div',{staticClass:\"flex\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"除外リスト\")]),_c('div',{staticClass:\"right-align\"},[_c('b-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.excluded=[]}}},[_vm._v(\"クリア\")])],1)]),_c('div',{staticClass:\"flex exclude-box\"},_vm._l((_vm.excluded),function(v,i){return _c('b-link',{key:i,on:{\"click\":function($event){_vm.excluded.splice(_vm.excluded.indexOf(v), 1)}}},[(!v.owner)?_c('div',{attrs:{\"title\":v.name}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":v.name,\"width\":\"50\"}})],1):_vm._e(),(v.owner)?_c('div',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"title\":v.owner.name + ' & ' + v.item.name}},[_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"0px\",\"top\":\"0px\"},attrs:{\"src\":_vm.getImageURL(v.owner.icon),\"title\":v.name,\"width\":\"35\"}}),_c('b-img-lazy',{staticStyle:{\"position\":\"relative\",\"left\":\"-20px\",\"top\":\"15px\"},attrs:{\"src\":_vm.getImageURL(v.item.icon),\"title\":v.name,\"width\":\"35\"}})],1):_vm._e()])}),1)])])],1)]),_c('div',{staticClass:\"content\",style:(_vm.style)},[(!_vm.progress.completed)?_c('div',{staticClass:\"menu-panel\",staticStyle:{\"padding\":\"10px\",\"position\":\"absolute\"}},[_c('b-spinner',{attrs:{\"small\":\"\",\"label\":\"Spinning\"}})],1):_vm._e(),(_vm.progress.result.length == 0)?_c('div',{staticClass:\"menu-panel\",staticStyle:{\"padding\":\"10px\"}},[_vm._m(0)]):_vm._e(),_vm._l((_vm.progress.result),function(r,ri){return [_c('div',{key:ri,staticClass:\"character\"},[_c('div',{staticClass:\"flex info\"},[_c('div',[_c('h6',[_vm._v(\"合計 \"+_vm._s(r.score)+\":\")])]),_vm._l((_vm.chrEffectsToHtml(r)),function(e,ei){return [_c('div',{key:ei,domProps:{\"innerHTML\":_vm._s(e)}})]})],2),_c('div',{staticClass:\"flex\"},[(r.main)?_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.icon),\"title\":r.main.character.name,\"id\":'portrait_sbm_'+ri,\"width\":\"100\",\"rounded\":\"\"}}),(_vm.displayType>=1)?_c('b-popover',{attrs:{\"target\":'portrait_sbm_'+ri,\"title\":r.main.character.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[_c('div',{staticClass:\"status flex\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.class),\"title\":'クラス:'+r.main.character.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.symbol),\"title\":'シンボル:'+r.main.character.symbol,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.rarity),\"title\":'レアリティ:'+r.main.character.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.main.character.damageType),\"title\":'攻撃タイプ:'+r.main.character.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(r.main.character.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(r.main.character.move))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"実装日:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(r.main.character.date))])])],1),_c('div',{staticClass:\"status flex\"},_vm._l((r.main.character.skills),function(skill,si){return _c('b-link',{key:si,on:{\"click\":function($event){return _vm.addPrioritized(skill)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\"}})],1)}),1)]):_vm._e()],1):_vm._e(),(r.main)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"skills\"},_vm._l((r.main.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\",\"id\":'skill_sbm_'+ri+'_'+si}}),_c('b-popover',{attrs:{\"target\":'skill_sbm_'+ri+'_'+si,\"title\":skill.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.addPrioritized(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\"}})],1)})],2):_vm._e(),(!skill.isTalent)?_c('div',[_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill)}}},[_vm._v(\"このスキルを優先\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addPrioritized(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを優先\")])],1),_c('div',{staticClass:\"flex exclude-menu\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill)}}},[_vm._v(\"このスキルを除外\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addExcluded(skill, r.main.character)}}},[_vm._v(\"このキャラとスキルの組み合わせを除外\")])],1)]):_vm._e()])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill, true))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(skill, r.main))}})])])])])}),0)]):_vm._e()]),_c('div',{staticClass:\"flex\"},[(r.summon)?_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(r.summon.character.icon),\"title\":`${r.summon.character.name} (召喚ユニット)`,\"id\":'portrait_sbx_'+ri,\"width\":\"100\",\"rounded\":\"\"}})],1):_vm._e(),(r.summon)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"skills\"},_vm._l((r.summon.skills),function(skill,si){return _c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":skill.name,\"width\":\"50\",\"id\":'skill_sbx_'+ri+'_'+si}}),_c('b-popover',{attrs:{\"target\":'skill_sbx_'+ri+'_'+si,\"title\":skill.name,\"triggers\":\"hover click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"top\"}},[(skill.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((skill.owners),function(owner,oi){return _c('b-link',{key:oi,on:{\"click\":function($event){return _vm.addPrioritized(owner)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":owner.name,\"width\":\"50\",\"height\":\"50\"}})],1)})],2):_vm._e()])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill, true))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e(),_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.effectsToHtml(skill, r.main))}})])])])])}),0)]):_vm._e()])])]})],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h5',{staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(\"自己バフ検索\")]),_vm._v(\" こちらは自己バフを含むメインキャラ単身のタレント＋スキルのバフ・デバフの総合値を算出します。\"),_c('br'),_vm._v(\" キャラ性能を測る一つの指標になるでしょう。\"),_c('br'),_c('br'),_vm._v(\" こちらもアクティブ同士の競合は考慮されています。\"),_c('br'),_vm._v(\" 特定のスキルを除外or優先採用したい場合、アイコンをマウスオーバーすると出てくるポップアップから可能です。 \")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"root\">\n\n    <div class=\"menu-content\" style=\"flex-wrap: nowrap\">\n      <div class=\"menu-panel\">\n        <b-container>\n          <div>\n            <h3 style=\"margin: 5px 0px\">設定</h3>\n          </div>\n          <b-table small borderless hover :items=\"Object.values(options)\" :fields=\"optionFields\">\n            <template #cell(value)=\"r\">\n              <div class=\"flex\">\n                <div style=\"margin-left: auto\">\n                  <b-form-checkbox v-if=\"r.item.type == 'boolean'\" v-model=\"r.item.value\"></b-form-checkbox>\n                  <b-form-input v-if=\"r.item.type == 'number'\" style=\"width: 3em\" v-model.number=\"r.item.value\" :min=\"r.item.min\" :max=\"r.item.max\" size=\"sm\" type=\"number\" class=\"input-param\" lazy></b-form-input>\n                </div>\n              </div>\n            </template>\n            <template #cell(label)=\"r\">\n              <div :id=\"`sb-p-${r.item.name}`\">{{r.item.label}}</div>\n            </template>\n          </b-table>\n        </b-container>\n\n        <b-container>\n          <div>\n            <h3 style=\"margin: 5px 0px\">フィルタ</h3>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <b-button-group size=\"sm\" id=\"sb-class-selector\">\n                <b-button v-for=\"(c, i) in filter.class\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget filter\">\n              <b-button-group size=\"sm\" id=\"sb-symbol-selector\">\n                <b-button v-for=\"(c, i) in filter.symbol\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(symbols[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget filter\">\n              <b-button-group size=\"sm\" id=\"sb-damage-type-selector\">\n                <b-button v-for=\"(c, i) in filter.damageType\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(damageTypes[i])\" width=\"20px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n            <div class=\"widget rareiry-filter\">\n              <b-button-group size=\"sm\" id=\"sb-rareiry-selector\">\n                <b-button v-for=\"(c, i) in filter.rarity\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n                  <b-img-lazy :src=\"getImageURL(rarities[i])\" width=\"30px\" />\n                </b-button>\n              </b-button-group>\n            </div>\n          </div>\n        </b-container>\n\n        <b-container>\n          <div class=\"button-box\">\n            <div class=\"left-align\">\n              <b-button size=\"sm\" @click=\"presetPAtk()\" style=\"margin-right: 3px\">物攻系</b-button>\n              <b-button size=\"sm\" @click=\"presetMAtk()\" style=\"margin-right: 3px\">魔攻系</b-button>\n              <b-button size=\"sm\" @click=\"presetPDef()\" style=\"margin-right: 3px\">物防系</b-button>\n              <b-button size=\"sm\" @click=\"presetMDef()\" style=\"margin-right: 3px\">魔防系</b-button>\n              <b-button size=\"sm\" @click=\"presetAll()\" style=\"margin-right: 3px\">全て</b-button>\n            </div>\n          </div>\n          <div class=\"button-box\">\n            <div class=\"left-align\">\n              <b-button size=\"sm\" id=\"sb-copy-url\" @click=\"copyToClipboard(getParamsUrl())\">パラメータを URL としてコピー</b-button>\n              <b-popover target=\"sb-copy-url\" triggers=\"click blur\" placement=\"top\" custom-class=\"url-popover\">\n                コピーしました：<br />{{ getParamsUrl() }}\n              </b-popover>\n            </div>\n          </div>\n        </b-container>\n      </div>\n\n      <div class=\"menu-panel\">\n        <b-container>\n          <div class=\"flex\">\n            <h3 style=\"margin: 5px 0px\">バフ</h3>\n            <div class=\"right-align\">\n              <b-button size=\"sm\" @click=\"buffs.forEach(a => a.reset())\">リセット</b-button>\n            </div>\n          </div>\n          <b-table small borderless hover :items=\"buffs\" :fields=\"buffFields\">\n            <template #cell(enabled)=\"r\">\n              <b-form-checkbox v-model=\"r.item.enabled\"></b-form-checkbox>\n            </template>\n            <template #cell(label)=\"r\">\n              {{r.item.label}}\n            </template>\n          </b-table>\n        </b-container>\n      </div>\n      <div class=\"menu-panel\">\n        <b-container>\n          <div class=\"flex\">\n            <h3 style=\"margin: 5px 0px\">デバフ</h3>\n            <div class=\"right-align\">\n              <b-button size=\"sm\" @click=\"debuffs.forEach(a => a.reset())\">リセット</b-button>\n            </div>\n          </div>\n          <b-table small borderless hover :items=\"debuffs\" :fields=\"buffFields\">\n            <template #cell(enabled)=\"r\">\n              <b-form-checkbox v-model=\"r.item.enabled\"></b-form-checkbox>\n            </template>\n            <template #cell(label)=\"r\">\n              {{r.item.label}}\n            </template>\n          </b-table>\n        </b-container>\n      </div>\n\n      <div class=\"menu-panel\" id=\"sb-exclude-list\">\n        <b-container>\n          <div>\n            <div class=\"flex\">\n              <h3 style=\"margin: 5px 0px\">優先リスト</h3>\n              <div class=\"right-align\">\n                <b-button size=\"sm\" @click=\"prioritized=[]\" style=\"margin-left: 5px\">クリア</b-button>\n              </div>\n            </div>\n            <div class=\"flex exclude-box\">\n              <b-link v-for=\"(v, i) in prioritized\" :key=\"i\" @click=\"prioritized.splice(prioritized.indexOf(v), 1)\">\n                <div v-if=\"!v.owner\" :title=\"v.name\">\n                  <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"v.name\" width=\"50\" />\n                </div>\n                <div v-if=\"v.owner\" style=\"width: 50px; height: 50px;\" :title=\"v.owner.name + ' & ' + v.item.name\">\n                  <b-img-lazy :src=\"getImageURL(v.owner.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: 0px; top: 0px; \" />\n                  <b-img-lazy :src=\"getImageURL(v.item.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: -20px; top: 15px; \" />\n                </div>\n              </b-link>\n            </div>\n          </div>\n          <div>\n            <div class=\"flex\">\n              <h3 style=\"margin: 5px 0px\">除外リスト</h3>\n              <div class=\"right-align\">\n                <b-button size=\"sm\" @click=\"excluded=[]\" style=\"margin-left: 5px\">クリア</b-button>\n              </div>\n            </div>\n            <div class=\"flex exclude-box\">\n              <b-link v-for=\"(v, i) in excluded\" :key=\"i\" @click=\"excluded.splice(excluded.indexOf(v), 1)\">\n                <div v-if=\"!v.owner\" :title=\"v.name\">\n                  <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"v.name\" width=\"50\" />\n                </div>\n                <div v-if=\"v.owner\" style=\"width: 50px; height: 50px; \" :title=\"v.owner.name + ' & ' + v.item.name\">\n                  <b-img-lazy :src=\"getImageURL(v.owner.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: 0px; top: 0px; \" />\n                  <b-img-lazy :src=\"getImageURL(v.item.icon)\" :title=\"v.name\" width=\"35\" style=\"position: relative; left: -20px; top: 15px; \" />\n                </div>\n              </b-link>\n            </div>\n          </div>\n        </b-container>\n      </div>\n    </div>\n\n    <div class=\"content\" :style=\"style\">\n      <div v-if=\"!progress.completed\" class=\"menu-panel\" style=\"padding: 10px; position: absolute;\">\n        <b-spinner small label=\"Spinning\"></b-spinner>\n      </div>\n      <div v-if=\"progress.result.length == 0\" class=\"menu-panel\" style=\"padding: 10px\">\n        <div class=\"about\">\n          <h5 style=\"margin-bottom: 5px\">自己バフ検索</h5>\n          こちらは自己バフを含むメインキャラ単身のタレント＋スキルのバフ・デバフの総合値を算出します。<br />\n          キャラ性能を測る一つの指標になるでしょう。<br />\n          <br />\n          こちらもアクティブ同士の競合は考慮されています。<br />\n          特定のスキルを除外or優先採用したい場合、アイコンをマウスオーバーすると出てくるポップアップから可能です。\n        </div>\n      </div>\n\n      <template v-for=\"(r, ri) in progress.result\">\n        <div class=\"character\" :key=\"ri\">\n          <div class=\"flex info\">\n            <div><h6>合計 {{r.score}}:</h6></div>\n            <template v-for=\"(e, ei) in chrEffectsToHtml(r)\">\n              <div :key=\"ei\" v-html=\"e\" />\n            </template>\n          </div>\n          <div class=\"flex\">\n            <div v-if=\"r.main\" class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(r.main.character.icon)\" :title=\"r.main.character.name\" :id=\"'portrait_sbm_'+ri\" width=\"100\" rounded />\n              <b-popover v-if=\"displayType>=1\" :target=\"'portrait_sbm_'+ri\" :title=\"r.main.character.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                <div class=\"status flex\">\n                  <b-img-lazy :src=\"getImageURL(r.main.character.class)\" :title=\"'クラス:'+r.main.character.class\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.main.character.symbol)\" :title=\"'シンボル:'+r.main.character.symbol\" height=\"25\" />\n                  <b-img-lazy :src=\"getImageURL(r.main.character.rarity)\" :title=\"'レアリティ:'+r.main.character.rarity\" height=\"20\" />\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(r.main.character.damageType)\" :title=\"'攻撃タイプ:'+r.main.character.damageType\" width=\"20\" height=\"20\" /></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{r.main.character.range}}</span></div>\n                  <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{r.main.character.move}}</span></div>\n                  <div class=\"param-box\"><span class=\"param-name\">実装日:</span><span class=\"param-value\">{{r.main.character.date}}</span></div>\n                </div>\n                <div class=\"status flex\">\n                  <b-link v-for=\"(skill, si) in r.main.character.skills\" :key=\"si\" @click=\"addPrioritized(skill)\">\n                    <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" />\n                  </b-link>\n                </div>\n              </b-popover>\n            </div>\n            <div v-if=\"r.main\" class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in r.main.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" :id=\"'skill_sbm_'+ri+'_'+si\" />\n                      <b-popover :target=\"'skill_sbm_'+ri+'_'+si\" :title=\"skill.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div v-if=\"skill.owners\" class=\"owners\">\n                          所持者:<br />\n                          <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"addPrioritized(owner)\">\n                            <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" />\n                          </b-link>\n                        </div>\n                        <div v-if=\"!skill.isTalent\">\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill)\">このスキルを優先</b-button>\n                            <b-button size=\"sm\" @click=\"addPrioritized(skill, r.main.character)\">このキャラとスキルの組み合わせを優先</b-button>\n                          </div>\n                          <div class=\"flex exclude-menu\">\n                            <b-button size=\"sm\" @click=\"addExcluded(skill)\">このスキルを除外</b-button>\n                            <b-button size=\"sm\" @click=\"addExcluded(skill, r.main.character)\">このキャラとスキルの組み合わせを除外</b-button>\n                          </div>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skill.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(skill, true)\" />\n                        <span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(skill, r.main)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex\">\n            <div v-if=\"r.summon\" class=\"portrait\">\n              <b-img-lazy :src=\"getImageURL(r.summon.character.icon)\" :title=\"`${r.summon.character.name} (召喚ユニット)`\" :id=\"'portrait_sbx_'+ri\" width=\"100\" rounded />\n            </div>\n            <div v-if=\"r.summon\" class=\"detail\" v-show=\"displayType >= 1\">\n              <div class=\"skills\">\n                <div class=\"skill\" v-for=\"(skill, si) in r.summon.skills\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                  <div class=\"flex\">\n                    <div class=\"icon\">\n                      <b-img-lazy :src=\"getImageURL(skill.icon)\" :title=\"skill.name\" width=\"50\" :id=\"'skill_sbx_'+ri+'_'+si\" />\n                      <b-popover :target=\"'skill_sbx_'+ri+'_'+si\" :title=\"skill.name\" triggers=\"hover click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"top\">\n                        <div v-if=\"skill.owners\" class=\"owners\">\n                          所持者:<br />\n                          <b-link v-for=\"(owner, oi) in skill.owners\" :key=\"oi\" @click=\"addPrioritized(owner)\">\n                            <b-img-lazy :src=\"getImageURL(owner.icon)\" :title=\"owner.name\" width=\"50\" height=\"50\" />\n                          </b-link>\n                        </div>\n                      </b-popover>\n                    </div>\n                    <div class=\"desc\" v-show=\"displayType >= 2\">\n                      <div class=\"flex\">\n                        <h6>{{ skill.name }}</h6>\n                        <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                      </div>\n                      <p>\n                        <span v-html=\"descToHtml(skill, true)\" />\n                        <span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\" />\n                        <span class=\"note\" v-html=\"effectsToHtml(skill, r.main)\" />\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n      </template>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport commonjs from \"../common.js\";\nimport lookupjs from \"./lookup.js\";\n\nexport default {\n  name: 'SelfBufSimulator',\n  components: {\n  },\n  props: {\n  },\n  mixins: [commonjs, lookupjs],\n\n  data() {\n    return {\n      buffFields: [\n        {\n          key: \"enabled\",\n          label: \"\",\n        },\n        {\n          key: \"label\",\n          label: \"種類\",\n        },\n      ],\n      optionFields: [\n        {\n          key: \"value\",\n          label: \"\",\n        },\n        {\n          key: \"label\",\n          label: \"項目\",\n        },\n      ],\n    };\n  },\n\n  created() {\n    this.setupDB();\n    this.setupFilter();\n    for (let s of [...this.mainActive, ...this.mainPassive, ...this.mainTalents]) {\n      this.removeEffectsOfSameType(s);\n    }\n\n    const makeOptions = function (params) {\n      let r = {};\n      for (const p of params) {\n        const v = p.value;\n        p.type = typeof v;\n        p.reset = function () { this.value = v; };\n        r[p.name] = p;\n      }\n      return r;\n    };\n    this.options = makeOptions([\n      { name: \"maxPickup\", label: \"人まで表示\", value: 20, min: 1, max: 200 },\n      { name: \"maxActiveCount\", label: \"アクティブ数制限 (再行動ありを除く)\", value: 2, min: 0, max: 3 },\n      { name: \"allowTalent\", label: \"タレントを含める\", value: true },\n      { name: \"allowPassive\", label: \"パッシブスキルを含める\", value: true },\n      { name: \"allowActive\", label: \"アクティブスキルを含める\", value: true },\n      { name: \"allowEngageSkills\", label: \"エンゲージスキルを含める\", value: true },\n      { name: \"allowOnBattle\", label: \"戦闘時発動効果を含める\", value: true },\n      { name: \"allowProbability\", label: \"確率発動効果を含める\", value: true },\n      { name: \"allowNonReaction\", label: \"再行動なしバフスキルを含める\", value: true },\n    ]);\n\n    const makeParams = function (effectType, types) {\n      const make = function (t) {\n        return {\n          label: t.label,\n          enabled: false,\n\n          reset() {\n            this.enabled = false;\n          }\n        };\n      }\n      return types.map(a => make(a));\n    };\n    this.buffs = makeParams(\"+\", [\n      { label: \"アタック\" },\n      { label: \"ディフェンス\" },\n      { label: \"マジック\" },\n      { label: \"レジスト\" },\n      { label: \"クリティカル率\" },\n      { label: \"クリティカルダメージ倍率\" },\n      { label: \"与ダメージ\" },\n      { label: \"与ダメージ(物理)\" },\n      { label: \"与ダメージ(魔法)\" },\n      { label: \"与ダメージ(スキル)\" },\n      { label: \"与ダメージ(範囲スキル)\" },\n      { label: \"与ダメージ(通常攻撃)\" },\n      { label: \"ダメージ耐性\" },\n      { label: \"ダメージ耐性(物理)\" },\n      { label: \"ダメージ耐性(魔法)\" },\n      { label: \"最大HP\" },\n      { label: \"移動\" },\n    ]);\n    this.debuffs = makeParams(\"-\", [\n      { label: \"アタック\", limit: 70 },\n      { label: \"ディフェンス\", limit: 70 },\n      { label: \"マジック\", limit: 70 },\n      { label: \"レジスト\", limit: 70 },\n      { label: \"与ダメージ\", limit: 70 },\n      { label: \"ダメージ耐性\" },\n      { label: \"ダメージ耐性(物理)\" },\n      { label: \"ダメージ耐性(魔法)\" },\n    ]);\n  },\n  \n  mounted() {\n  },\n\n  methods: {\n    doSearch() {\n      let vue = this;\n      const opt = this.optionValues;\n      const enabledBuffEffects = this.buffs.filter(a => a.enabled).map(a => a.label);\n      const enabledDebuffEffects = this.debuffs.filter(a => a.enabled).map(a => a.label);\n      for (let chr of this.mainChrs) {\n        if (chr.engage) {\n          chr.skills = opt.allowEngageSkills ? chr.engage.skills : chr.skillsBase;\n        }\n      }\n\n      let ctx = {\n        reset() {\n          this.activeCount = 0;\n          this.usedEffects = [];\n          this.conflictedEffects = [];\n          this.usedSlots = new vue.BitFlags(vue.effectTypeIndex);\n        }\n      };\n\n      const getSkillScore = function (chr, skill) {\n        let r = {\n          score: 0,\n          prioritized: this.isPrioritized(skill, chr) ? 1 : 0,\n          excluded: this.isExcluded(skill, chr) ? 1 : 0,\n          skill: skill,\n          usedEffects: [],\n          conflictedEffects: [],\n        };\n        if (r.excluded ||\n          (!opt.allowTalent && skill.isTalent) ||\n          (!opt.allowPassive && skill.isPassive) ||\n          (!opt.allowActive && skill.isActive) ||\n          (skill.isActive && !skill.multiAction && ctx.activeCount >= opt.maxActiveCount))\n        {\n          return r;\n        }\n\n        const evalCondition = function (effect) {\n          if ((!effect.value && !effect.variable && !effect.add) ||\n            (skill.isActive && !effect.duration))\n            return;\n\n          const cond = effect.condition;\n          const probability = cond?.probability;\n          if ((!opt.allowOnBattle && effect.ephemeral) ||\n            (!opt.allowProbability && probability) ||\n            (!opt.allowNonReaction && skill.isActive && !skill.multiAction && !skill.damageRate))\n            return false;\n          return true;\n        };\n\n        if (skill.buff) {\n          for (const effect of skill.buff) {\n            if (!(enabledBuffEffects.includes(effect.type)))\n              continue;\n            if (!evalCondition(effect))\n              continue;\n\n            if (effect.slotIndex && ctx.usedSlots.get(effect.slotIndex)) {\n              r.conflictedEffects.push(effect);\n            }\n            else {\n              r.score += this.getEffectValue(effect);\n              r.usedEffects.push(effect);\n            }\n          }\n        }\n        if (skill.debuff) {\n          for (const effect of skill.debuff) {\n            if (!enabledDebuffEffects.includes(effect.type))\n              continue;\n            if (!evalCondition(effect))\n              continue;\n\n            if (effect.slotIndex && ctx.usedSlots.get(effect.slotIndex)) {\n              r.conflictedEffects.push(effect);\n            }\n            else {\n              r.score += this.getEffectValue(effect);\n              r.usedEffects.push(effect);\n            }\n          }\n        }\n        return r;\n      }.bind(this);\n\n      let scoreTableChr = [];\n      for (const chr of this.mainChrs) {\n        if (!this.filterMatchMainChr(chr))\n          continue;\n\n        ctx.reset();\n        let skillScore = [];\n\n        const addSkill = function (score) {\n          skillScore.push(score);\n          for (const effect of score.usedEffects) {\n            if (effect.slotIndex) {\n              ctx.usedSlots.set(effect.slotIndex, true);\n            }\n          }\n          ctx.usedEffects = ctx.usedEffects.concat(score.usedEffects);\n          ctx.conflictedEffects = ctx.conflictedEffects.concat(score.conflictedEffects);\n          if (score.skill.isActive && !score.skill.multiAction)\n            ++ctx.activeCount;\n        };\n\n        addSkill(getSkillScore(chr, chr.talent));\n        let skills = [...chr.skills];\n        for (let si = 0; si < 3; ++si) {\n          // スキルを選ぶ度に他のスキルのスコアが変動しうるので、再評価が必要\n          let tmp = skills.map(skill => getSkillScore(chr, skill));\n          tmp = tmp.sort((a, b) => b.score - a.score).sort((a, b) => b.prioritized - a.prioritized);\n          addSkill(tmp[0]);\n          skills.splice(skills.indexOf(tmp[0].skill), 1);\n        }\n        skillScore = skillScore.filter(a => a.score > 0 || a.prioritized);\n\n        let score = {\n          name: chr.name,\n          score: 0,\n          main: {\n            character: chr,\n            usedEffects: ctx.usedEffects,\n            conflictedEffects: ctx.conflictedEffects,\n            skills: skillScore.map(ss => ss.skill),\n          }\n        };\n        score.score = skillScore.reduce((total, current) => total + current.score, 0);\n        scoreTableChr.push(score);\n      }\n\n      return scoreTableChr.filter(a => a.score > 0).sort((a, b) => b.score - a.score).slice(0, opt.maxPickup);\n    },\n\n    beginSearch() {\n      if (!this.progress.completed) {\n        this.pending = true;\n        return false;\n      }\n\n      this.progress.completed = false;\n      const body = function () {\n        this.progress.result = this.doSearch(this.options.maxPickup.value);\n        this.progress.completed = true;\n      }.bind(this);\n      setTimeout(body, 300);\n      return true;\n    },\n\n    updateQuery() {\n      this.beginSearch();\n    },\n\n\n    enableBuf(label) {\n      for (let e of this.buffs) {\n        if (e.label == label) {\n          e.enabled = true;\n          break;\n        }\n      }\n    },\n    enableDebuf(label) {\n      for (let e of this.debuffs) {\n        if (e.label == label) {\n          e.enabled = true;\n          break;\n        }\n      }\n    },\n\n    presetAll() {\n      for (let e of this.buffs) {\n        e.enabled = true;\n      }\n      for (let e of this.debuffs) {\n        e.enabled = true;\n      }\n    },\n    presetPAtk() {\n      for (const l of [\"アタック\", \"クリティカルダメージ倍率\", \"与ダメージ\", \"与ダメージ(物理)\", \"与ダメージ(スキル)\", \"与ダメージ(範囲スキル)\", \"与ダメージ(通常攻撃)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"ダメージ耐性\", \"ダメージ耐性(物理)\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetMAtk() {\n      for (const l of [\"マジック\", \"クリティカルダメージ倍率\", \"与ダメージ\", \"与ダメージ(魔法)\", \"与ダメージ(スキル)\", \"与ダメージ(範囲スキル)\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"ダメージ耐性\", \"ダメージ耐性(魔法)\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetPDef() {\n      for (const l of [\"ディフェンス\", \"ダメージ耐性\", \"ダメージ耐性(物理)\", \"最大HP\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"アタック\", \"与ダメージ\"]) {\n        this.enableDebuf(l);\n      }\n    },\n    presetMDef() {\n      for (const l of [\"レジスト\", \"ダメージ耐性\", \"ダメージ耐性(魔法)\", \"最大HP\"]) {\n        this.enableBuf(l);\n      }\n      for (const l of [\"マジック\", \"与ダメージ\"]) {\n        this.enableDebuf(l);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped src=\"./lookup.css\">\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelfBufSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelfBufSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelfBufSimulator.vue?vue&type=template&id=121de73c&scoped=true&\"\nimport script from \"./SelfBufSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./SelfBufSimulator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./lookup.css?vue&type=style&index=0&id=121de73c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"121de73c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n    </div>\n    <div style=\"padding-top: 60px; background: #d0d0d4; \">\n    </div>\n    <div class=\"root\" style=\"\">\n      <b-tabs nav-class=\"tab-index\" active-nav-item-class=\"tab-title-active\" v-model=\"tabIndex\">\n        <b-tab title-link-class=\"tab-title\">\n          <template #title>\n            <h2 style=\"margin: 0em 1em; font-size: 1.25em;\">組み合わせ検索</h2>\n          </template>\n          <CombinationBufSimulator ref=\"cbSim\" />\n        </b-tab>\n        <b-tab title-link-class=\"tab-title\">\n          <template #title>\n            <h2 style=\"margin: 0em 1em; font-size: 1.25em;\">自己バフ検索</h2>\n          </template>\n          <SelfBufSimulator ref=\"sbSim\" />\n        </b-tab>\n      </b-tabs>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport CombinationBufSimulator from './simulator/CombinationBufSimulator.vue'\nimport SelfBufSimulator from './simulator/SelfBufSimulator.vue'\nimport commonjs from \"./common.js\";\nimport lookupjs from \"./simulator/lookup.js\";\n\nexport default {\n  name: 'Lookup',\n  components: {\n    Navigation,\n    CombinationBufSimulator,\n    SelfBufSimulator,\n  },\n  mixins: [commonjs, lookupjs],\n\n  data() {\n    return {\n      tabIndex: 0,\n    };\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: 組み合わせ検索\";\n  },\n\n  mounted() {\n    const handleURLUpdate = function() {\n      this.$nextTick(function () {\n        this.enableUpdateURL = false;\n        this.decodeURL();\n        this.$nextTick(function () {\n          this.enableUpdateURL = true;\n        });\n      });\n    }.bind(this);\n\n    handleURLUpdate();\n    window.onpopstate = handleURLUpdate;\n  },\n\n  methods: {\n    decodeURL() {\n      const params = this.parseParamsUrl(window.location.href);\n      //console.log(params);\n      if (Object.hasOwn(params, \"t\")) {\n        this.tabIndex = params.t;\n      }\n      else {\n        this.tabIndex = 0;\n      }\n\n      if (Object.hasOwn(params, \"p\")) {\n        let target = [this.$refs.cbSim, this.$refs.sbSim][this.tabIndex];\n        target.deserializeParams(params.p);\n      }\n    },\n    updateURL() {\n      if (!this.enableUpdateURL)\n        return false;\n\n      let url = `?t=${this.tabIndex}`;\n      if (url != this.prevURL) {\n        window.history.pushState(null, null, url);\n        this.prevURL = url;\n        return true;\n      }\n      return false;\n    },\n  },\n\n  watch: {\n    tabIndex: function () {\n      this.updateURL();\n    },\n  },\n}\n</script>\n\n<style scoped>\n</style>\n\n<style>\n  .tab-index {\n    border-color: #c0c0c0 !important;\n    background: #d0d0d4;\n  }\n\n  .tab-title {\n  }\n\n  .tab-title:focus, .tab-title:hover {\n    border-color: #c0c0c0 #c0c0c0 rgb(234, 234, 237) !important;\n  }\n\n  .tab-title-active {\n    background: rgb(234, 234, 237) !important;\n    border-color: #c0c0c0 #c0c0c0 rgb(234, 234, 237) !important;\n  }\n\n  .table {\n    margin-bottom: 1px;\n  }\n\n  .desc .table {\n    width: auto;\n    margin: 3px;\n  }\n\n  .input-dropdown button {\n    padding: 0.1em;\n  }\n\n  .table-sm td {\n    padding: 1px;\n    vertical-align: middle;\n  }\n\n  input::placeholder {\n    color: rgb(190, 190, 190) !important;\n    font-size: small !important;\n  }\n\n  .param-highlighted {\n    background-color: rgb(255, 190, 190) !important;\n  }\n\n  .effect-group {\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 5px;\n  }\n\n  .effect-box {\n    margin: 1px 2px;\n    padding: 0px 2px;\n    min-height: 21px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    background: white;\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    font-size: 75%;\n  }\n\n  .exclude-menu {\n    margin-top: 5px;\n  }\n  .exclude-menu .btn {\n    margin-right: 4px;\n  }\n  .exclude-box {\n    flex-wrap: wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n    width: 275px;\n    min-height: 150px;\n    max-height: 200px;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  .button-box {\n    display: flex;\n  }\n  .left-align {\n    margin: 2px auto 2px 0px;\n  }\n  .right-align {\n    margin: 2px 0px 2px auto;\n  }\n\n  .popover {\n    max-width: 450px;\n  }\n\n\n  .filter .btn-outline-secondary {\n  }\n\n  .rareiry-filter .btn-outline-secondary {\n    padding: 4px 0px !important;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Lookup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Lookup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lookup.vue?vue&type=template&id=85c593f8&scoped=true&\"\nimport script from \"./Lookup.vue?vue&type=script&lang=js&\"\nexport * from \"./Lookup.vue?vue&type=script&lang=js&\"\nimport style1 from \"./Lookup.vue?vue&type=style&index=1&id=85c593f8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85c593f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation')],1),_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"70px\"},style:(_vm.style)},[_c('div',{staticClass:\"about\"},[_vm._m(0),_vm._m(1),_vm._m(2),_c('p',[_c('b-link',{attrs:{\"href\":\"https://www.legend-clover.net/\",\"target\":\"_blank\"}},[_vm._v(\"れじぇくろ！\")]),_vm._v(\"の攻略データベースです。主にバフ・デバフを検索するのを目的としています。\"),_c('br'),_vm._v(\" 間違いの指摘や要望などありましたら以下の公開 Google Docs にコメントいただけると幸いです。\"),_c('br'),_c('b-button',{attrs:{\"variant\":\"secondary\",\"id\":\"btn-docs\"}},[_vm._v(\"Google Docs\")]),_c('br')],1),_c('b-popover',{attrs:{\"target\":\"btn-docs\",\"placement\":\"bottom\",\"custom-class\":\"gdocs\"}},[_c('iframe',{attrs:{\"width\":\"1100\",\"height\":\"500\",\"src\":\"https://docs.google.com/document/d/1vldiHELiy0GFKhXO20SOsMdw4mczivU4SuxXO9Wv26I/edit?embedded=true\"}})]),_vm._m(3),_c('p',[_vm._v(\" れじぇくろのバフ・デバフの関係は以下のようになっています。\"),_c('br'),_vm._m(4),_c('br'),_vm._v(\" つまり、大雑把には\"),_c('br'),_c('b',[_vm._v(\"一番効果の高いメインのアクティブ＋一番効果の高いサポートのアクティブ＋全タレント・パッシブ・装備効果\")]),_c('br'),_vm._v(\" と覚えておいてよいでしょう。\"),_c('br'),_c('br'),_vm._v(\" しかし、アクティブ同士の関係は厳密にはもっと複雑です。\"),_c('br'),_vm._v(\" 一部特殊なアクティブスキルがあり、これらのバフは無条件で他のアクティブと加算になります。\"),_c('br'),_vm._v(\" これらは「一時的にパッシブスキルを付与する」という扱いになっているようです。\"),_c('br'),_vm._v(\" シンボルスキルに付随する加護 (アタック～レジスト以外のバフ) はこちらに分類されます。\"),_c('br'),_vm._v(\" それ以外の該当スキルを全て以下に列挙します。いずれも条件付きバフのみが特殊枠で、他は通常のアクティブ枠です。\"),_c('br'),_vm._v(\" 単体or自己バフスキル： \"),_vm._l((_vm.specialBuffSkillsSingle),function(skill,si){return _c('span',{key:`sbss${si}`,staticStyle:{\"margin\":\"4px\"}},[_c('b-link',{ref:_vm.po,refInFor:true},[_vm._v(_vm._s(skill.name))])],1)}),_c('br'),_vm._v(\" 範囲or全体バフスキル： \"),_vm._l((_vm.specialBuffSkillsMulti),function(skill,si){return _c('span',{key:`sbsm${si}`,staticStyle:{\"margin\":\"4px\"}},[_c('b-link',{ref:_vm.po,refInFor:true},[_vm._v(_vm._s(skill.name))])],1)}),_c('br'),_c('br'),_vm._v(\" 加えて、与ダメージとダメージ耐性にはまた別のルールがあります。\"),_c('br'),_vm._v(\" これらには物理与ダメージ、魔法与ダメージ、スキル与ダメージといったバリエーションがありますが、\"),_c('br'),_vm._v(\" 異なるバリエーションであればアクティブ同士でも効果が加算になります。\"),_c('br'),_vm._v(\" 与ダメージのバリエーションは 無印、物理、魔法、スキル、範囲スキル、通常攻撃 の 6 種、\"),_c('br'),_vm._v(\" ダメージ耐性のバリエーションは 無印、物理、魔法、範囲スキル (敵専用) の 4 種になります。\"),_c('br'),_c('ul',[_c('li',[_vm._v(\"例1: \"),_c('b-link',{ref:_vm.po},[_vm._v(\"お届け物です！\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"総員、突撃用意\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"テスト勉強のお手伝い\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"道教式チアリーディング\")]),_vm._v(\"＝物理通常攻撃与ダメージ +95%\")],1),_c('li',[_vm._v(\"例2: \"),_c('b-link',{ref:_vm.po},[_vm._v(\"お届け物です！\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"総員、突撃用意\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"リトルマロース\")]),_vm._v(\"＋\"),_c('b-link',{ref:_vm.po},[_vm._v(\"発明官女\")]),_vm._v(\"＝物理範囲スキル与ダメージ +100% & 魔法範囲スキル与ダメージ +110%\")],1)]),_c('s',[_vm._v(\"なお、通常攻撃与ダメージバフは反撃には乗らないことが確認されています。(2023/04 現在。バグか仕様かは不明)\")]),_c('br'),_vm._v(\" 2023//05 のアップデートにて通常攻撃与ダメージバフは反撃にも乗るように変更されました。\"),_c('br'),_c('br'),_vm._v(\" 一部のバフ・デバフには上限があることが確認されています。\"),_c('br'),_vm._v(\" 該当するのは基本ステータス値へのデバフ (アタック・ディフェンス・マジック・レジスト)、およびダメージ耐性バフと与ダメージデバフで、\"),_c('br'),_vm._v(\" これらは 70% 以上盛っても実際に効果を発揮するのは 70% までとなります。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"この 70% はバフ・デバフを相殺した上での上限。なので、例えば 50% のバフを得ている敵は 120% デバフでようやく上限到達となる。\")]),_c('br'),_vm._v(\" なお、基本ステータス値へのバフ、与ダメージバフ、ダメージ耐性デバフに関しては上限はないものとみられます。\"),_c('br')],2),_vm._m(5),_c('p',[_vm._v(\" クラス間の有利不利は戦闘時のアタック / マジックへのバフ・デバフという形で表現されています。\"),_c('br'),_c('b',[_vm._v(\"通常のアタックバフやマジックバフとは加算の関係\")]),_vm._v(\"になり、メイン・サポート両方に個別に適用されます。\"),_c('br'),_vm._v(\" また、これらは通常の戦闘前バフとは異なり、範囲攻撃にも適用されます。\"),_c('br'),_c('b-table',{attrs:{\"outlined\":\"\",\"bordered\":\"\",\"items\":_vm.stat.classBonusBase},scopedSlots:_vm._u([{key:\"head(攻撃側)\",fn:function(r){return [_vm._v(\" 攻撃側＼防御側\"+_vm._s(r.null)+\" \")]}},{key:\"cell()\",fn:function(r){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.n2percent(r.value))}})]}}])}),_c('br'),_vm._v(\" クラス相性の書により効果が強化され、全開放時は以下になります。\"),_c('br'),_vm._v(\" また、クラス相性の書の「耐性」の効果により、不利相性で攻撃される際に敵にかかるバフが減ります。\"),_c('br'),_vm._v(\" 例: プレイヤー側のソルジャーがライダーから攻撃される際、敵にかかるバフが本来の 45% から 35% に減じる (全開放時)\"),_c('br'),_vm._v(\" なお、\"),_c('b',[_vm._v(\"同じクラス相性の書でも「与ダメージ」の効果は与ダメージバフと同列の扱い (加算の関係)\")]),_vm._v(\" になります。 \"),_c('b-table',{attrs:{\"outlined\":\"\",\"bordered\":\"\",\"items\":_vm.stat.classBonusMax},scopedSlots:_vm._u([{key:\"head(攻撃側)\",fn:function(r){return [_vm._v(\" 攻撃側＼防御側\"+_vm._s(r.null)+\" \")]}},{key:\"cell()\",fn:function(r){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.n2percent(r.value))}})]}}])})],1),_vm._m(6),_c('p',[_vm._v(\" タレント、スキル、アイテム以外の方法で得られるバフに関して記載します。\"),_c('br'),_vm._v(\" これらも同系統の効果とは加算になり、競合するケースはないとみられます。\"),_c('br'),_c('br'),_vm._v(\" エンチャントのセット効果の多くはバフを持ちます。\"),_c('br'),_vm._v(\" これらのバフはメインのみが対象となります。 \"),_vm._m(7),_c('br'),_vm._v(\" マスタークラス特性にはバフを得るものがあります。\"),_c('br'),_vm._v(\" 以下いずれもマスタークラス 3 での効果で、「自ユニットの」の記載がないものはメインのみが対象です。\"),_c('br'),_vm._m(8),_c('br'),_vm._v(\" スターフォースクエストでは、所持している全キャラの☆の合計×0.2% 分 アタックとマジックへのバフを得ます。\"),_c('span',{staticClass:\"note\"},[_vm._v(\"= ☆500 で +100%。\")]),_c('br'),_c('br'),_c('b',[_vm._v(\"装備の効果は特に記載がない場合メインのみが対象\")]),_vm._v(\"である点に注意が必要です。\"),_c('br'),_vm._v(\" サポートも対象の効果は「自ユニットの」という記述があり、区別されています。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"例: \"),_c('b-link',{ref:_vm.po},[_vm._v(\"天蝎の天鎧\")]),_vm._v(\" のダメージ耐性はメインのみが対象、\"),_c('b-link',{ref:_vm.po},[_vm._v(\"乙女の天衣\")]),_vm._v(\" のダメージ耐性はサポートも対象。\")],1),_c('br'),_vm._v(\" 同様に、アミュレットの効果はサポートのみが対象となります。シールドはサポートが倒れている場合発動しません。\"),_c('br'),_c('br'),_vm._v(\" アンドロメダの\"),_c('b-link',{ref:_vm.po},[_vm._v(\"神に勝る美\")]),_vm._v(\"やオリオンの\"),_c('b-link',{ref:_vm.po},[_vm._v(\"オレの女に手は出させない\")]),_vm._v(\"は、HP が 75% ちょうどの場合、以上以下両方の効果が発動します。\"),_c('br'),_c('span',{staticClass:\"note\"},[_c('b-link',{ref:_vm.po},[_vm._v(\"天秤の天帽\")]),_vm._v(\"などの自傷効果で 25% 減らすことができるが、最大 HP が 4 で割り切れる数でないと 76% になってしまう模様。\")],1),_c('br')],1),_vm._m(9),_c('DamageSimulator'),_c('p',[_vm._v(\" れじぇくろのダメージ計算式は以下のようになっています。\"),_c('br'),_c('code',[_vm._v(\"ダメージ＝(攻撃側の攻撃力－受ける側の防御力)×(スキルのダメージ倍率)×(与ダメージバフ・デバフ)×(ダメージ耐性バフ・デバフ)×(クリティカルダメージ倍率)×乱数×10\")]),_c('br'),_c('br'),_c('ul',[_c('li',[_vm._v(\"メイン・サポート個別にこの計算が行われる。\")]),_c('li',[_vm._v(\"最後の ×10 は 1 戦闘に 10 回攻撃が行われるということで、戦闘アニメーションONだと 1 攻撃あたりのダメージが表示される。\")]),_vm._m(10),_vm._m(11),_vm._m(12),_c('li',[_vm._v(\" ダメージ耐性デバフも同様で、無印、物理攻撃などいくつかの種類があるが、全て加算の関係。 \")]),_vm._m(13),_vm._m(14),_c('li',[_vm._v(\"乱数による振れ幅はわずかで、±2% 程度。\")]),_c('li',[_vm._v(\" 遠距離攻撃キャラが近接攻撃した場合、最終ダメージに 0.6 倍される。 \"),_c('ul',[_c('li',[_vm._v(\"メイン・サポート両方に個別に適用。\")]),_c('li',[_vm._v(\" 「遠距離攻撃キャラ」の定義は、装備やバフを含まない基礎射程が 2 であること、である模様。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"基礎射程 1 のキャラを\"),_c('b-link',{ref:_vm.po},[_vm._v(\"蒼水晶の槍\")]),_vm._v(\"や\"),_c('b-link',{ref:_vm.po},[_vm._v(\"天導の聖火\")]),_vm._v(\"で射程を伸ばして近接攻撃しても 0.6 倍はされない。\")],1)])])]),_vm._m(15),_c('li',[_vm._v(\" 反射を持つ場合、戦闘後、生き残っていたら受けたダメージの効果量 % 分を固定ダメージとして相手に返す。 \"),_c('ul',[_c('li',[_vm._v(\"戦闘後に発動するデバフなどについても同様で、戦闘後生き残っていないと発動しない。\")]),_c('li',[_c('b-link',{ref:_vm.po},[_vm._v(\"ラストスタンド\")]),_vm._v(\"などで復活しても撃破された扱いであるらしく、発動しない。\")],1)])]),_c('li',[_vm._v(\"戦闘の前後に発生する固定ダメージは、防御力やシールドの影響を受けず、バフ・デバフも乗らない、文字通り固定値のダメージを与える。\")]),_vm._m(16),_vm._m(17),_vm._m(18)])]),_vm._m(19),_c('StatusSimulator'),_c('p',{staticClass:\"desc\"},[_vm._v(\" 基本ステータスとは、戦闘前に決定するステータス値で、キャラ画面の情報で表示されるものがそれになります。\"),_c('br'),_vm._v(\" 割合バフや「能力値の n %を加算」系の効果は基本ステータスに対する割合として機能します。戦闘力も基本ステータスから算出されます。\"),_c('br'),_vm._v(\" 基本ステータスは以下のように算出されます。\"),_c('br'),_c('br'),_vm._v(\" メインの場合：\"),_c('br'),_c('code',[_vm._v(\"基本ステータス＝(初期値＋レベル上昇値＋☆上昇値＋好感度ボーナス＋マスターボーナス)×(記憶の書＋強化ボード)×(割合エンチャント)＋装備＋固定値エンチャント\")]),_c('br'),_c('br'),_vm._v(\" サポートの場合：\"),_c('br'),_c('code',[_vm._v(\"基本ステータス＝(初期値＋レベル上昇値＋☆上昇値＋好感度ボーナス＋マスターボーナス)×(記憶の書＋強化ボード＋基本ステータス系アミュレットスキル)＋装備\")]),_c('br'),_c('br'),_c('ul',[_vm._m(20),_vm._m(21),_vm._m(22),_c('li',[_vm._v(\" マスターボーナスはクラスレベルに応じて得られる上昇値で、メインとサポートで内容が異なる \"),_c('b-table',{attrs:{\"small\":\"\",\"outlined\":\"\",\"items\":_vm.stat.masterBonus}})],1),_c('li',[_vm._v(\" 記憶の書と強化ボードの合計はカンスト時以下になる \"),_c('b-table',{attrs:{\"small\":\"\",\"outlined\":\"\",\"items\":_vm.stat.bookBonus}})],1),_c('li',[_vm._v(\" エンチャントの上限は割合と固定値でそれぞれ以下になる (SSR の場合。テクニックには影響しないので除外) \"),_c('b-table',{attrs:{\"small\":\"\",\"outlined\":\"\",\"items\":_vm.stat.enchantBonus}}),_vm._m(23)],1),_c('li',[_vm._v(\" アミュレットスキルは割合上昇のみで、上限は以下になる (こちらも SSR の場合。テクニックには影響しないので除外) \"),_c('b-table',{attrs:{\"small\":\"\",\"outlined\":\"\",\"items\":_vm.stat.amuletBonus}}),_vm._m(24)],1)])]),_vm._m(25),_c('BattlePointSimulator'),_vm._m(26)],1)]),_vm._l((_vm.popoverElements),function(e,i){return [_c('b-popover',{key:i,attrs:{\"target\":e.element,\"triggers\":\"hover focus\",\"custom-class\":\"item_po\",\"title\":e.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(e.item.icon),\"width\":\"50\",\"height\":\"50\"}})],1),_c('div',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(e.item))}}),(e.item.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(e.item))}}):_vm._e()])]),(e.item.owners)?_c('div',{staticClass:\"owners\"},[_vm._v(\" 所持者:\"),_c('br'),_vm._l((e.item.owners),function(owner,oi){return _c('b-img-lazy',{key:oi,attrs:{\"src\":_vm.getImageURL(owner.icon),\"title\":_vm.descToTitle(owner),\"width\":\"50\",\"height\":\"50\"}})})],2):_vm._e()])]})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"toc\",\"href\":\"#toc\"}}),_vm._v(\"目次\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#about\"}},[_vm._v(\"このサイトについて\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#buff\"}},[_vm._v(\"バフ・デバフの競合・重複\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#class-advantage\"}},[_vm._v(\"クラス相性\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#notes\"}},[_vm._v(\"その他のバフと補足事項\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#damage\"}},[_vm._v(\"ダメージ計算\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#status\"}},[_vm._v(\"基本ステータスについて\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#battle_power\"}},[_vm._v(\"戦闘力について\")])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"about\",\"href\":\"#about\"}}),_vm._v(\"このサイトについて\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_vm._v(\"バフ・デバフの競合・重複\"),_c('a',{attrs:{\"name\":\"buff\",\"href\":\"#buff\"}},[_vm._v(\".\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"同系統のバフが同時にかかった場合、アクティブスキル同士は競合し、一番効果が高いもののみ適用。\")]),_c('li',[_vm._v(\"ただし、メインキャラのアクティブとサポートキャラのアクティブは別枠で効果が加算になる。\")]),_c('li',[_vm._v(\"タレント、パッシブスキル、装備の効果は全て加算。ただし、同スキル・同アイテム同士に限っては競合。\")]),_c('li',[_vm._v(\"デバフも同じルール。バフとデバフが同時にかかった場合、% を足し合わせて相殺となる。\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"class-advantage\",\"href\":\"#class-advantage\"}}),_vm._v(\"クラス相性\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"notes\",\"href\":\"#notes\"}}),_vm._v(\"その他のバフと補足事項\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"バスター：アタック/マジック+5%、味方ターンでの戦闘時、アタック/ダメージ耐性+15%\")]),_c('li',[_vm._v(\"チャージ：アタック/マジック+5%、自ユニットのHPが75%以上の時、アタック/マジック/ディフェンス/レジスト+10%\")]),_c('li',[_vm._v(\"フェザー：アタック/マジック+5%、与ダメージ+10%、行動終了時、確率(40%)で移動+1(1ターン)\")]),_c('li',[_vm._v(\" クイック：アタック/マジック+5%、アクティブスキルでダメージを与えた時、そのスキルのクールダウン-1(発動してから2ターン毎に発動可能)\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"この「2ターン毎」は再行動では短縮できず、純粋にターン経過を要する\")])]),_c('li',[_vm._v(\"ノヴァ：アタック/マジック+5%、スキル与ダメージ+10%、範囲スキル使用時、更にスキル与ダメージ+10%\")]),_c('li',[_vm._v(\"アイアン：最大HP+10%、ダメージ耐性+15%\")]),_c('li',[_vm._v(\"リフレクト：最大HP+10%、敵ターンでの戦闘時、その戦闘後、確率(40%)で自ユニットの受けたダメージの40%を反射する\")]),_c('li',[_vm._v(\" バックアップ：最大HP+10%、自身を中心とした範囲3マス以内の全ての味方メインのディフェンス/レジスト+5%\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"バックアップバフ同士は競合となる。(= バックアップ持ち2人の範囲内にいても+5%止まり)\")])]),_c('li',[_vm._v(\"アイス：ディフェンス/レジスト+5%、戦闘後、確率(10%)で敵ユニットにフリーズ(1ターン)を付与する\")]),_c('li',[_vm._v(\"ブライト：ディフェンス/レジスト+5%、治療効果+25%\")]),_c('li',[_vm._v(\"クリスタル：ディフェンス/レジスト+5%、自ユニットのHPが50%以下の時、戦闘後、確率(40%)でメイン、サポートそれぞれのHPが最大の20%回復\")]),_c('li',[_vm._v(\"ストライク：クリティカル率+7%、クリティカルダメージ倍率+30%\")]),_c('li',[_vm._v(\"ブレイク：クリティカル率+7%、味方ターンでの戦闘時、かつ敵ユニットのHPが50%以上の時、与ダメージ+20%\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"ランサー：アタックに基礎ディフェンス値の 30% を加算、敵ターンでの戦闘時、自ユニットのディフェンス+10%\")]),_c('li',[_vm._v(\" ライダー：味方ターンでの戦闘時、自ユニットのアタックに 移動したマス×10% 加算 (最大50%)\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"再行動した場合、移動したマスは 2 回目の行動には引き継がれず、積み直しとなる。\")])]),_c('li',[_vm._v(\" エアリアル：隣接する味方ユニットが 2 体以内のとき、自ユニットの最大 HP 以外の全能力+20%\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"2 体以内 = 0 or 1 or 2 体。斜めマスは含まない。\")])]),_c('li',[_vm._v(\"シューター：自ユニットにディフェンス無視+30%付与\")]),_c('li',[_vm._v(\" ソーサラー：自ユニットにレジスト無視+30%付与\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"防御無視効果については下記ダメージ計算を参照。\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"damage\",\"href\":\"#damage\"}}),_vm._v(\"ダメージ計算\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 攻撃力と防御力は、物理攻撃の場合アタック&ディフェンス、魔法攻撃の場合マジック&レジスト。 \"),_c('ul',[_c('li',[_vm._v(\" 「敵ユニットのディフェンス/レジストのn%分を無視して攻撃できる」の能力を持つ場合、効果量分相手の防御力を差し引く。\"),_c('br'),_vm._v(\" ただし、この効果はディフェンス/レジストデバフへ加算する形で処理されるようで、他のデバフと合わせて 70% が効果の上限となる。 \")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" スキルのダメージ倍率は 攻撃力－防御力 の後の数値にかかる。\"),_c('span',{staticClass:\"note\"},[_vm._v(\"なので、倍率の低い範囲攻撃は高防御の敵に特別弱いわけではない。\")]),_c('ul',[_c('li',[_vm._v(\"特定の兵種に対して特攻があるスキルは、その兵種に対する専用の倍率が設定されている。\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 与ダメージバフは無印、物理攻撃、スキル、通常攻撃など様々な種類があるが、全て加算の関係。 \"),_c('ul',[_c('li',[_vm._v(\"クラス相性の書の与ダメージアップも扱いとしては与ダメージバフらしく、加算の関係になる。\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" ダメージ耐性バフ・デバフと与ダメージバフ・デバフは掛け算の関係。 \"),_c('ul',[_c('li',[_vm._v(\"ダメージ耐性バフと与ダメージデバフはどちらも 70% が効果の上限。\"),_c('span',{staticClass:\"note\"},[_vm._v(\"両方最大まで盛ると 0.3×0.3=9% まで被ダメージを抑え込める。\")])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" クリティカル発生時はクリティカルダメージ倍率が適用される。この倍率は 30% + バフ効果量。 \"),_c('ul',[_c('li',[_vm._v(\"クリティカル発生率は テクニック÷10 + クリティカル率バフ - 相手のクリティカル率耐性 とみられる。\")]),_c('li',[_vm._v(\" ただし、サポートの攻撃はクリティカルが発生しない模様。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"ユニット対象バフでクリティカル率 100% にしてもサポートのダメージにはクリティカルダメージ倍率が適用されない。\")])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 2回攻撃を持つ場合、最初の一斉攻撃の後、相手が生き残っていたら再度攻撃を行う。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"ギルクエ EX で高スコアを狙う場合、最初の一斉攻撃で倒れない相手を狙う。\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" サポートは常に先に攻撃の対象になり、生きている限りダメージを受けるのはサポートになる。(後述の範囲攻撃を除く) \"),_c('ul',[_c('li',[_vm._v(\"サポートが倒れた時、超過分のダメージがメインに流れることはない。\"),_c('span',{staticClass:\"note\"},[_vm._v(\"= HP1 でも 1 発は攻撃を反らせる。\")])]),_c('li',[_vm._v(\"サポートは倒れると攻撃にも参加しなくなる。アミュレットのシールドも発動しなくなる。\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 範囲攻撃の場合、計算式は同じだが、戦闘の前後に発動するバフ・デバフなどが発動しないこと、メインとサポート両方に攻撃が行くこと、\"),_c('br'),_vm._v(\"サポートが攻撃に参加しないことなどが異なる。 \"),_c('ul',[_c('li',[_vm._v(\"ダメージを与えたときに発動する効果などは発動する。\")]),_c('li',[_vm._v(\"クリティカル判定はメイン・サポート個別に行われる。\")]),_c('li',[_vm._v(\" 範囲攻撃によりメインがサポートより先に倒れた場合、ユニット自体撃破された扱いになる。\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"つまり、範囲攻撃の連打でやられるようなケースでは、サポートをいくら固くしても対策にならない。\")])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 単体攻撃でありながら範囲攻撃のようにメインとサポート両方同時攻撃のスキルも存在する。 \"),_c('ul',[_c('li',[_vm._v(\"扱いとしては範囲攻撃 (非戦闘攻撃) とみられ、戦闘の前後に発動するバフ・デバフが発動せず、シールドやガードも無視する。\")]),_c('li',[_vm._v(\"スターフォースクエストの敵の単体攻撃スキルはこのタイプ。2 回攻撃のようなものなので、知らないと予想外のダメージに驚くことになる。\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"status\",\"href\":\"#status\"}}),_vm._v(\"基本ステータスについて\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\" 初期値、レベル上昇値、☆による上昇値 はキャラ固有 \"),_c('ul',[_c('li',[_vm._v(\"レベルと☆による上昇は 1レベル / 1☆ あたりの上昇量が決まっており、リニアに増えていく方式\")]),_c('li',[_vm._v(\"1☆ あたりの上昇量は大体 4 レベル分くらいになっている模様\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('b',[_vm._v(\"エンゲージは基本ステータスには影響しない\")]),_c('ul',[_c('li',[_vm._v(\"戦闘力にのみ若干影響がある（\"),_c('a',{attrs:{\"href\":\"#battle_power\"}},[_vm._v(\"戦闘力\")]),_vm._v(\"を参照）\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_vm._v(\"好感度ボーナスは全開放時 \"),_c('span',{staticStyle:{\"background\":\"white\"}},[_vm._v(\"[100, 25, 15, 25, 15, 0]\")]),_vm._v(\" ([HP, アタック, ディフェンス, マジック, レジスト, テクニック] の順、以後共通)\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"アクセサリの場合他にクリティカル率があり、こちらは 15% が上限。テクニックとは別物で基本ステータスには影響しない\")]),_c('li',[_vm._v(\" エンチャントの2セット特典 (バスターの アタック/マジック+5% など) も基本ステータスへの割合強化として扱われる\"),_c('br'),_c('span',{staticClass:\"note\"},[_vm._v(\"ストライクの2セット特典の クリティカル率+7% は基本ステータスには影響しないため、戦闘力的には不利を被る\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"スキル1は戦闘時に効果を発揮するタイプで、基本ステータスには影響しない\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"battle_power\",\"href\":\"#battle_power\"}}),_vm._v(\"戦闘力について\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" 戦闘力は以下のように算出されます。\"),_c('br'),_c('br'),_c('code',[_vm._v(\"戦闘力＝A(ステータスに基づく基礎値) × B(☆やマスターレベルなどによる倍率)\")]),_c('br'),_vm._v(\" A の内訳：\"),_c('br'),_c('code',[_vm._v(\"HP×0.05＋攻撃力×2×(1.0＋テクニック×0.0003)＋ディフェンス×2＋レジスト×2\")]),_c('br'),_vm._v(\" B の内訳：\"),_c('br'),_c('code',[_vm._v(\" 1.0＋☆の数×0.1＋マスターレベル×0.1\"),_c('br'),_vm._v(\" ＋メインの使用スキルコスト×0.03＋エンゲージ後スキルの数×0.05＋メインの装備の☆合計×0.02＋エンチャントが4セット揃っている場合0.1\"),_c('br'),_vm._v(\" ＋サポートのスキルの数×0.05 \")]),_c('br'),_c('br'),_c('ul',[_c('li',[_vm._v(\" 攻撃力はそのキャラの攻撃タイプがアタックであればアタック、マジックであればマジック \"),_c('ul',[_c('li',[_vm._v(\"アタックキャラのマジック、マジックキャラのアタックは戦闘力に計上されない\")])])]),_c('li',[_vm._v(\" テクニックはクリティカルを模していると見られ、1000 で攻撃力 1.3 倍相当の効果となる \"),_c('ul',[_c('li',[_vm._v(\"1000 が計上される上限となっているかもしれないが、現状そこまで伸ばす方法がなく検証不能\")])])]),_c('li',[_vm._v(\" ステータス値はメインとサポートの合計 \"),_c('ul',[_c('li',[_vm._v(\"サポートの攻撃力にもメインのテクニックによる割合が乗る\")]),_c('li',[_vm._v(\"メインがアタック、サポートがマジック (またはその逆) の場合でも攻撃力として合算され、それにテクニックによる割合が乗る\")])])]),_c('li',[_vm._v(\" ☆の数やマスターレベルもメインとサポートの合計 \"),_c('ul',[_c('li',[_vm._v(\"倍率の加算になるため、サポートとリンクすると戦闘力は単純に合計するよりもずっと大きくなる\")])])]),_c('li',[_vm._v(\"エンチャントは 4 セット揃えたとき倍率に 0.1 が加算される\")]),_c('li',[_vm._v(\" 装備の効果は基本ステータス値が上がるもののみ戦闘力に計上される \"),_c('ul',[_c('li',[_vm._v(\"サポートのアミュレットも同様で、戦闘開始後に効果を発揮するもの (割合バフやステータス値の n% を加算系など) は計上されない\")]),_c('li',[_vm._v(\"アクセサリのエンチャントのクリティカル率も計上されない\")])])])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\"},[_c('b-container',[_c('b-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h5',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\"ダメージシミュレータ\")])])],1)],1),_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-container',[_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',[_vm._v(\"攻撃側：メイン\")])])],1),_vm._l((_vm.main),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{class:_vm.getParamClass(param),staticStyle:{\"width\":\"14em\"},attrs:{\"for\":`dmg-main-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`dmg-main-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max,\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`dmg-main-${name}`,\"size\":\"sm\",\"disabled\":param.disabled(),\"plain\":\"\"},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',[_vm._v(\"攻撃側：サポート \"),_c('b-form-checkbox',{attrs:{\"inline\":\"\",\"plain\":\"\"},model:{value:(_vm.supportEnabled),callback:function ($$v) {_vm.supportEnabled=$$v},expression:\"supportEnabled\"}})],1)])],1),_vm._l((_vm.support),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{class:_vm.getParamClass(param),staticStyle:{\"width\":\"14em\"},attrs:{\"for\":`dmg-support-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`dmg-support-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max,\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`dmg-support-${name}`,\"size\":\"sm\",\"plain\":\"\",\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',[_vm._v(\"受け側\")])])],1),_vm._l((_vm.attacked),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{class:_vm.getParamClass(param),staticStyle:{\"width\":\"11em\"},attrs:{\"for\":`dmg-attacked-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`dmg-attacked-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1)]),_c('div',[_c('b-container',[_c('h5',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\"ダメージ: \"+_vm._s(_vm.dmgResult))]),_c('b-button',{attrs:{\"id\":\"dmg-copy-url\"},on:{\"click\":function($event){return _vm.copyToClipboard(_vm.dmgUrl)}}},[_vm._v(\"パラメータを URL としてコピー\")]),_c('b-popover',{attrs:{\"target\":\"dmg-copy-url\",\"triggers\":\"click blur\",\"placement\":\"top\",\"custom-class\":\"url-popover\"}},[_vm._v(\" コピーしました：\"),_c('br'),_vm._v(_vm._s(_vm.dmgUrl)+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel\">\n    <b-container>\n      <b-row>\n        <b-col style=\"text-align:center\">\n          <h5 style=\"margin-bottom: 10px\">ダメージシミュレータ</h5>\n        </b-col>\n      </b-row>\n    </b-container>\n    <div class=\"flex\">\n      <div>\n        <b-container>\n          <b-form-row>\n            <b-col style=\"text-align:center\">\n              <h6>攻撃側：メイン</h6>\n            </b-col>\n          </b-form-row>\n          <b-form-row v-for=\"(param, name, index) in main\" :key=\"index\">\n            <b-col style=\"text-align: right\" align-self=\"end\">\n              <label style=\"width: 14em\" :class=\"getParamClass(param)\" :for=\"`dmg-main-${name}`\">{{param.label}}</label>\n            </b-col>\n            <b-col>\n              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`dmg-main-${name}`\" v-model.number=\"param.value\"\n                            size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\" :disabled=\"param.disabled()\"></b-form-input>\n              <b-form-checkbox style=\"width: 5em\" :id=\"`dmg-main-${name}`\" v-model=\"param.value\" size=\"sm\"\n                               :disabled=\"param.disabled()\" plain v-if=\"param.type == 'bool'\"></b-form-checkbox>\n            </b-col>\n          </b-form-row>\n        </b-container>\n      </div>\n      <div>\n        <b-container>\n          <b-form-row>\n            <b-col style=\"text-align:center\">\n              <h6>攻撃側：サポート <b-form-checkbox inline plain v-model=\"supportEnabled\" /></h6>\n            </b-col>\n          </b-form-row>\n          <b-form-row v-for=\"(param, name, index) in support\" :key=\"index\">\n            <b-col style=\"text-align: right\" align-self=\"end\">\n              <label style=\"width: 14em\" :class=\"getParamClass(param)\" :for=\"`dmg-support-${name}`\">{{param.label}}</label>\n            </b-col>\n            <b-col>\n              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`dmg-support-${name}`\" v-model.number=\"param.value\"\n                            size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\" :disabled=\"param.disabled()\"></b-form-input>\n              <b-form-checkbox style=\"width: 5em\" :id=\"`dmg-support-${name}`\" v-model=\"param.value\" size=\"sm\" plain\n                               :disabled=\"param.disabled()\" v-if=\"param.type == 'bool'\"></b-form-checkbox>\n            </b-col>\n          </b-form-row>\n        </b-container>\n      </div>\n      <div>\n        <b-container>\n          <b-form-row>\n            <b-col style=\"text-align: center\">\n              <h6>受け側</h6>\n            </b-col>\n          </b-form-row>\n          <b-form-row v-for=\"(param, name, index) in attacked\" :key=\"index\">\n            <b-col style=\"text-align:right\" align-self=\"end\">\n              <label style=\"width: 11em\" :class=\"getParamClass(param)\" :for=\"`dmg-attacked-${name}`\">{{param.label}}</label>\n            </b-col>\n            <b-col>\n              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`dmg-attacked-${name}`\" v-model.number=\"param.value\"\n                            size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n            </b-col>\n          </b-form-row>\n        </b-container>\n      </div>\n    </div>\n    <div>\n      <b-container>\n        <h5 style=\"margin-bottom: 10px\">ダメージ: {{dmgResult}}</h5>\n        <b-button id=\"dmg-copy-url\" @click=\"copyToClipboard(dmgUrl)\">パラメータを URL としてコピー</b-button>\n        <b-popover target=\"dmg-copy-url\" triggers=\"click blur\" placement=\"top\" custom-class=\"url-popover\">\n          コピーしました：<br />{{ dmgUrl }}\n        </b-popover>\n      </b-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport common from \"../common\";\n\nexport default {\n  name: 'DamageSimulator',\n  props: {\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      mainEnabled: true,\n      supportEnabled: true,\n      main: {\n        atk: {\n          label: \"攻撃力\",\n          type: \"number\",\n          min: 0,\n          value: 1000,\n          disabled: () => !this.mainEnabled,\n        },\n        atkBuf: {\n          label: \"攻撃力バフ (%)\",\n          type: \"number\",\n          min: -70,\n          value: 0,\n          disabled: () => !this.mainEnabled,\n        },\n        skillDamageRate: {\n          label: \"スキルダメージ倍率\",\n          type: \"number\",\n          value: 1.0,\n          disabled: () => !this.mainEnabled,\n        },\n        damageBuf: {\n          label: \"与ダメージバフ (%)\",\n          type: \"number\",\n          min: -70,\n          value: 0,\n          disabled: () => !this.mainEnabled,\n        },\n        critical: {\n          label: \"クリティカル\",\n          type: \"bool\",\n          value: true,\n          disabled: () => !this.mainEnabled,\n        },\n        criticalDamageRate: {\n          label: \"クリティカルダメージ倍率 (%)\",\n          type: \"number\",\n          value: 30,\n          disabled: () => !this.mainEnabled || !this.main.critical.value,\n        },\n        doubleAttack: {\n          label: \"2回攻撃\",\n          type: \"bool\",\n          value: false,\n          disabled: () => !this.mainEnabled,\n        },\n        rangedPenalty: {\n          label: \"遠距離キャラの近接ペナルティ\",\n          type: \"bool\",\n          value: false,\n          disabled: () => !this.mainEnabled,\n        },\n      },\n      support: {\n        atk: {\n          label: \"攻撃力\",\n          type: \"number\",\n          min: 0,\n          value: 1000,\n          disabled: () => !this.supportEnabled,\n        },\n        atkBuf: {\n          label: \"攻撃力バフ (%)\",\n          type: \"number\",\n          min: -70,\n          value: 0,\n          disabled: () => !this.supportEnabled,\n        },\n        damageBuf: {\n          label: \"与ダメージバフ (%)\",\n          type: \"number\",\n          min: -70,\n          value: 0,\n          disabled: () => !this.supportEnabled,\n        },\n        rangedPenalty: {\n          label: \"遠距離キャラの近接ペナルティ\",\n          type: \"bool\",\n          value: false,\n          disabled: () => !this.supportEnabled,\n        },\n      },\n      attacked: {\n        def: {\n          label: \"防御力\",\n          type: \"number\",\n          value: 100,\n          disabled: () => false,\n        },\n        defBuf: {\n          label: \"防御力バフ (%)\",\n          type: \"number\",\n          min: -70,\n          value: 0,\n          disabled: () => false,\n        },\n        damageRate: {\n          label: \"ダメージ耐性 (%)\",\n          type: \"number\",\n          max: 70,\n          value: 0,\n          disabled: () => false,\n        },\n        shield: {\n          label: \"シールド\",\n          type: \"number\",\n          value: 0,\n          disabled: () => false,\n        },\n      }\n    };\n  },\n\n  created() {\n    this.parseParamsUrl(window.location.href);\n  },\n  \n  mounted() {\n  },\n\n  methods: {\n    getParamClass(param) {\n      return param.disabled() ? \"disabled\" : \"\";\n    },\n\n    calcDamage() {\n      const attacked = this.attacked;\n      const main = this.main;\n      const support = this.support;\n\n      const def = attacked.def.value * (1.0 + attacked.defBuf.value * 0.01);\n      const damageResist = 1.0 - this.toNumber(attacked.damageRate.value) * 0.01;\n      const shield = attacked.shield.value;\n\n      let result = 0;\n      if (this.mainEnabled) {\n        const atk = main.atk.value * (1.0 + main.atkBuf.value * 0.01);\n        const skillDamageRate = this.toNumber(main.skillDamageRate.value);\n        const damageBuf = 1.0 + this.toNumber(main.damageBuf.value) * 0.01;\n        const criticalDamageRate = 1.0 + this.toNumber(main.criticalDamageRate.value) * 0.01;\n\n        let damage = (atk - def) * skillDamageRate * damageBuf * damageResist;\n        if (main.critical.value)\n          damage *= criticalDamageRate;\n        if (main.rangedPenalty.value)\n          damage *= 0.6;\n\n        result += Math.max(Math.round(damage), 1) * (main.doubleAttack.value ? 20 : 10);\n      }\n      if (this.supportEnabled) {\n        const atk = support.atk.value * (1.0 + support.atkBuf.value * 0.01);\n        const damageBuf = 1.0 + this.toNumber(support.damageBuf.value) * 0.01;\n\n        let damage = (atk - def) * damageBuf * damageResist;\n        if (support.rangedPenalty.value)\n          damage *= 0.6;\n\n        result += Math.max(Math.round(damage), 1) * 10;\n      }\n\n      return Math.max(result - shield, 0);\n    },\n\n    getParamsUrl() {\n      let params = [];\n\n      for (const v of Object.values(this.main))\n        params.push(v.value);\n\n      params.push(this.supportEnabled);\n      for (const v of Object.values(this.support))\n        params.push(v.value);\n\n      for (const v of Object.values(this.attacked))\n        params.push(v.value);\n\n      let url = window.location.href.replace(/\\?.+/, '').replace(/#.+/, '');\n      url += \"?dmg=\" + params.join(',') + \"#damage\";\n      return url;\n    },\n\n    parseParamsUrl(url) {\n      url = decodeURIComponent(url);\n      let q = url.match(/\\?dmg=([^#]+)/);\n      if (q) {\n        let params = q[1].split(',').map(this.parseValue);\n\n        for (const v of Object.values(this.main))\n          v.value = params.shift();\n\n        this.supportEnabled = params.shift();\n        for (const v of Object.values(this.support))\n          v.value = params.shift();\n\n        for (const v of Object.values(this.attacked))\n          v.value = params.shift();\n\n        return true;\n      }\n      return false;\n    },\n  },\n\n  computed: {\n    dmgResult() {\n      return this.calcDamage();\n    },\n    dmgUrl() {\n      return this.getParamsUrl();\n    },\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DamageSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DamageSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DamageSimulator.vue?vue&type=template&id=c8ae989a&scoped=true&\"\nimport script from \"./DamageSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./DamageSimulator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8ae989a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\"},[_c('b-container',[_c('b-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h5',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\"戦闘力シミュレータ\")])])],1)],1),_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-container',[_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',[_vm._v(\"メインキャラ \"),_c('b-form-checkbox',{attrs:{\"inline\":\"\",\"plain\":\"\",\"id\":\"bp-main-enabled\"},model:{value:(_vm.mainEnabled),callback:function ($$v) {_vm.mainEnabled=$$v},expression:\"mainEnabled\"}})],1)])],1),_vm._l((_vm.main),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{class:_vm.getParamClass(param),staticStyle:{\"width\":\"11em\"},attrs:{\"for\":`bp-main-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`bp-main-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max,\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`bp-main-${name}`,\"size\":\"sm\",\"plain\":\"\",\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',[_vm._v(\"サポートキャラ \"),_c('b-form-checkbox',{attrs:{\"inline\":\"\",\"plain\":\"\",\"id\":\"bp-support-enabled\"},model:{value:(_vm.supportEnabled),callback:function ($$v) {_vm.supportEnabled=$$v},expression:\"supportEnabled\"}})],1)])],1),_vm._l((_vm.support),function(param,name,index){return _c('b-form-row',{key:index},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{class:_vm.getParamClass(param),staticStyle:{\"width\":\"10em\"},attrs:{\"for\":`bp-support-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`bp-support-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max,\"disabled\":param.disabled()},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1)]),_c('div',[_c('b-container',[_c('h5',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\"戦闘力: \"+_vm._s(_vm.bpResult))]),_c('b-button',{attrs:{\"id\":\"bp-copy-url\"},on:{\"click\":function($event){return _vm.copyToClipboard(_vm.bpUrl)}}},[_vm._v(\"パラメータを URL としてコピー\")]),_c('b-popover',{attrs:{\"target\":\"bp-copy-url\",\"triggers\":\"click blur\",\"placement\":\"top\",\"custom-class\":\"url-popover\"}},[_vm._v(\" コピーしました：\"),_c('br'),_vm._v(_vm._s(_vm.bpUrl)+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel\">\n    <b-container>\n      <b-row>\n        <b-col style=\"text-align:center\">\n          <h5 style=\"margin-bottom: 10px\">戦闘力シミュレータ</h5>\n        </b-col>\n      </b-row>\n    </b-container>\n    <div class=\"flex\">\n      <div>\n        <b-container>\n          <b-form-row>\n            <b-col style=\"text-align:center\">\n              <h6>メインキャラ <b-form-checkbox inline plain id=\"bp-main-enabled\" v-model=\"mainEnabled\" /></h6>\n            </b-col>\n          </b-form-row>\n          <b-form-row v-for=\"(param, name, index) in main\" :key=\"index\">\n            <b-col style=\"text-align: right\" align-self=\"end\">\n              <label style=\"width: 11em\" :class=\"getParamClass(param)\" :for=\"`bp-main-${name}`\">{{param.label}}</label>\n            </b-col>\n            <b-col>\n              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`bp-main-${name}`\" v-model.number=\"param.value\"\n                            size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\" :disabled=\"param.disabled()\"></b-form-input>\n              <b-form-checkbox style=\"width: 5em\" :id=\"`bp-main-${name}`\" v-model=\"param.value\" size=\"sm\" plain\n                               :disabled=\"param.disabled()\" v-if=\"param.type == 'bool'\"></b-form-checkbox>\n            </b-col>\n          </b-form-row>\n        </b-container>\n      </div>\n      <div>\n        <b-container>\n          <b-form-row>\n            <b-col style=\"text-align: center\">\n              <h6>サポートキャラ <b-form-checkbox inline plain id=\"bp-support-enabled\" v-model=\"supportEnabled\" /></h6>\n            </b-col>\n          </b-form-row>\n          <b-form-row v-for=\"(param, name, index) in support\" :key=\"index\">\n            <b-col style=\"text-align:right\" align-self=\"end\">\n              <label style=\"width: 10em\" :class=\"getParamClass(param)\" :for=\"`bp-support-${name}`\">{{param.label}}</label>\n            </b-col>\n            <b-col>\n              <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`bp-support-${name}`\" v-model.number=\"param.value\"\n                            size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\" :disabled=\"param.disabled()\"></b-form-input>\n            </b-col>\n          </b-form-row>\n        </b-container>\n      </div>\n    </div>\n    <div>\n      <b-container>\n        <h5 style=\"margin-bottom: 10px\">戦闘力: {{bpResult}}</h5>\n        <b-button id=\"bp-copy-url\" @click=\"copyToClipboard(bpUrl)\">パラメータを URL としてコピー</b-button>\n        <b-popover target=\"bp-copy-url\" triggers=\"click blur\" placement=\"top\" custom-class=\"url-popover\">\n          コピーしました：<br />{{ bpUrl }}\n        </b-popover>\n      </b-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport common from \"../common\";\n\nexport default {\n  name: 'BattlePointSimulator',\n  props: {\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      mainEnabled: true,\n      supportEnabled: true,\n      main: {\n        stars: {\n          label: \"⭐\",\n          type: \"number\",\n          min: 1,\n          max: 6,\n          value: 6,\n          disabled: () => !this.mainEnabled,\n        },\n        master: {\n          label: \"マスターレベル\",\n          type: \"number\",\n          min: 0,\n          max: 3,\n          value: 3,\n          disabled: () => !this.mainEnabled,\n        },\n        hp: {\n          label: \"HP\",\n          type: \"number\",\n          min: 0,\n          value: 15000,\n          disabled: () => !this.mainEnabled,\n        },\n        atk: {\n          label: \"アタック / マジック\",\n          type: \"number\",\n          min: 0,\n          value: 1500,\n          disabled: () => !this.mainEnabled,\n        },\n        def: {\n          label: \"ディフェンス\",\n          type: \"number\",\n          min: 0,\n          value: 500,\n          disabled: () => !this.mainEnabled,\n        },\n        res: {\n          label: \"レジスト\",\n          type: \"number\",\n          min: 0,\n          value: 500,\n          disabled: () => !this.mainEnabled,\n        },\n        tec: {\n          label: \"テクニック\",\n          type: \"number\",\n          min: 0,\n          value: 100,\n          disabled: () => !this.mainEnabled,\n        },\n        skillCost: {\n          label: \"スキルコスト\",\n          type: \"number\",\n          value: 6,\n          min: 0,\n          max: 6,\n          disabled: () => !this.mainEnabled,\n        },\n        eqStars: {\n          label: \"装備の⭐合計\",\n          type: \"number\",\n          min: 0,\n          max: 20,\n          value: 20,\n          disabled: () => !this.mainEnabled,\n        },\n        enchant: {\n          label: \"エンチャント4セット\",\n          type: \"bool\",\n          value: true,\n          disabled: () => !this.mainEnabled,\n        },\n        engageSkillCount: {\n          label: \"エンゲージ後スキルの数\",\n          type: \"number\",\n          value: 0,\n          disabled: () => !this.mainEnabled,\n        },\n      },\n      support: {\n        stars: {\n          label: \"⭐\",\n          type: \"number\",\n          min: 1,\n          max: 6,\n          value: 6,\n          disabled: () => !this.supportEnabled,\n        },\n        master: {\n          label: \"マスターレベル\",\n          type: \"number\",\n          min: 0,\n          max: 3,\n          value: 3,\n          disabled: () => !this.supportEnabled,\n        },\n        hp: {\n          label: \"HP\",\n          type: \"number\",\n          min: 0,\n          value: 15000,\n          disabled: () => !this.supportEnabled,\n        },\n        atk: {\n          label: \"アタック / マジック\",\n          type: \"number\",\n          min: 0,\n          value: 1500,\n          disabled: () => !this.supportEnabled,\n        },\n        def: {\n          label: \"ディフェンス\",\n          type: \"number\",\n          min: 0,\n          value: 500,\n          disabled: () => !this.supportEnabled,\n        },\n        res: {\n          label: \"レジスト\",\n          type: \"number\",\n          min: 0,\n          value: 500,\n          disabled: () => !this.supportEnabled,\n        },\n        skills: {\n          label: \"解放済みスキル\",\n          type: \"number\",\n          min: 1,\n          max: 3,\n          value: 3,\n          disabled: () => !this.supportEnabled,\n        },\n      }\n    };\n  },\n\n  created() {\n    this.parseParamsUrl(window.location.href);\n  },\n\n  methods: {\n    getParamClass(param) {\n      return param.disabled() ? \"disabled\" : \"\";\n    },\n\n    calcBattlePower() {\n      let hp = 0;\n      let atk = 0;\n      let def = 0;\n      let res = 0;\n      let tec = 0;\n      let rate = 1.0;\n      if (this.mainEnabled) {\n        const params = this.main;\n        hp += params.hp.value;\n        atk += params.atk.value;\n        def += params.def.value;\n        res += params.res.value;\n        tec += params.tec.value;\n        rate += params.stars.value * 0.1;\n        rate += params.master.value * 0.1;\n        rate += params.skillCost.value * 0.03;\n        rate += params.eqStars.value * 0.02;\n        rate += params.engageSkillCount.value * 0.05;\n        if (params.enchant.value)\n          rate += 0.1;\n      }\n      if (this.supportEnabled) {\n        const params = this.support;\n        hp += params.hp.value;\n        atk += params.atk.value;\n        def += params.def.value;\n        res += params.res.value;\n        rate += params.stars.value * 0.1;\n        rate += params.master.value * 0.1;\n        rate += params.skills.value * 0.05;\n      }\n      return Math.round(((hp * 0.05) + (atk * 2 * (1.0 + tec * 0.0003)) + (def * 2) + (res * 2)) * rate);\n    },\n\n    getParamsUrl() {\n      let params = [];\n\n      params.push(this.mainEnabled);\n      for (const v of Object.values(this.main))\n        params.push(v.value);\n\n      params.push(this.supportEnabled);\n      for (const v of Object.values(this.support))\n        params.push(v.value);\n\n      let url = window.location.href.replace(/\\?.+/, '').replace(/#.+/, '');\n      url += \"?bp=\" + params.join(',') + \"#battle_power\";\n      return url;\n    },\n\n    parseParamsUrl(url) {\n      url = decodeURIComponent(url);\n      let q = url.match(/\\?bp=([^#]+)/);\n      if (q) {\n        let params = q[1].split(',').map(this.parseValue);\n\n        this.mainEnabled = params.shift();\n        for (const v of Object.values(this.main))\n          v.value = params.shift();\n\n        this.supportEnabled = params.shift();\n        for (const v of Object.values(this.support))\n          v.value = params.shift();\n\n        return true;\n      }\n      return false;\n    },\n  },\n\n  computed: {\n    bpResult() {\n      return this.calcBattlePower();\n    },\n    bpUrl() {\n      return this.getParamsUrl();\n    },\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattlePointSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattlePointSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BattlePointSimulator.vue?vue&type=template&id=78557c83&scoped=true&\"\nimport script from \"./BattlePointSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./BattlePointSimulator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78557c83\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\",staticStyle:{\"padding\":\"10px 0px 0px 0px\"}},[(!_vm.embed)?_c('b-container',[_c('b-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},[_c('h5',{staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(\"ステータスシミュレータ\")])])],1)],1):_vm._e(),_c('b-tabs',{model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[_c('b-tab',{staticStyle:{\"padding\":\"10px 10px 0px 10px\"},attrs:{\"title\":\"メインキャラ\"}},[_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"基本情報\")])]),_vm._l((_vm.main),function(param,name,i){return _c('b-form-row',{key:i},[_c('b-col',{staticStyle:{\"text-align\":\"right\",\"margin\":\"auto 0 auto 0\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"8em\"},attrs:{\"for\":`stat-main-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`ss${_vm.uid}-main-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`ss${_vm.uid}-main-${name}`,\"size\":\"sm\",\"plain\":\"\"},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e(),(param.type == 'character')?_c('b-button',{staticClass:\"paddingless small-margin\",attrs:{\"variant\":\"outline-secondary\",\"id\":`ss${_vm.uid}-main-${name}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(param.value),\"title\":_vm.descToTitle(param.value),\"width\":\"100\",\"height\":\"100\"}}),_c('ChrSelector',{attrs:{\"target\":`ss${_vm.uid}-main-${name}`,\"chrs\":_vm.mainChrs,\"classfilter\":\"\",\"symbolfilter\":\"\",\"closeonclick\":\"\"},on:{\"click\":_vm.setMainChr}})],1):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"記憶の書＋強化ボード\")])]),_vm._l((_vm.mainBoosts),function(param,name,i){return _c('b-form-row',{key:i},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"9em\"},attrs:{\"for\":`ss${_vm.uid}-main-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`ss${_vm.uid}-main-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('div',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"スキル\")])]),_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.mainSkills),function(skill,si){return _c('b-button',{key:si,staticClass:\"paddingless small-margin\",attrs:{\"id\":`ss${_vm.uid}-main-skill${si}`,\"variant\":\"outline-secondary\",\"draggable\":\"\"},on:{\"dragstart\":function($event){return _vm.onSkillDrag(si)},\"drop\":function($event){return _vm.onSkillDrop(si)},\"dragover\":function($event){$event.preventDefault();return _vm.dummyHandler()}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(skill),\"title\":_vm.descToTitle(skill),\"width\":\"50\",\"height\":\"50\"}}),_c('SkillSelector',{attrs:{\"target\":`ss${_vm.uid}-main-skill${si}`,\"nullable\":\"\",\"closeonclick\":\"\",\"skills\":_vm.mainSkillList,\"excludes\":_vm.mainSkills},on:{\"click\":function($event){return _vm.setArrayElement(_vm.mainSkills, si, $event)}}})],1)}),1)],1)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"装備\")])]),_c('b-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.mainItems),function(item,i){return _c('span',{key:i},[_c('b-button',{staticClass:\"paddingless small-margin\",attrs:{\"variant\":\"outline-secondary\",\"id\":`ss${_vm.uid}-main-item${i}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(item),\"title\":_vm.descToTitle(item),\"width\":\"50\",\"height\":\"50\"}}),_c('ItemSelector',{attrs:{\"target\":`ss${_vm.uid}-main-item${i}`,\"items\":_vm.items,\"slotfilter\":_vm.mainItemSlots[i],\"classfilter\":_vm.mainClass,\"nullable\":\"\",\"closeonclick\":\"\"},on:{\"click\":function($event){return _vm.setArrayElement(_vm.mainItems, i, $event)}}})],1)],1)}),0)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"エンチャント\")])]),_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.mainEnchantPassive),function(item,i){return _c('span',{key:i},[_c('b-button',{staticClass:\"paddingless small-margin\",attrs:{\"variant\":\"outline-secondary\",\"id\":`ss${_vm.uid}-main-enchant${i}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(item),\"title\":_vm.descToTitle(item),\"width\":\"50\",\"height\":\"50\"}}),_c('SkillSelector',{attrs:{\"target\":`ss${_vm.uid}-main-enchant${i}`,\"nullable\":\"\",\"closeonclick\":\"\",\"skills\":_vm.getEnchantPassiveList()},on:{\"click\":function($event){return _vm.setArrayElement(_vm.mainEnchantPassive, i, $event)}}})],1)],1)}),0)],1),_vm._l((_vm.mainEnchants),function(param,name,i){return _c('b-form-row',{key:'enchant' + i},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"10em\"},attrs:{\"for\":`ss${_vm.uid}-main-enchant-${name}P`}},[_vm._v(_vm._s(param.label)+\" (%)\")])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`ss${_vm.uid}-main-enchant-${name}P`,\"size\":\"sm\",\"type\":\"number\",\"min\":0},model:{value:(param.valueP),callback:function ($$v) {_vm.$set(param, \"valueP\", _vm._n($$v))},expression:\"param.valueP\"}})],1),_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"4em\"},attrs:{\"for\":`ss${_vm.uid}-main-enchant-${name}F`}},[_vm._v(\" (固定値)\")])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`ss${_vm.uid}-main-enchant-${name}F`,\"size\":\"sm\",\"type\":\"number\",\"min\":0},model:{value:(param.valueF),callback:function ($$v) {_vm.$set(param, \"valueF\", _vm._n($$v))},expression:\"param.valueF\"}})],1)],1)})],2)],1)]),_c('div',[_c('b-container',[(_vm.main.character.value)?_c('div',{staticClass:\"status flex\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('HP'),\"title\":\"HP\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[0]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('アタック'),\"title\":\"アタック\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[1]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('ディフェンス'),\"title\":\"ディフェンス\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[2]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('マジック'),\"title\":\"マジック\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[3]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('レジスト'),\"title\":\"レジスト\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[4]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('テクニック'),\"title\":\"テクニック\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statMainResult[5]))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"戦闘力:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(_vm.statMainResult[6]))])]),(_vm.statMainResult[7])?_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"サポート込み戦闘力:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(_vm.statMainResult[7]))])]):_vm._e()]):_vm._e()])],1)]),_c('b-tab',{staticStyle:{\"padding\":\"10px 10px 0px 10px\"},attrs:{\"title\":\"サポートキャラ\"}},[_c('div',{staticClass:\"flex\"},[_c('div',[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"基本情報\")])]),_vm._l((_vm.support),function(param,name,i){return _c('b-form-row',{key:i},[_c('b-col',{staticStyle:{\"text-align\":\"right\",\"margin\":\"auto 0 auto 0\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"8em\"},attrs:{\"for\":`ss${_vm.uid}-sup-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`ss${_vm.uid}-sup-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e(),(param.type == 'bool')?_c('b-form-checkbox',{staticStyle:{\"width\":\"5em\"},attrs:{\"id\":`ss${_vm.uid}-sup-${name}`,\"size\":\"sm\",\"plain\":\"\"},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_vm._e(),(param.type == 'character')?_c('b-button',{staticClass:\"paddingless small-margin\",attrs:{\"variant\":\"outline-secondary\",\"id\":`ss${_vm.uid}-sup-${name}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(param.value),\"title\":_vm.descToTitle(param.value),\"width\":\"100\",\"height\":\"100\"}}),_c('ChrSelector',{attrs:{\"target\":`ss${_vm.uid}-sup-${name}`,\"chrs\":_vm.supChrs,\"nullable\":\"\",\"classfilter\":\"\",\"closeonclick\":\"\"},on:{\"click\":function($event){return _vm.setSupChr($event)}}})],1):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"記憶の書＋強化ボード\")])]),_vm._l((_vm.supportBoosts),function(param,name,i){return _c('b-form-row',{key:i},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"9em\"},attrs:{\"for\":`ss${_vm.uid}-sup-${name}`}},[_vm._v(_vm._s(param.label))])]),_c('b-col',[(param.type == 'number')?_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`ss${_vm.uid}-sup-${name}`,\"size\":\"sm\",\"type\":\"number\",\"min\":param.min,\"max\":param.max},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", _vm._n($$v))},expression:\"param.value\"}}):_vm._e()],1)],1)})],2)],1),_c('div',[_c('b-container',[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"装備\")])]),_c('b-row',[_c('b-col',{staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.supportItems),function(item,i){return _c('span',{key:i},[_c('b-button',{staticClass:\"paddingless small-margin\",attrs:{\"variant\":\"outline-secondary\",\"id\":`ss${_vm.uid}-sup-item${i}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getSkillIcon(item),\"title\":_vm.descToTitle(item),\"width\":\"50\",\"height\":\"50\"}}),_c('ItemSelector',{attrs:{\"target\":`ss${_vm.uid}-sup-item${i}`,\"items\":_vm.items,\"slotfilter\":_vm.supItemSlots[i],\"nullable\":\"\",\"closeonclick\":\"\"},on:{\"click\":function($event){return _vm.setArrayElement(_vm.supportItems, i, $event)}}})],1)],1)}),0)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h6',{staticStyle:{\"margin\":\"5px 0px\"}},[_vm._v(\"アミュレットスキル\")])]),_vm._l((_vm.supportEnchants),function(param,name,i){return _c('b-form-row',{key:'enchant' + i},[_c('b-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"align-self\":\"end\"}},[_c('label',{staticStyle:{\"width\":\"10em\"},attrs:{\"for\":`ss${_vm.uid}-sup-enchant-${name}P`}},[_vm._v(_vm._s(param.label)+\" (%)\")])]),_c('b-col',[_c('b-form-input',{staticClass:\"input-param\",staticStyle:{\"width\":\"4em\"},attrs:{\"id\":`ss${_vm.uid}-sup-enchant-${name}P`,\"size\":\"sm\",\"type\":\"number\",\"min\":0,\"step\":\"0.5\"},model:{value:(param.valueP),callback:function ($$v) {_vm.$set(param, \"valueP\", _vm._n($$v))},expression:\"param.valueP\"}})],1)],1)})],2)],1)]),_c('div',[_c('b-container',[(_vm.support.character.value)?_c('div',{staticClass:\"status flex\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('HP'),\"title\":\"HP\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statSupportResult[0]))])],1),(_vm.support.character.value.damageType=='アタック')?_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('アタック'),\"title\":\"アタック\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statSupportResult[1]))])],1):_vm._e(),(_vm.support.character.value.damageType=='マジック')?_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('マジック'),\"title\":\"マジック\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statSupportResult[3]))])],1):_vm._e(),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('ディフェンス'),\"title\":\"ディフェンス\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statSupportResult[2]))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('レジスト'),\"title\":\"レジスト\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(_vm.statSupportResult[4]))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"戦闘力:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(_vm.statSupportResult[6]))])])]):_vm._e()])],1)])],1),_c('div',{staticStyle:{\"padding\":\"0px 10px 10px 10px\"}},[_c('b-container',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('b-dropdown',{attrs:{\"text\":\"自動装備＆エンチャント\",\"size\":\"sm\"}},_vm._l((_vm.autoEquipTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){return _vm.autoEquip(i)}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1),(!_vm.embed)?_c('b-button',{staticStyle:{\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.highscoreSearch()}}},[_vm._v(\"このレベルで戦闘力が高い組み合わせを探す\")]):_vm._e(),(_vm.highscoreData.length)?_c('b-table',{attrs:{\"small\":\"\",\"outlined\":\"\",\"sticky-header\":\"\",\"items\":_vm.highscoreData,\"fields\":_vm.highscoreFields},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticStyle:{\"padding\":\"1px 10px\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.highscoreReplay(row.item)}}},[_vm._v(\" 再現 \")])]}}],null,false,3217728056)}):_vm._e()],1),(!_vm.embed)?_c('div',[_c('b-button',{attrs:{\"id\":`ss${_vm.uid}-copy-url`},on:{\"click\":function($event){return _vm.copyToClipboard(_vm.statUrl)}}},[_vm._v(\"パラメータを URL としてコピー\")]),_c('b-popover',{attrs:{\"target\":`ss${_vm.uid}-copy-url`,\"triggers\":\"click blur\",\"placement\":\"top\",\"custom-class\":\"url-popover\"}},[_vm._v(\" コピーしました：\"),_c('br'),_vm._v(_vm._s(_vm.statUrl)+\" \")])],1):_vm._e()])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-popover',{attrs:{\"target\":_vm.target,\"triggers\":\"click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"bottom\"}},[_c('div',{staticStyle:{\"margin\":\"4px 0px\"}},[(_vm.classfilter == true)?_c('b-button-group',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"sm\"}},_vm._l((_vm.filter.class),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.classes[i]),\"width\":\"20px\"}})],1)}),1):_vm._e(),(_vm.slotfilter == true)?_c('b-button-group',{attrs:{\"size\":\"sm\"}},_vm._l((_vm.filter.slot),function(c,i){return _c('b-button',{key:i,attrs:{\"pressed\":c.state,\"variant\":\"outline-secondary\"},on:{\"update:pressed\":function($event){return _vm.$set(c, \"state\", $event)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(_vm.slots[i]),\"width\":\"20px\"}})],1)}),1):_vm._e()],1),_c('div',{staticClass:\"chr-area\"},[(_vm.nullable)?_c('b-link',{on:{\"mouseover\":function($event){return _vm.$emit('mouseover', null)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', null)},\"click\":function($event){return _vm.onClick(null)}}},[_c('b-img-lazy',{staticClass:\"rounded-bordered\",attrs:{\"src\":_vm.getImageURL('null'),\"title\":\"(なし)\",\"width\":\"50\",\"height\":\"50\"}})],1):_vm._e(),_vm._l((_vm.filteredItems),function(v,i){return _c('b-link',{key:i,on:{\"mouseover\":function($event){return _vm.$emit('mouseover', v)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', v)},\"click\":function($event){return _vm.onClick(v)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":_vm.descToTitle(v),\"width\":\"50\"}})],1)})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-popover :target=\"target\" triggers=\"click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"bottom\">\n    <div style=\"margin: 4px 0px\">\n      <b-button-group v-if=\"classfilter == true\" size=\"sm\" style=\"margin-right: 10px\">\n        <b-button v-for=\"(c, i) in filter.class\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n          <b-img-lazy :src=\"getImageURL(classes[i])\" width=\"20px\" />\n        </b-button>\n      </b-button-group>\n      <b-button-group v-if=\"slotfilter == true\" size=\"sm\">\n        <b-button v-for=\"(c, i) in filter.slot\" :key=\"i\" :pressed.sync=\"c.state\" variant=\"outline-secondary\">\n          <b-img-lazy :src=\"getImageURL(slots[i])\" width=\"20px\" />\n        </b-button>\n      </b-button-group>\n    </div>\n    <div class=\"chr-area\">\n      <b-link v-if=\"nullable\" @mouseover=\"$emit('mouseover', null)\" @mouseleave=\"$emit('mouseleave', null)\" @click=\"onClick(null)\">\n        <b-img-lazy :src=\"getImageURL('null')\" title=\"(なし)\" width=\"50\" height=\"50\" class=\"rounded-bordered\" />\n      </b-link>\n      <b-link v-for=\"(v, i) in filteredItems\" :key=\"i\" @mouseover=\"$emit('mouseover', v)\" @mouseleave=\"$emit('mouseleave', v)\" @click=\"onClick(v)\">\n        <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"descToTitle(v)\" width=\"50\" />\n      </b-link>\n    </div>\n  </b-popover>\n</template>\n\n<script>\nimport jsonConstants from '../../assets/constants.json'\nimport common from \"../common\";\n\nexport default {\n  name: 'ItemSelector',\n  mixins: [common],\n  props: {\n    target: {\n      type: String,\n      required: true,\n    },\n    items: {\n      type: Array,\n      required: true,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n    classfilter: {\n      type: [Boolean, String],\n      default: false,\n    },\n    slotfilter: {\n      type: [Boolean, String],\n      default: false,\n    },\n    rarityfilter: {\n      type: Boolean,\n      default: false,\n    },\n\n    closeonclick: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      classes: jsonConstants.classes,\n      slots: jsonConstants.itemTypes,\n      rarities: jsonConstants.rarities,\n\n      filter: {\n        class: [],\n        slot: [],\n        rarity: [],\n      },\n    }\n  },\n\n  computed: {\n    filteredItems() {\n      return this.items.filter(a => this.filterItem(a));\n    },\n  },\n\n  created() {\n    this.fillFilter(this.filter.class, this.classes);\n    this.fillFilter(this.filter.slot, this.slots);\n    this.fillFilter(this.filter.rarity, this.rarities);\n  },\n\n  methods: {\n    filterItem(item) {\n      let ok = true;\n      if (typeof (this.classfilter) === 'boolean')\n        ok = !this.classfilter || this.filterMatch(this.filter.class, item.classIds);\n      else\n        ok = !item.classes || item.classes.includes(this.classfilter);\n\n      if (ok) {\n        if (typeof (this.slotfilter) === 'boolean')\n          ok = !this.slotfilter || this.filterMatch(this.filter.slot, item.slotId);\n        else\n          ok = item.slot == this.slotfilter;\n      }\n\n      return ok &&\n        (!this.rarityfilter || this.filterMatch(this.filter.rarity, item.rarityId));\n    },\n\n    onClick(item) {\n      this.$emit('click', item);\n      if (this.closeonclick) {\n        this.$root.$emit('bv::hide::popover', this.target)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.chr-area {\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  width: 425px;\n  min-height: 150px;\n  max-height: 250px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n/*\n.btn-outline-secondary {\n  padding: 3px !important;\n}\n*/\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemSelector.vue?vue&type=template&id=7a3d863d&\"\nimport script from \"./ItemSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemSelector.vue?vue&type=style&index=0&id=7a3d863d&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-popover',{attrs:{\"target\":_vm.target,\"triggers\":\"click blur\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"placement\":\"bottom\"}},[_c('div',{staticClass:\"chr-area\"},[(_vm.nullable)?_c('b-link',{on:{\"mouseover\":function($event){return _vm.$emit('mouseover', null)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', null)},\"click\":function($event){return _vm.onClick(null)}}},[_c('b-img-lazy',{staticClass:\"rounded-bordered\",attrs:{\"src\":_vm.getImageURL('null'),\"title\":\"(なし)\",\"width\":\"50\",\"height\":\"50\"}})],1):_vm._e(),_vm._l((_vm.filteredItems),function(v,i){return _c('b-link',{key:i,on:{\"mouseover\":function($event){return _vm.$emit('mouseover', v)},\"mouseleave\":function($event){return _vm.$emit('mouseleave', v)},\"click\":function($event){return _vm.onClick(v)}}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(v.icon),\"title\":`${_vm.descToTitle(v)}`,\"width\":\"50\"}})],1)})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-popover :target=\"target\" triggers=\"click blur\" :delay=\"{show:0, hide:250}\" no-fade placement=\"bottom\">\n    <div class=\"chr-area\">\n      <b-link v-if=\"nullable\"  @mouseover=\"$emit('mouseover', null)\" @mouseleave=\"$emit('mouseleave', null)\" @click=\"onClick(null)\">\n        <b-img-lazy :src=\"getImageURL('null')\" title=\"(なし)\" width=\"50\" height=\"50\" class=\"rounded-bordered\" />\n      </b-link>\n      <b-link v-for=\"(v, i) in filteredItems\" :key=\"i\" @mouseover=\"$emit('mouseover', v)\" @mouseleave=\"$emit('mouseleave', v)\" @click=\"onClick(v)\">\n        <b-img-lazy :src=\"getImageURL(v.icon)\" :title=\"`${descToTitle(v)}`\" width=\"50\" />\n      </b-link>\n    </div>\n  </b-popover>\n</template>\n\n<script>\nimport common from \"../common\";\n\nexport default {\n  name: 'SkillSelector',\n  mixins: [common],\n  props: {\n    target: {\n      type: String,\n      required: true,\n    },\n    skills: {\n      type: Array,\n      required: true,\n    },\n    excludes: {\n      type: Array,\n      default: () => [],\n    },\n    characters: {\n      type: Array,\n      default: () => [],\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n    closeonclick: {\n      type: Boolean,\n      default: false,\n    },\n    chrSelector: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      currentChr: null,\n    }\n  },\n\n  created() {\n  },\n\n  methods: {\n    onClick(item) {\n      this.$emit('click', item);\n      if (this.closeonclick) {\n        this.$root.$emit('bv::hide::popover', this.target)\n      }\n    }\n  },\n\n  computed: {\n    filteredItems() {\n      return this.skills.filter(a => !this.excludes.includes(a));\n    },\n  },\n}\n</script>\n\n<style>\n.chr-area {\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  width: 425px;\n  min-height: 150px;\n  max-height: 250px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n/*\n.btn-outline-secondary {\n  padding: 3px !important;\n}\n*/\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SkillSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SkillSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SkillSelector.vue?vue&type=template&id=fe69adda&\"\nimport script from \"./SkillSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./SkillSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SkillSelector.vue?vue&type=style&index=0&id=fe69adda&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"panel\" style=\"padding: 10px 0px 0px 0px;\">\n    <b-container v-if=\"!embed\">\n      <b-row>\n        <b-col style=\"text-align:center\">\n          <h5 style=\"margin-bottom: 5px\">ステータスシミュレータ</h5>\n        </b-col>\n      </b-row>\n    </b-container>\n\n    <b-tabs v-model=\"tabIndex\">\n      <b-tab title=\"メインキャラ\" style=\"padding: 10px 10px 0px 10px\">\n        <div class=\"flex\">\n          <div>\n            <b-container>\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">基本情報</h6>\n              </div>\n              <b-form-row v-for=\"(param, name, i) in main\" :key=\"i\">\n                <b-col style=\"text-align: right; margin: auto 0 auto 0;\" align-self=\"end\">\n                  <label :for=\"`stat-main-${name}`\" style=\"width: 8em\">{{param.label}}</label>\n                </b-col>\n                <b-col>\n                  <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`ss${uid}-main-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                  <b-form-checkbox v-if=\"param.type == 'bool'\" style=\"width: 5em\" :id=\"`ss${uid}-main-${name}`\" v-model=\"param.value\" size=\"sm\" plain></b-form-checkbox>\n                  <b-button v-if=\"param.type == 'character'\" variant=\"outline-secondary\" class=\"paddingless small-margin\" :id=\"`ss${uid}-main-${name}`\">\n                    <b-img-lazy :src=\"getSkillIcon(param.value)\" :title=\"descToTitle(param.value)\" width=\"100\" height=\"100\" />\n                    <ChrSelector :target=\"`ss${uid}-main-${name}`\" :chrs=\"mainChrs\" classfilter symbolfilter closeonclick @click=\"setMainChr\" />\n                  </b-button>\n                </b-col>\n              </b-form-row>\n\n            </b-container>\n          </div>\n          <div>\n            <b-container>\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">記憶の書＋強化ボード</h6>\n              </div>\n              <b-form-row v-for=\"(param, name, i) in mainBoosts\" :key=\"i\">\n                <b-col style=\"text-align: right\" align-self=\"end\">\n                  <label style=\"width: 9em\" :for=\"`ss${uid}-main-${name}`\">{{param.label}}</label>\n                </b-col>\n                <b-col>\n                  <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`ss${uid}-main-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                </b-col>\n              </b-form-row>\n            </b-container>\n          </div>\n          <div>\n            <b-container>\n              <div>\n                <div style=\"text-align:center\">\n                  <h6 style=\"margin: 5px 0px\">スキル</h6>\n                </div>\n                <b-form-row>\n                  <b-col style=\"text-align: center\">\n                    <b-button v-for=\"(skill, si) in mainSkills\" :key=\"si\" :id=\"`ss${uid}-main-skill${si}`\" variant=\"outline-secondary\" class=\"paddingless small-margin\"\n                              draggable @dragstart=\"onSkillDrag(si)\" @drop=\"onSkillDrop(si)\" @dragover.prevent=\"dummyHandler()\">\n                      <b-img-lazy :src=\"getSkillIcon(skill)\" :title=\"descToTitle(skill)\" width=\"50\" height=\"50\" />\n                      <SkillSelector :target=\"`ss${uid}-main-skill${si}`\" nullable closeonclick\n                                     :skills=\"mainSkillList\" :excludes=\"mainSkills\" @click=\"setArrayElement(mainSkills, si, $event)\" />\n                    </b-button>\n                  </b-col>\n                </b-form-row>\n              </div>\n\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">装備</h6>\n              </div>\n              <b-row>\n                <b-col style=\"text-align:center\">\n                  <span v-for=\"(item, i) in mainItems\" :key=\"i\">\n                    <b-button variant=\"outline-secondary\" class=\"paddingless small-margin\" :id=\"`ss${uid}-main-item${i}`\">\n                      <b-img-lazy :src=\"getSkillIcon(item)\" :title=\"descToTitle(item)\" width=\"50\" height=\"50\" />\n                      <ItemSelector :target=\"`ss${uid}-main-item${i}`\" :items=\"items\" @click=\"setArrayElement(mainItems, i, $event)\"\n                                    :slotfilter=\"mainItemSlots[i]\" :classfilter=\"mainClass\" nullable closeonclick />\n                    </b-button>\n                  </span>\n                </b-col>\n              </b-row>\n\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">エンチャント</h6>\n              </div>\n              <b-form-row>\n                <b-col style=\"text-align: center\">\n                  <span v-for=\"(item, i) in mainEnchantPassive\" :key=\"i\">\n                    <b-button variant=\"outline-secondary\" class=\"paddingless small-margin\" :id=\"`ss${uid}-main-enchant${i}`\">\n                      <b-img-lazy :src=\"getSkillIcon(item)\" :title=\"descToTitle(item)\" width=\"50\" height=\"50\" />\n                      <SkillSelector :target=\"`ss${uid}-main-enchant${i}`\" nullable closeonclick\n                                     :skills=\"getEnchantPassiveList()\" @click=\"setArrayElement(mainEnchantPassive, i, $event)\" />\n                    </b-button>\n                  </span>\n                </b-col>\n              </b-form-row>\n              <b-form-row v-for=\"(param, name, i) in mainEnchants\" :key=\"'enchant' + i\">\n                <b-col style=\"text-align: right\" align-self=\"end\">\n                  <label style=\"width: 10em\" :for=\"`ss${uid}-main-enchant-${name}P`\">{{param.label}} (%)</label>\n                </b-col>\n                <b-col>\n                  <b-form-input style=\"width: 4em\" :id=\"`ss${uid}-main-enchant-${name}P`\" v-model.number=\"param.valueP\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"0\"></b-form-input>\n                </b-col>\n                <b-col style=\"text-align: right\" align-self=\"end\">\n                  <label style=\"width: 4em\" :for=\"`ss${uid}-main-enchant-${name}F`\"> (固定値)</label>\n                </b-col>\n                <b-col>\n                  <b-form-input style=\"width: 4em\" :id=\"`ss${uid}-main-enchant-${name}F`\" v-model.number=\"param.valueF\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"0\"></b-form-input>\n                </b-col>\n              </b-form-row>\n            </b-container>\n          </div>\n        </div>\n        <div>\n          <b-container>\n            <div v-if=\"main.character.value\" class=\"status flex\" style=\"margin-bottom: 10px\">\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('HP')\" title=\"HP\" width=\"18\" height=\"18\" /><span>{{statMainResult[0]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('アタック')\" title=\"アタック\" width=\"18\" height=\"18\" /><span>{{statMainResult[1]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('ディフェンス')\" title=\"ディフェンス\" width=\"18\" height=\"18\" /><span>{{statMainResult[2]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('マジック')\" title=\"マジック\" width=\"18\" height=\"18\" /><span>{{statMainResult[3]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('レジスト')\" title=\"レジスト\" width=\"18\" height=\"18\" /><span>{{statMainResult[4]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('テクニック')\" title=\"テクニック\" width=\"18\" height=\"18\" /><span>{{statMainResult[5]}}</span></div>\n              <div class=\"param-box\"><span class=\"param-name\">戦闘力:</span><span class=\"param-value\">{{statMainResult[6]}}</span></div>\n              <div class=\"param-box\" v-if=\"statMainResult[7]\"><span class=\"param-name\">サポート込み戦闘力:</span><span class=\"param-value\">{{statMainResult[7]}}</span></div>\n            </div>\n          </b-container>\n        </div>\n      </b-tab>\n      <b-tab title=\"サポートキャラ\" style=\"padding: 10px 10px 0px 10px \">\n        <div class=\"flex\">\n          <div>\n            <b-container>\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">基本情報</h6>\n              </div>\n              <b-form-row v-for=\"(param, name, i) in support\" :key=\"i\">\n                <b-col style=\"text-align: right; margin: auto 0 auto 0;\" align-self=\"end\">\n                  <label style=\"width: 8em\" :for=\"`ss${uid}-sup-${name}`\">{{param.label}}</label>\n                </b-col>\n                <b-col>\n                  <b-form-input v-if=\"param.type == 'number'\" style=\"width: 5em\" :id=\"`ss${uid}-sup-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                  <b-form-checkbox v-if=\"param.type == 'bool'\" style=\"width: 5em\" :id=\"`ss${uid}-sup-${name}`\" v-model=\"param.value\" size=\"sm\" plain></b-form-checkbox>\n                  <b-button v-if=\"param.type == 'character'\" variant=\"outline-secondary\" class=\"paddingless small-margin\" :id=\"`ss${uid}-sup-${name}`\">\n                    <b-img-lazy :src=\"getSkillIcon(param.value)\" :title=\"descToTitle(param.value)\" width=\"100\" height=\"100\" />\n                    <ChrSelector :target=\"`ss${uid}-sup-${name}`\" :chrs=\"supChrs\" nullable classfilter closeonclick @click=\"setSupChr($event)\" />\n                  </b-button>\n                </b-col>\n              </b-form-row>\n            </b-container>\n          </div>\n          <div>\n            <b-container>\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">記憶の書＋強化ボード</h6>\n              </div>\n              <b-form-row v-for=\"(param, name, i) in supportBoosts\" :key=\"i\">\n                <b-col style=\"text-align: right\" align-self=\"end\">\n                  <label style=\"width: 9em\" :for=\"`ss${uid}-sup-${name}`\">{{param.label}}</label>\n                </b-col>\n                <b-col>\n                  <b-form-input v-if=\"param.type == 'number'\" style=\"width: 4em\" :id=\"`ss${uid}-sup-${name}`\" v-model.number=\"param.value\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"param.min\" :max=\"param.max\"></b-form-input>\n                </b-col>\n              </b-form-row>\n            </b-container>\n          </div>\n          <div>\n            <b-container>\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">装備</h6>\n              </div>\n              <b-row>\n                <b-col style=\"text-align:center\">\n                  <span v-for=\"(item, i) in supportItems\" :key=\"i\">\n                    <b-button variant=\"outline-secondary\" class=\"paddingless small-margin\" :id=\"`ss${uid}-sup-item${i}`\">\n                      <b-img-lazy :src=\"getSkillIcon(item)\" :title=\"descToTitle(item)\" width=\"50\" height=\"50\" />\n                      <ItemSelector :target=\"`ss${uid}-sup-item${i}`\" :items=\"items\" @click=\"setArrayElement(supportItems, i, $event)\"\n                                    :slotfilter=\"supItemSlots[i]\" nullable closeonclick />\n                    </b-button>\n                  </span>\n                </b-col>\n              </b-row>\n\n              <div style=\"text-align:center\">\n                <h6 style=\"margin: 5px 0px\">アミュレットスキル</h6>\n              </div>\n              <b-form-row v-for=\"(param, name, i) in supportEnchants\" :key=\"'enchant' + i\">\n                <b-col style=\"text-align: right\" align-self=\"end\">\n                  <label style=\"width: 10em\" :for=\"`ss${uid}-sup-enchant-${name}P`\">{{param.label}} (%)</label>\n                </b-col>\n                <b-col>\n                  <b-form-input style=\"width: 4em\" :id=\"`ss${uid}-sup-enchant-${name}P`\" v-model.number=\"param.valueP\" size=\"sm\" type=\"number\" class=\"input-param\" :min=\"0\" step=\"0.5\"></b-form-input>\n                </b-col>\n              </b-form-row>\n            </b-container>\n          </div>\n        </div>\n        <div>\n          <b-container>\n            <div v-if=\"support.character.value\" class=\"status flex\" style=\"margin-bottom: 10px\">\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('HP')\" title=\"HP\" width=\"18\" height=\"18\" /><span>{{statSupportResult[0]}}</span></div>\n              <div class=\"param-box\" v-if=\"support.character.value.damageType=='アタック'\"><b-img-lazy :src=\"getImageURL('アタック')\" title=\"アタック\" width=\"18\" height=\"18\" /><span>{{statSupportResult[1]}}</span></div>\n              <div class=\"param-box\" v-if=\"support.character.value.damageType=='マジック'\"><b-img-lazy :src=\"getImageURL('マジック')\" title=\"マジック\" width=\"18\" height=\"18\" /><span>{{statSupportResult[3]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('ディフェンス')\" title=\"ディフェンス\" width=\"18\" height=\"18\" /><span>{{statSupportResult[2]}}</span></div>\n              <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('レジスト')\" title=\"レジスト\" width=\"18\" height=\"18\" /><span>{{statSupportResult[4]}}</span></div>\n              <div class=\"param-box\"><span class=\"param-name\">戦闘力:</span><span class=\"param-value\">{{statSupportResult[6]}}</span></div>\n            </div>\n          </b-container>\n        </div>\n      </b-tab>\n    </b-tabs>\n    <div style=\"padding: 0px 10px 10px 10px\">\n      <b-container>\n        <div style=\"margin-bottom: 10px\">\n          <b-dropdown text=\"自動装備＆エンチャント\" size=\"sm\">\n            <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in autoEquipTypes\" :key=\"i\" @click=\"autoEquip(i)\">\n              {{ c }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <b-button v-if=\"!embed\" @click=\"highscoreSearch()\" style=\"margin-left: 5px\">このレベルで戦闘力が高い組み合わせを探す</b-button>\n          <b-table v-if=\"highscoreData.length\" small outlined sticky-header :items=\"highscoreData\" :fields=\"highscoreFields\">\n            <template #cell(actions)=\"row\">\n              <b-button size=\"sm\" @click=\"highscoreReplay(row.item)\" style=\"padding: 1px 10px\">\n                再現\n              </b-button>\n            </template>\n          </b-table>\n        </div>\n        <div v-if=\"!embed\">\n          <b-button :id=\"`ss${uid}-copy-url`\" @click=\"copyToClipboard(statUrl)\">パラメータを URL としてコピー</b-button>\n          <b-popover :target=\"`ss${uid}-copy-url`\" triggers=\"click blur\" placement=\"top\" custom-class=\"url-popover\">\n            コピーしました：<br />{{ statUrl }}\n          </b-popover>\n        </div>\n      </b-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ChrSelector from '../parts/ChrSelector.vue'\nimport ItemSelector from '../parts/ItemSelector.vue'\nimport SkillSelector from '../parts/SkillSelector.vue'\nimport commonjs from \"../common.js\";\nimport lookupjs from \"./lookup.js\";\n\nexport default {\n  name: 'StatusSimulator',\n  components: {\n    ChrSelector,\n    ItemSelector,\n    SkillSelector,\n  },\n  props: {\n    embed: {\n      type: Boolean,\n      default: false,\n    },\n    data: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  mixins: [commonjs, lookupjs],\n\n  data() {\n    return {\n      uid: this.$genUniqueId(),\n\n      mainItemSlots: [\"武器\", \"鎧\", \"兜\", \"アクセサリ\"],\n      supItemSlots: [\"月のアミュレット\", \"太陽のアミュレット\"],\n\n      main: {\n        character: {\n          label: \"キャラ\",\n          type: \"character\",\n          value: null,\n        },\n        star: {\n          label: \"⭐\",\n          type: \"number\",\n          min: 1,\n          max: 6,\n          value: 6,\n        },\n        level: {\n          label: \"レベル\",\n          type: \"number\",\n          min: 1,\n          value: 114,\n        },\n        master: {\n          label: \"マスターレベル\",\n          type: \"number\",\n          min: 0,\n          max: 3,\n          value: 3,\n        },\n        loveBonus: {\n          label: \"好感度ボーナス\",\n          type: \"bool\",\n          value: true,\n        },\n        engage: {\n          label: \"エンゲージ\",\n          type: \"bool\",\n          value: true,\n        },\n      },\n      mainBoosts: {\n        hp: {\n          label: \"HP (%)\",\n          type: \"number\",\n          min: 0,\n          value: 150,\n        },\n        atk: {\n          label: \"アタック (%)\",\n          type: \"number\",\n          min: 0,\n          value: 140,\n        },\n        def: {\n          label: \"ディフェンス (%)\",\n          type: \"number\",\n          min: 0,\n          value: 130,\n        },\n        mag: {\n          label: \"マジック (%)\",\n          type: \"number\",\n          min: 0,\n          value: 140,\n        },\n        res: {\n          label: \"レジスト (%)\",\n          type: \"number\",\n          min: 0,\n          value: 130,\n        },\n        tec: {\n          label: \"テクニック (%)\",\n          type: \"number\",\n          min: 0,\n          value: 50,\n        },\n      },\n      mainEnchants: {\n        hp: {\n          label: \"HP\",\n          valueP: 0,\n          valueF: 0,\n        },\n        atk: {\n          label: \"アタック\",\n          valueP: 0,\n          valueF: 0,\n        },\n        def: {\n          label: \"ディフェンス\",\n          valueP: 0,\n          valueF: 0,\n        },\n        mag: {\n          label: \"マジック\",\n          valueP: 0,\n          valueF: 0,\n        },\n        res: {\n          label: \"レジスト\",\n          valueP: 0,\n          valueF: 0,\n        },\n      },\n      mainSkills: [null, null, null],\n      mainItems: [null, null, null, null],\n      mainEnchantPassive: [null],\n\n      support: {\n        character: {\n          label: \"キャラ\",\n          type: \"character\",\n          value: null,\n        },\n        star: {\n          label: \"⭐\",\n          type: \"number\",\n          min: 1,\n          max: 6,\n          value: 6,\n        },\n        level: {\n          label: \"レベル\",\n          type: \"number\",\n          min: 1,\n          value: 114,\n        },\n        master: {\n          label: \"マスターレベル\",\n          type: \"number\",\n          min: 0,\n          max: 3,\n          value: 3,\n        },\n        loveBonus: {\n          label: \"好感度ボーナス\",\n          type: \"bool\",\n          value: true,\n        },\n      },\n      supportBoosts: {\n        hp: {\n          label: \"HP (%)\",\n          type: \"number\",\n          min: 0,\n          value: 110,\n        },\n        atk: {\n          label: \"アタック (%)\",\n          type: \"number\",\n          min: 0,\n          value: 120,\n        },\n        def: {\n          label: \"ディフェンス (%)\",\n          type: \"number\",\n          min: 0,\n          value: 110,\n        },\n        mag: {\n          label: \"マジック (%)\",\n          type: \"number\",\n          min: 0,\n          value: 120,\n        },\n        res: {\n          label: \"レジスト (%)\",\n          type: \"number\",\n          min: 0,\n          value: 110,\n        },\n      },\n      supportEnchants: {\n        hp: {\n          label: \"HP\",\n          valueP: 0,\n          valueF: 0,\n        },\n        atk: {\n          label: \"アタック\",\n          valueP: 0,\n          valueF: 0,\n        },\n        def: {\n          label: \"ディフェンス\",\n          valueP: 0,\n          valueF: 0,\n        },\n        mag: {\n          label: \"マジック\",\n          valueP: 0,\n          valueF: 0,\n        },\n        res: {\n          label: \"レジスト\",\n          valueP: 0,\n          valueF: 0,\n        },\n      },\n      supportItems: [null, null],\n      supportAmulet1Skill: null,\n      supportAmulet2Skill: null,\n\n      amulet1Skills: [\n        {\n          desc: \"アタック→アタック 15%\"\n        },\n        {\n          desc: \"マジック→マジック 15%\"\n        },\n        {\n          desc: \"アタック→マジック 15%\"\n        },\n        {\n          desc: \"マジック→アタック 15%\"\n        }\n      ],\n\n      amulet2Skills: [\n        {\n          desc: \"シールド 1500\"\n        },\n        {\n          desc: \"最大HP→シールド 12%\"\n        },\n        {\n          desc: \"ダメージ耐性 12%\"\n        },\n        {\n          desc: \"最大HP→最大HP 15%\"\n        },\n        {\n          desc: \"アタック→最大HP 150%\"\n        },\n        {\n          desc: \"マジック→最大HP 150%\"\n        },\n      ],\n\n      autoEquipTypes: [\n        \"戦闘力優先\",\n        \"ダメージ優先\",\n        \"デバフ優先\",\n        \"攻撃力優先\",\n        \"HP 優先\",\n        \"ディフェンス優先\",\n        \"レジスト優先\",\n        \"リセット\",\n      ],\n      AUTO_EQUIP_TYPE: {\n        BATTLE_POWER: 0,\n        DAMAGE: 1,\n        DEBUF: 2,\n        ATTACK_POWER: 3,\n        HP: 4,\n        DEF: 5,\n        RES: 6,\n        RESET: 7,\n      },\n\n      tabIndex: 0,\n      highscoreData: [],\n      highscoreFields: [\n        {\n          key: \"index\",\n          label: \"順位\",\n        },\n        {\n          key: \"bp\",\n          label: \"戦闘力\",\n        },\n        {\n          key: \"main\",\n          label: \"メイン\",\n        },\n        {\n          key: \"support\",\n          label: \"サポート\",\n        },\n        {\n          key: \"actions\",\n          label: \"アクション\",\n        }\n      ],\n\n      prevMainEngage: true,\n      draggingSkillIdx: -1,\n    };\n  },\n\n  created() {\n    this.setupDB();\n    this.deserialize(structuredClone(this.data));\n    if (!this.embed) {\n      this.setMainChr(this.mainChrs[0]);\n      this.parseParamsUrl(window.location.href);\n    }\n  },\n  \n  mounted() {\n  },\n\n  methods: {\n    setMainChr(chr) {\n      this.main.character.value = chr;\n      this.validateItems();\n\n      for (let k in this.mainEnchants) {\n        let params = this.mainEnchants[k];\n        params.valueP = 0;\n        params.valueF = 0;\n        if (chr && chr.damageType == params.label) {\n          params.valueP = 35;\n        }\n      }\n      this.autoMainSkill();\n      this.autoEquip(this.embed ? 1 : 0);\n    },\n    updateItemScore() {\n      let dmgTypes = [];\n      let debufTypes = [];\n\n      const chr = this.main.character.value;\n      if (chr) {\n        if (chr.damageType == \"アタック\") {\n          dmgTypes = [\"アタック\", \"与ダメージ\", \"与ダメージ(物理)\", \"クリティカルダメージ倍率\"];\n          debufTypes = [\"ダメージ耐性\", \"ダメージ耐性(物理)\"];\n        }\n        else {\n          dmgTypes = [\"マジック\", \"与ダメージ\", \"与ダメージ(魔法)\", \"クリティカルダメージ倍率\"];\n          debufTypes = [\"ダメージ耐性\", \"ダメージ耐性(魔法)\"];\n        }\n\n        // 攻撃スキルがセットされていたら 与ダメージ(スキル) を考慮\n        let isAttackSkillSet = false;\n        for (const skill of this.mainSkills) {\n          if (skill && skill.isActive && skill.damageRate) {\n            isAttackSkillSet = true;\n            dmgTypes.push(\"与ダメージ(スキル)\");\n            break;\n          }\n        }\n\n        // アサシン、2回攻撃持ち、攻撃スキルなしの場合 与ダメージ(通常攻撃) を考慮\n        if (chr.class == \"アサシン\" || chr.talent?.doubleAttack || !isAttackSkillSet) {\n          dmgTypes.push(\"与ダメージ(通常攻撃)\");\n        }\n      }\n\n      const condMatch = function (effect) {\n        if (effect.condition) {\n          if (effect.value > 0 && effect.condition.turn) {\n            // ターン経過が必要なバフは除外\n            // (マイナス効果は考慮)\n            return false;\n          }\n\n          // 近接攻撃時/遠距離攻撃時バフを考慮\n          if (effect.condition.onCloseCombat && chr.range > 1) {\n            return false;\n          }\n          if (effect.condition.onRangedCombat && chr.range == 1) {\n            return false;\n          }\n\n          if (effect.condition.onClass) {\n            // 特定クラスに対してのみ有効な効果を考慮\n            if (!effect.condition.onClass.includes(chr?.class)) {\n              return false;\n            }\n          }\n        }\n        return true;\n      };\n\n      for (let item of this.items) {\n        let dmgEffects = new Array(this.effectTypes.length);\n        let debufEffects = new Array(this.effectTypes.length);\n        for (let effect of (item.buff ?? [])) {\n          if (dmgTypes.includes(effect.type) && condMatch(effect)) {\n            dmgEffects[effect.typeId] = effect.value; // += ではなく = 、ブループラネット等対策。\n          }\n        }\n        for (let effect of (item.debuff ?? [])) {\n          if (debufTypes.includes(effect.type)) {\n            debufEffects[effect.typeId] = effect.value;\n          }\n        }\n        item.dmgScore = dmgEffects.reduce((t, v) => v ? t + v : t, 0);\n        item.debufScore = debufEffects.reduce((t, v) => v ? t + v : t, 0);\n      }\n    },\n\n    autoMainSkill() {\n      this.mainSkills = this.autoMainSkillImpl(this.main.character.value);\n    },\n    autoMainSkillImpl(chr) {\n      if (!chr) {\n        return [null, null, null];\n      }\n      let skills = null;\n      if (chr.engage && this.main.engage.value)\n        skills = [...chr.engage.skills];\n      else\n        skills = [...chr.skills];\n      skills = skills.sort((a, b) => this.getSkillBPRate(b) - this.getSkillBPRate(a));\n      return skills.slice(0, 3);\n    },\n    setSupChr(chr) {\n      this.support.character.value = chr;\n\n      for (let k in this.supportEnchants) {\n        let params = this.supportEnchants[k];\n        params.valueP = 0;\n        params.valueF = 0;\n        if (chr && chr.damageType == params.label) {\n          params.valueP = 15;\n        }\n      }\n      this.autoEquip(this.embed ? 1 : 0);\n    },\n\n    getParamClass(param) {\n      return param.disabled() ? \"disabled\" : \"\";\n    },\n\n    findItem(name) {\n      const r = this.searchTableWithName.get(name);\n      if (!r)\n        console.log(`${name} not found`);\n      return r;\n    },\n\n    getSkillIcon(skill) {\n      return this.getImageURL(skill ? skill.icon : null);\n    },\n    getSkillBPRate(skill) {\n      let score = 0;\n      if (skill) {\n        score += skill.cost * 0.03;\n        if (skill.isEngageSkill)\n          score += 0.05;\n      }\n      return score;\n    },\n\n    matchClass(item, chr) {\n      if (item) {\n        if (!item.classes || item.classes.includes(chr.class))\n          return true;\n      }\n      return false;\n    },\n    mainCanEquip(item, slot = null) {\n      if (this.matchClass(item, this.main.character.value)) {\n        if (!slot || item.slot == slot)\n          return true;\n      }\n      return false;\n    },\n    supportCanEquip(item, slot) {\n      if (item) {\n        if (!slot || item.slot == slot)\n          return true;\n      }\n      return false;\n    },\n\n    validateItems() {\n      let mainItems = this.mainItems;\n      for (let i = 0; i < mainItems.length; ++i) {\n        if (!this.mainCanEquip(mainItems[i], this.mainItemSlots[i]))\n          mainItems[i] = null;\n      }\n\n      var supItems = this.supportItems;\n      for (let i = 0; i < supItems.length; ++i) {\n        if (!this.supportCanEquip(supItems[i], this.supItemSlots[i]))\n          supItems[i] = null;\n      }\n    },\n\n    autoEquipImpl(ma, sa, type) {\n      if (!ma.character)\n        return;\n\n      this.updateItemScore();\n      let result = {\n        main: {\n          items: [null, null, null, null],\n          enchants: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          enchantPassive: [null],\n        },\n        support: {\n          items: [null, null],\n          enchants: [0, 0, 0, 0, 0],\n        },\n      };\n      const mapi = ma.character ? ma.character.damageType == \"アタック\" ? 1 : 3 : 0;\n      const sapi = sa.character ? sa.character.damageType == \"アタック\" ? 1 : 3 : 0;\n      const symbol = ma.character.symbol;\n      const tec = ma.status[5];\n      let ap = Math.round(ma.status[mapi] * 1.35);\n      if (sa.character)\n        ap += sa.status[sapi];\n      //console.log(`ap: ${ap}`);\n\n      const getHp = item => item.status[0];\n      const getDef = item => item.status[2];\n      const getRes = item => item.status[4];\n      const getAPMain = item => item.status[mapi];\n      const getAPSup = item => item.status[sapi];\n      const getDmg = item => item.dmgScore;\n      const getDebuf = item => item.debufScore;\n\n      const enAPMain = mapi == 1 ?\n        c => c.name.match(/^atk/) :\n        c => c.name.match(/^mag/);\n      const enAPSup = sapi == 1 ?\n        c => c.name.match(/^atk/) :\n        c => c.name.match(/^mag/);\n\n      const cmp = this.compare;\n      const getItemBattlePower = (item, api) => this.getEstimatedItemBattlePower(item.status, api, ap, tec);\n      const cmpPow = function (a, b, api) {\n        const bpa = getItemBattlePower(a, api);\n        const bpb = getItemBattlePower(b, api);\n        if (bpa != bpb) {\n          return cmp(bpa, bpb);\n        }\n        else {\n          // 戦闘力が同じならデメリットなしを優先。\n          // どちらもデメリット無しならダメージが出る方を優先。\n          const na = !a.negativeEffects ? 1 : 0;\n          const nb = !b.negativeEffects ? 1 : 0;\n          return na != nb ? cmp(na, nb) : cmp(getDmg(a), getDmg(b));\n        }\n      }.bind(this);\n\n      const pickItem = function (items, filter, sortf) {\n        if (filter) {\n          let filtered = items.filter(filter);\n          if (filtered.length)\n            items = filtered;\n        }\n        items.sort(sortf);\n        return items[0];\n      }.bind(this);\n\n      const adjustSymbol = function (item) {\n        const pattern = /^(ゼニス|オリジン|ナディア)/;\n        if (item && item.name.match(pattern)) {\n          let r = item.name.replace(pattern, symbol);\n          return this.findItem(r);\n        }\n        return item;\n      }.bind(this);\n\n      const pickItemsMain = function (filter = null, sortf = null) {\n        const cond = a => this.matchClass(a, ma.character);\n        if (!sortf)\n          sortf = (a, b) => cmpPow(a, b, mapi);\n        let weapon = pickItem(this.weapons.filter(cond), filter, sortf);\n        let armor = pickItem(this.armors.filter(cond), filter, sortf);\n        let helmet = pickItem(this.helmets.filter(cond), filter, sortf);\n        let accessory = pickItem(this.accessories.filter(cond), filter, sortf);\n        armor = adjustSymbol(armor);\n        helmet = adjustSymbol(helmet);\n        accessory = adjustSymbol(accessory);\n        result.main.items = [weapon, armor, helmet, accessory];\n      }.bind(this);\n\n      const pickItemsSupport = function (filter = null) {\n        const sortf = (a, b) => cmpPow(a, b, sapi);\n        let amulet1 = pickItem(this.amulets1, filter, sortf);\n        let amulet2 = pickItem(this.amulets2, filter, sortf);\n        result.support.items = [amulet1, amulet2];\n      }.bind(this);\n\n      const pickOptimalEnchants = function (filterFunc = null, scoreBooster = null) {\n        const s = ma.status;\n        let r = [0.05, 0, 2, 0, 2]; // score rate\n        r[mapi] = 2 * (1.0 + tec * 0.0003);\n        if (scoreBooster) {\n          for (let i = 0; i < r.length; ++i)\n            r[i] *= scoreBooster[i];\n        }\n\n        let dst = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n        let cmdlists = [[], [], [], []];\n        const cmd = function (i, name, score, exec) {\n          cmdlists[i].push({\n            name: name,\n            score: score,\n            exec: exec,\n          });\n        };\n        const hpP = (i, v) => cmd(i, \"hpP\", s[0] * (v / 100) * r[0], () => dst[0] += v);\n        const hpF = (i, v) => cmd(i, \"hpF\", v * r[0], () => dst[1] += v);\n        const atkP = (i, v) => cmd(i, \"atkP\", s[1] * (v / 100) * r[1], () => dst[2] += v);\n        const atkF = (i, v) => cmd(i, \"atkF\", v * r[1], () => dst[3] += v);\n        const defP = (i, v) => cmd(i, \"defP\", s[2] * (v / 100) * r[2], () => dst[4] += v);\n        const defF = (i, v) => cmd(i, \"defF\", v * r[2], () => dst[5] += v);\n        const magP = (i, v) => cmd(i, \"magP\", s[3] * (v / 100) * r[3], () => dst[6] += v);\n        const magF = (i, v) => cmd(i, \"magF\", v * r[3], () => dst[7] += v);\n        const resP = (i, v) => cmd(i, \"resP\", s[4] * (v / 100) * r[4], () => dst[8] += v);\n        const resF = (i, v) => cmd(i, \"resF\", v * r[4], () => dst[9] += v);\n\n        const paramsP = [\n          [10, 15,  5, 15,  5],\n          [15,  5, 15,  5, 15],\n          [15,  5, 15,  5, 15],\n          [10, 10, 10, 10, 10],\n        ];\n        const paramsF = [\n          [131, 31,  7, 31,  7],\n          [200, 11, 19, 11, 19],\n          [200, 11, 19, 11, 19],\n          [131, 21, 13, 21, 13],\n        ];\n        for (let i = 0; i < paramsP.length; ++i) {\n          hpP(i, paramsP[i][0]); hpF(i, paramsF[i][0]);\n          atkP(i, paramsP[i][1]); atkF(i, paramsF[i][1]);\n          defP(i, paramsP[i][2]); defF(i, paramsF[i][2]);\n          magP(i, paramsP[i][3]); magF(i, paramsF[i][3]);\n          resP(i, paramsP[i][4]); resF(i, paramsF[i][4]);\n        }\n\n        const len = cmdlists[0].length;\n        if (filterFunc) {\n          for (let i = 0; i < cmdlists.length; ++i) {\n            const filtered = cmdlists[i].filter(filterFunc).slice(0, 3);\n            for (let c of filtered)\n              c.exec();\n            cmdlists[i] = cmdlists[i].filter(a => !filtered.includes(a));\n          }\n        }\n        for (let cl of cmdlists) {\n          cl.sort((a, b) => cmp(a.score, b.score));\n        }\n        for (let cl of cmdlists) {\n          let n = 3 - (len - cl.length);\n          for (let i = 0; i < n; ++i)\n            cl[i].exec();\n        }\n        result.main.enchants = dst;\n      }.bind(this);\n\n      const pickOptialAmuletSkills = function (filterFunc = null, scoreBooster = null) {\n        const s = sa.status;\n        let r = [0.05, 0, 2, 0, 2]; // score rate\n        r[sapi] = 2 * (1.0 + tec * 0.0003); // リンク前提でテクニックも考慮\n        if (scoreBooster) {\n          for (let i = 0; i < r.length; ++i)\n            r[i] *= scoreBooster[i];\n        }\n\n        let dst = [0, 0, 0, 0, 0];\n\n        let cmdlists = [[], [], [], []];\n        const cmd = function (i, name, score, exec) {\n          cmdlists[i].push({ name: name, score: score, exec: exec });\n        };\n        const hpP = (i, v) => cmd(i, \"hpP\", s[0] * (v / 100) * r[0], () => dst[0] += v);\n        const atkP = (i, v) => cmd(i, \"atkP\", s[1] * (v / 100) * r[1], () => dst[1] += v);\n        const defP = (i, v) => cmd(i, \"defP\", s[2] * (v / 100) * r[2], () => dst[2] += v);\n        const magP = (i, v) => cmd(i, \"magP\", s[3] * (v / 100) * r[3], () => dst[3] += v);\n        const resP = (i, v) => cmd(i, \"resP\", s[4] * (v / 100) * r[4], () => dst[4] += v);\n\n        const paramsP = [\n          [7.5, 7.5, 7.5, 7.5, 7.5],\n          [7.5, 7.5, 7.5, 7.5, 7.5],\n        ];\n        for (let i = 0; i < paramsP.length; ++i) {\n          hpP(i, paramsP[i][0]);\n          atkP(i, paramsP[i][1]);\n          defP(i, paramsP[i][2]);\n          magP(i, paramsP[i][3]);\n          resP(i, paramsP[i][4]);\n        }\n\n        const len = cmdlists[0].length;\n        if (filterFunc) {\n          for (let i = 0; i < cmdlists.length; ++i) {\n            const filtered = cmdlists[i].filter(filterFunc).slice(0, 3);\n            for (let c of filtered)\n              c.exec();\n            cmdlists[i] = cmdlists[i].filter(a => !filtered.includes(a));\n          }\n        }\n        for (let cl of cmdlists) {\n          cl.sort((a, b) => cmp(a.score, b.score));\n        }\n        for (let cl of cmdlists) {\n          let n = 1 - (len - cl.length);\n          for (let i = 0; i < n; ++i)\n            cl[i].exec();\n        }\n        result.support.enchants = dst;\n      }.bind(this);\n\n\n      let enchant = \"バスター\";\n\n      const AUTO_EQUIP_TYPE = this.AUTO_EQUIP_TYPE;\n      if (type == AUTO_EQUIP_TYPE.BATTLE_POWER) { // 戦闘力優先\n        pickItemsMain();\n        pickOptimalEnchants();\n        pickItemsSupport();\n        pickOptialAmuletSkills();\n      }\n      else if (type == AUTO_EQUIP_TYPE.DAMAGE) { // ダメージ優先\n        const sortf = function (a, b) {\n          const sa = getDmg(a);\n          const sb = getDmg(b);\n          return sa != sb ? cmp(sa, sb) : cmpPow(a, b, mapi);\n        };\n        pickItemsMain(getAPMain, sortf);\n        pickOptimalEnchants(enAPMain);\n        pickItemsSupport(getAPSup);\n        pickOptialAmuletSkills(enAPSup);\n        enchant = \"ストライク\";\n\n      }\n      else if (type == AUTO_EQUIP_TYPE.DEBUF) { // デバフ優先\n        const sortf = function (a, b) {\n          const sa = getDebuf(a);\n          const sb = getDebuf(b);\n          return sa != sb ? cmp(sa, sb) : cmpPow(a, b, mapi);\n        };\n        pickItemsMain(null, sortf);\n        pickOptimalEnchants(enAPMain);\n        pickItemsSupport(getAPSup);\n        pickOptialAmuletSkills(enAPSup);\n        enchant = \"ストライク\";\n      }\n      else if (type == AUTO_EQUIP_TYPE.ATTACK_POWER) { // 攻撃力優先\n        pickItemsMain(getAPMain);\n        pickOptimalEnchants(enAPMain);\n        pickItemsSupport(getAPSup);\n        pickOptialAmuletSkills(enAPSup);\n      }\n      else if (type == AUTO_EQUIP_TYPE.HP) { // HP 優先\n        pickItemsMain(getHp);\n        pickOptimalEnchants(c => c.name.match(/^hp/));\n        pickItemsSupport(getHp);\n        pickOptialAmuletSkills(c => c.name.match(/^hp/));\n        enchant = \"アイアン\";\n      }\n      else if (type == AUTO_EQUIP_TYPE.DEF) { // ディフェンス優先\n        pickItemsMain(getDef);\n        pickOptimalEnchants(c => c.name.match(/^def/));\n        pickItemsSupport(getDef);\n        pickOptialAmuletSkills(c => c.name.match(/^def/));\n        enchant = \"アイス\";\n      }\n      else if (type == AUTO_EQUIP_TYPE.RES) { // レジスト優先\n        pickItemsMain(getRes);\n        pickOptimalEnchants(c => c.name.match(/^res/));\n        pickItemsSupport(getRes);\n        pickOptialAmuletSkills(c => c.name.match(/^res/));\n        enchant = \"アイス\";\n      }\n      if (type != AUTO_EQUIP_TYPE.RESET) {\n        result.main.enchantPassive = [this.getEnchantPassive(enchant)];\n      }\n\n      return result;\n    },\n\n    autoEquip(type) {\n      let msa = this.getStatMainArgs();\n      msa.items = [];\n      msa.enchantsP = [];\n      msa.enchantsF = [];\n      let ssa = this.getStatSupportArgs();\n\n      const ma = {\n        character: msa.character,\n        status: this.calcStatMainImpl(msa, null, true),\n      };\n      const sa = {\n        character: ssa.character,\n        status: this.calcStatSupportImpl(ssa),\n      };\n      const r = this.autoEquipImpl(ma, sa, type);\n\n      if (this.tabIndex == 0 && ma.character) {\n        for (const v of Object.values(this.mainEnchants)) {\n          v.valueP = r.main.enchants.shift();\n          v.valueF = r.main.enchants.shift();\n        }\n        this.mainItems = [...r.main.items];\n        this.mainEnchantPassive = [...r.main.enchantPassive];\n      }\n      if (this.tabIndex == 1 && sa.character) {\n        for (const v of Object.values(this.supportEnchants))\n          v.valueP = r.support.enchants.shift();\n        this.supportItems = [...r.support.items];\n      }\n    },\n\n    highscoreSearch() {\n      let msa = this.getStatMainArgs();\n      let ssa = this.getStatSupportArgs();\n      const powMain = (a) => this.getBattlePower(this.getMainChrStatus(a, msa.level, msa.star, msa.master, msa.loveBonus, msa.boosts));\n      const powSup = (a) => this.getBattlePower(this.getSupportChrStatus(a, ssa.level, ssa.star, ssa.master, ssa.loveBonus, ssa.boosts));\n\n      const mainChrs = [...this.mainChrs].sort((a, b) => this.compare(powMain(a), powMain(b))).slice(0, 50);\n      const supChrs = [...this.supChrs].sort((a, b) => this.compare(powSup(a), powSup(b))).slice(0, 50);\n\n      let results = [];\n\n      const getPEnchants = function (a) {\n        let r = [];\n        for (let i = 0; i < a.length; ++i)\n          if (i % 2 == 0)\n            r.push(a[i]);\n        return r;\n      };\n      const getFEnchants = function (a) {\n        let r = [];\n        for (let i = 0; i < a.length; ++i)\n          if (i % 2 == 1)\n            r.push(a[i]);\n        return r;\n      };\n\n      for (const mchr of mainChrs) {\n        for (const schr of supChrs) {\n          msa.items = [];\n          msa.enchantsP = [];\n          msa.enchantsF = [];\n          msa.skills = [];\n          ssa.items = [];\n          ssa.enchantsP = [];\n\n          msa.character = mchr;\n          ssa.character = schr;\n          const r = this.autoEquipImpl({\n            character: mchr,\n            status: this.calcStatMainImpl(msa, null, true),\n          }, {\n            character: schr,\n            status: this.calcStatSupportImpl(ssa),\n          }, 0);\n\n          msa.items = r.main.items;\n          msa.enchantsP = getPEnchants(r.main.enchants);\n          msa.enchantsF = getFEnchants(r.main.enchants);\n          msa.enchantPassive = r.main.enchantPassive;\n          r.main.skills = msa.skills = this.autoMainSkillImpl(mchr);\n\n          ssa.items = r.support.items;\n          ssa.enchantsP = r.support.enchants;\n          const bp = this.calcStatMainImpl(msa, ssa)[7]\n\n          results.push({\n            bp: bp,\n            main: mchr.name,\n            support: schr.name,\n            data: {\n              main: mchr,\n              support: schr,\n              msa: msa,\n              ssa: ssa,\n              result: r,\n            }\n          });\n        }\n      }\n\n      results = results.sort((a, b) => this.compare(a.bp, b.bp)).slice(0, 200);\n      let mains = [];\n      let supports = [];\n      for (let i = 0; i < results.length; ++i) {\n        let r = results[i];\n        r.index = i + 1;\n        r._cellVariants = {};\n        if (!mains.includes(r.main)) {\n          mains.push(r.main);\n          r._cellVariants.main = \"primary\";\n        }\n        if (!supports.includes(r.support)) {\n          supports.push(r.support);\n          r._cellVariants.support = \"warning\";\n        }\n      }\n      this.highscoreData = results;\n    },\n\n    highscoreReplay(rec) {\n      let s = this;\n      const msa = rec.data.msa;\n      const ssa = rec.data.ssa;\n      const r = rec.data.result;\n      {\n        s.main.character.value = rec.data.main;\n        s.main.star.value = msa.star;\n        s.main.level.value = msa.level;\n        s.main.master.value = msa.master;\n        s.main.loveBonus.value = msa.loveBonus;\n\n        let boosts = [...msa.boosts];\n        for (const v of Object.values(s.mainBoosts))\n          v.value = boosts.shift();\n\n        let enchants = [...r.main.enchants];\n        for (const v of Object.values(s.mainEnchants)) {\n          v.valueP = enchants.shift();\n          v.valueF = enchants.shift();\n        }\n\n        s.mainItems = [...r.main.items];\n        s.mainEnchantPassive = [...r.main.enchantPassive];\n        s.mainSkills = [...r.main.skills];\n      }\n      {\n        s.support.character.value = rec.data.support;\n        s.support.star.value = ssa.star;\n        s.support.level.value = ssa.level;\n        s.support.master.value = ssa.master;\n        s.support.loveBonus.value = ssa.loveBonus;\n\n        let boosts = [...ssa.boosts];\n        for (const v of Object.values(s.supportBoosts))\n          v.value = boosts.shift();\n\n        let enchants = [...r.support.enchants];\n        for (const v of Object.values(s.supportEnchants)) {\n          v.valueP = enchants.shift();\n        }\n\n        s.supportItems = [...r.support.items];\n      }\n    },\n\n    getStatMainArgs() {\n      const s = this;\n      let r = {\n        character: s.main.character.value,\n        star: s.main.star.value,\n        level: s.main.level.value,\n        master: s.main.master.value,\n        loveBonus: s.main.loveBonus.value,\n        engage: s.main.engage.value,\n        boosts: Object.values(s.mainBoosts).map(a => a.value),\n        enchantsP: Object.values(s.mainEnchants).map(a => a.valueP),\n        enchantsF: Object.values(s.mainEnchants).map(a => a.valueF),\n        items: [...s.mainItems],\n        enchantPassive: [...s.mainEnchantPassive],\n        skills: [...s.mainSkills],\n      };\n      return r;\n    },\n    getStatSupportArgs() {\n      const s = this;\n      let r = {\n        character: s.support.character.value,\n        star: s.support.star.value,\n        level: s.support.level.value,\n        master: s.support.master.value,\n        loveBonus: s.support.loveBonus.value,\n        boosts: Object.values(s.supportBoosts).map(a => a.value),\n        enchantsP: Object.values(s.supportEnchants).map(a => a.valueP),\n        items: [...s.supportItems],\n      };\n      return r;\n    },\n    calcStatMainImpl(ma, sa, skipBP = false) {\n      const empty = [0, 0, 0, 0, 0, 0];\n      const chr = ma.character;\n      if (!chr)\n        return empty;\n\n      let r = this.getMainChrStatus(chr, ma.level, ma.star, ma.master, ma.loveBonus, ma.boosts);\n\n      let enchantP = [...ma.enchantsP];\n      if (enchantP.length) {\n        for (const eps of ma.enchantPassive) {\n          if (!eps)\n            continue;\n          const ep = eps.baseStatusBoost;\n          if (ep) {\n            if (ep.hp) enchantP[0] += ep.hp;\n            if (ep.atk) enchantP[1] += ep.atk;\n            if (ep.def) enchantP[2] += ep.def;\n            if (ep.mag) enchantP[3] += ep.mag;\n            if (ep.res) enchantP[4] += ep.res;\n            if (ep.tec) enchantP[5] += ep.tec;\n          }\n        }\n      }\n\n      for (let i = 0; i < enchantP.length; ++i) {\n        r[i] = Math.round(r[i] * (1.0 + enchantP[i] * 0.01));\n      }\n\n      const items = ma.items.filter(a => a != null);\n      for (const item of items) {\n        for (let i = 0; i < r.length; ++i)\n          r[i] += item.status[i];\n      }\n      for (let i = 0; i < ma.enchantsF.length; ++i)\n        r[i] += ma.enchantsF[i];\n\n      if (skipBP)\n        return r;\n\n      // 以下戦闘力\n      let bpr = 1.0;\n      bpr += 0.1 * ma.star;\n      bpr += 0.1 * ma.master;\n      for (let skill of ma.skills) {\n        // スキルコスト & エンゲージスキルボーナス\n        bpr += this.getSkillBPRate(skill);\n      }\n      bpr += 0.02 * (5 * items.length); // アイテムの☆合計\n      if (items.length == 4)\n        bpr += 0.1; // エンチャント4セット\n      const bpMain = Math.round(this.getBattlePower(r) * bpr);\n      const rMain = [...r, bpMain];\n      if (!sa || !sa.character)\n        return rMain;\n\n      const sup = sa.character;\n      bpr += 0.1 * sa.star;\n      bpr += 0.1 * sa.master;\n      bpr += 0.05 * 3; // スキル開放\n\n      const sr = this.calcStatSupportImpl(sa);\n      for (let i of [0, 2, 4])\n        r[i] += sr[i];\n\n      const mapi = chr.damageType == \"アタック\" ? 1 : 3;\n      const sapi = sup.damageType == \"アタック\" ? 1 : 3;\n      r[mapi] += sr[sapi];\n      const bpTotal = Math.round(this.getBattlePower(r) * bpr);\n      return [...rMain, bpTotal];\n    },\n    calcStatMain() {\n      return this.calcStatMainImpl(this.getStatMainArgs(), this.getStatSupportArgs());\n    },\n\n    calcStatSupportImpl(sa) {\n      const empty = [0, 0, 0, 0, 0, 0];\n      const chr = sa.character;\n      if (!chr)\n        return empty;\n\n      let r = this.getSupportChrStatus(chr, sa.level, sa.star, sa.master, sa.loveBonus, sa.boosts, sa.enchantsP);\n\n      const items = sa.items.filter(a => a != null);\n      for (const item of items) {\n        for (let i = 0; i < r.length; ++i)\n          r[i] += item.status[i];\n      }\n\n      // テクニック除去\n      r[5] = 0;\n\n      // 以下戦闘力\n      let bpr = 1.0;\n      bpr += 0.1 * sa.star;\n      bpr += 0.1 * sa.master;\n      bpr += 0.05 * 3; // スキル開放\n      let bp = Math.round(this.getBattlePower(r) * bpr);\n\n      return [...r, bp];\n    },\n    calcStatSupport() {\n      return this.calcStatSupportImpl(this.getStatSupportArgs());\n    },\n\n    serialize() {\n      let params = [];\n\n      const getUid = obj => obj ? obj.uid : \"none\";\n\n      for (let v of Object.values(this.main)) {\n        if (v.type == \"character\")\n          params.push(getUid(v.value));\n        else\n          params.push(v.value);\n      }\n      for (let v of Object.values(this.mainBoosts))\n        params.push(v.value);\n      for (let v of Object.values(this.mainEnchants)) {\n        params.push(v.valueP);\n        params.push(v.valueF);\n      }\n      for (let v of this.mainSkills)\n        params.push(getUid(v));\n      for (let v of this.mainItems)\n        params.push(getUid(v));\n      for (let v of this.mainEnchantPassive)\n        params.push(getUid(v));\n\n      for (let v of Object.values(this.support)) {\n        if (v.type == \"character\")\n          params.push(getUid(v.value));\n        else\n          params.push(v.value);\n      }\n      for (let v of Object.values(this.supportBoosts))\n        params.push(v.value);\n      for (let v of Object.values(this.supportEnchants))\n        params.push(v.valueP);\n\n      for (let v of this.supportItems)\n        params.push(getUid(v));\n\n      return params;\n    },\n    deserialize(params) {\n      if (!Array.isArray(params) || params.length == 0) {\n        return;\n      }\n      //console.log(params);\n\n      const find = uid => this.searchTableWithUid.get(uid.toString());\n\n      for (let v of Object.values(this.main)) {\n        if (v.type == \"character\")\n          v.value = find(params.shift());\n        else\n          v.value = params.shift();\n      }\n      for (let v of Object.values(this.mainBoosts))\n        v.value = params.shift();\n      for (let v of Object.values(this.mainEnchants)) {\n        v.valueP = params.shift();\n        v.valueF = params.shift();\n      }\n\n      this.mainSkills = [\n        find(params.shift()),\n        find(params.shift()),\n        find(params.shift()),\n      ];\n      this.mainItems = [\n        find(params.shift()),\n        find(params.shift()),\n        find(params.shift()),\n        find(params.shift()),\n      ];\n      this.mainEnchantPassive = [\n        find(params.shift()),\n      ];\n\n      for (let v of Object.values(this.support)) {\n        if (v.type == \"character\")\n          v.value = find(params.shift());\n        else\n          v.value = params.shift();\n      }\n      for (let v of Object.values(this.supportBoosts))\n        v.value = params.shift();\n      for (let v of Object.values(this.supportEnchants))\n        v.valueP = params.shift();\n\n      this.supportItems = [\n        find(params.shift()),\n        find(params.shift()),\n      ];\n    },\n\n    getParamsUrl() {\n      let params = this.serialize();\n      let url = window.location.href.replace(/\\?.+/, '').replace(/#.+/, '');\n      url += \"?stat=\" + params.join(',') + \"#status\";\n      //this.parseParamsUrl(url); // debug\n      return url;\n    },\n\n    parseParamsUrl(url) {\n      url = decodeURIComponent(url);\n      let q = url.match(/\\?stat=([^#]+)/);\n      if (q) {\n        let params = q[1].split(',').map(this.parseValue);\n        this.deserialize(params);\n        return true;\n      }\n      return false;\n    },\n\n    onChange() {\n      if (this.embed) {\n        this.$emit('change', this);\n      }\n      if (this.prevMainEngage != this.main.engage.value) {\n        this.prevMainEngage = this.main.engage.value;\n        this.autoMainSkill();\n      }\n    },\n\n    onSkillDrag(idx) {\n      this.draggingSkillIdx = idx;\n    },\n    onSkillDrop(idx) {\n      if (this.draggingSkillIdx >= 0) {\n        let tmp = [...this.mainSkills];\n        tmp[this.draggingSkillIdx] = this.mainSkills[idx];\n        tmp[idx] = this.mainSkills[this.draggingSkillIdx];\n        this.mainSkills = tmp;\n      }\n      this.draggingSkillIdx = -1;\n    },\n    dummyHandler() {\n    },\n  },\n\n  computed: {\n    mainClass() {\n      const chr = this.main.character.value;\n      return chr ? chr.class : true;\n    },\n    mainSkillList() {\n      let chr = this.main.character.value;\n      if (chr) {\n        if (chr.engage) {\n          return this.main.engage.value ? chr.engage.skills : chr.skillsBase;\n        }\n        else {\n          return chr.skills;\n        }\n      }\n      return [];\n    },\n\n    statMainResult() {\n      return this.calcStatMain();\n    },\n    statSupportResult() {\n      return this.calcStatSupport();\n    },\n    statUrl() {\n      return this.getParamsUrl();\n    }\n  },\n\n  watch: {\n    main: { handler: function () { this.onChange(); }, deep: true },\n    mainBoosts: { handler: function () { this.onChange(); }, deep: true },\n    mainItems: { handler: function () { this.onChange(); }, deep: true },\n    mainEnchantPassive: { handler: function () { this.onChange(); }, deep: true },\n    mainEnchants: { handler: function () { this.onChange(); }, deep: true },\n    mainSkills: { handler: function () { this.onChange(); }, deep: true },\n    support: { handler: function () { this.onChange(); }, deep: true },\n    supportBoosts: { handler: function () { this.onChange(); }, deep: true },\n    supportItems: { handler: function () { this.onChange(); }, deep: true },\n    supportEnchants: { handler: function () { this.onChange(); }, deep: true },\n  },\n\n};\n</script>\n\n<style>\n.small-margin {\n  margin: 3px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatusSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatusSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusSimulator.vue?vue&type=template&id=d5b73ee0&\"\nimport script from \"./StatusSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusSimulator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatusSimulator.vue?vue&type=style&index=0&id=d5b73ee0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n    </div>\n\n    <div class=\"content\" style=\"margin-top: 70px;\" :style=\"style\">\n      <div class=\"about\">\n        <h2><a name=\"toc\" href=\"#toc\"></a>目次</h2>\n        <p>\n          <ul>\n            <li><a href=\"#about\">このサイトについて</a></li>\n            <li><a href=\"#buff\">バフ・デバフの競合・重複</a></li>\n            <li><a href=\"#class-advantage\">クラス相性</a></li>\n            <li><a href=\"#notes\">その他のバフと補足事項</a></li>\n            <li><a href=\"#damage\">ダメージ計算</a></li>\n            <li><a href=\"#status\">基本ステータスについて</a></li>\n            <li><a href=\"#battle_power\">戦闘力について</a></li>\n          </ul>\n        </p>\n\n        <h2><a name=\"about\" href=\"#about\"></a>このサイトについて</h2>\n        <p>\n          <b-link href=\"https://www.legend-clover.net/\" target=\"_blank\">れじぇくろ！</b-link>の攻略データベースです。主にバフ・デバフを検索するのを目的としています。<br />\n          間違いの指摘や要望などありましたら以下の公開 Google Docs にコメントいただけると幸いです。<br />\n          <b-button variant=\"secondary\" id=\"btn-docs\">Google Docs</b-button><br />\n        </p>\n        <b-popover target=\"btn-docs\" placement=\"bottom\" custom-class=\"gdocs\">\n          <iframe width=\"1100\" height=\"500\" src=\"https://docs.google.com/document/d/1vldiHELiy0GFKhXO20SOsMdw4mczivU4SuxXO9Wv26I/edit?embedded=true\"></iframe>\n        </b-popover>\n\n        <h2>バフ・デバフの競合・重複<a name=\"buff\" href=\"#buff\">.</a></h2>\n        <p>\n          れじぇくろのバフ・デバフの関係は以下のようになっています。<br />\n          <ul>\n            <li>同系統のバフが同時にかかった場合、アクティブスキル同士は競合し、一番効果が高いもののみ適用。</li>\n            <li>ただし、メインキャラのアクティブとサポートキャラのアクティブは別枠で効果が加算になる。</li>\n            <li>タレント、パッシブスキル、装備の効果は全て加算。ただし、同スキル・同アイテム同士に限っては競合。</li>\n            <li>デバフも同じルール。バフとデバフが同時にかかった場合、% を足し合わせて相殺となる。</li>\n          </ul>\n          <br />\n          つまり、大雑把には<br />\n          <b>一番効果の高いメインのアクティブ＋一番効果の高いサポートのアクティブ＋全タレント・パッシブ・装備効果</b><br />\n          と覚えておいてよいでしょう。<br />\n          <br />\n          しかし、アクティブ同士の関係は厳密にはもっと複雑です。<br />\n          一部特殊なアクティブスキルがあり、これらのバフは無条件で他のアクティブと加算になります。<br />\n          これらは「一時的にパッシブスキルを付与する」という扱いになっているようです。<br />\n          シンボルスキルに付随する加護 (アタック～レジスト以外のバフ) はこちらに分類されます。<br />\n          それ以外の該当スキルを全て以下に列挙します。いずれも条件付きバフのみが特殊枠で、他は通常のアクティブ枠です。<br />\n          単体or自己バフスキル：\n          <span v-for=\"(skill, si) of specialBuffSkillsSingle\" :key=\"`sbss${si}`\" style=\"margin: 4px\">\n            <b-link :ref=\"po\">{{skill.name}}</b-link>\n          </span><br />\n          範囲or全体バフスキル：\n          <span v-for=\"(skill, si) of specialBuffSkillsMulti\" :key=\"`sbsm${si}`\" style=\"margin: 4px\">\n            <b-link :ref=\"po\">{{skill.name}}</b-link>\n          </span><br />\n\n          <br />\n          加えて、与ダメージとダメージ耐性にはまた別のルールがあります。<br />\n          これらには物理与ダメージ、魔法与ダメージ、スキル与ダメージといったバリエーションがありますが、<br />\n          異なるバリエーションであればアクティブ同士でも効果が加算になります。<br />\n          与ダメージのバリエーションは 無印、物理、魔法、スキル、範囲スキル、通常攻撃 の 6 種、<br />\n          ダメージ耐性のバリエーションは 無印、物理、魔法、範囲スキル (敵専用) の 4 種になります。<br />\n          <ul>\n            <li>例1: <b-link :ref=\"po\">お届け物です！</b-link>＋<b-link :ref=\"po\">総員、突撃用意</b-link>＋<b-link :ref=\"po\">テスト勉強のお手伝い</b-link>＋<b-link :ref=\"po\">道教式チアリーディング</b-link>＝物理通常攻撃与ダメージ +95%</li>\n            <li>例2: <b-link :ref=\"po\">お届け物です！</b-link>＋<b-link :ref=\"po\">総員、突撃用意</b-link>＋<b-link :ref=\"po\">リトルマロース</b-link>＋<b-link :ref=\"po\">発明官女</b-link>＝物理範囲スキル与ダメージ +100% & 魔法範囲スキル与ダメージ +110%</li>\n          </ul>\n          <s>なお、通常攻撃与ダメージバフは反撃には乗らないことが確認されています。(2023/04 現在。バグか仕様かは不明)</s><br />\n          2023//05 のアップデートにて通常攻撃与ダメージバフは反撃にも乗るように変更されました。<br />\n          <br />\n          一部のバフ・デバフには上限があることが確認されています。<br />\n          該当するのは基本ステータス値へのデバフ (アタック・ディフェンス・マジック・レジスト)、およびダメージ耐性バフと与ダメージデバフで、<br />\n          これらは 70% 以上盛っても実際に効果を発揮するのは 70% までとなります。<br />\n          <span class=\"note\">この 70% はバフ・デバフを相殺した上での上限。なので、例えば 50% のバフを得ている敵は 120% デバフでようやく上限到達となる。</span><br />\n          なお、基本ステータス値へのバフ、与ダメージバフ、ダメージ耐性デバフに関しては上限はないものとみられます。<br />\n        </p>\n\n        <h2><a name=\"class-advantage\" href=\"#class-advantage\"></a>クラス相性</h2>\n        <p>\n          クラス間の有利不利は戦闘時のアタック / マジックへのバフ・デバフという形で表現されています。<br />\n          <b>通常のアタックバフやマジックバフとは加算の関係</b>になり、メイン・サポート両方に個別に適用されます。<br />\n          また、これらは通常の戦闘前バフとは異なり、範囲攻撃にも適用されます。<br />\n          <b-table outlined bordered :items=\"stat.classBonusBase\">\n            <template #head(攻撃側)=\"r\">\n              攻撃側＼防御側{{r.null}}\n            </template>\n            <template #cell()=\"r\">\n              <span v-html=\"n2percent(r.value)\" />\n            </template>\n          </b-table>\n          <br />\n\n          クラス相性の書により効果が強化され、全開放時は以下になります。<br />\n          また、クラス相性の書の「耐性」の効果により、不利相性で攻撃される際に敵にかかるバフが減ります。<br />\n          例: プレイヤー側のソルジャーがライダーから攻撃される際、敵にかかるバフが本来の 45% から 35% に減じる (全開放時)<br />\n          なお、<b>同じクラス相性の書でも「与ダメージ」の効果は与ダメージバフと同列の扱い (加算の関係)</b> になります。\n          <b-table outlined bordered :items=\"stat.classBonusMax\">\n            <template #head(攻撃側)=\"r\">\n              攻撃側＼防御側{{r.null}}\n            </template>\n            <template #cell()=\"r\">\n              <span v-html=\"n2percent(r.value)\" />\n            </template>\n          </b-table>\n        </p>\n\n        <h2><a name=\"notes\" href=\"#notes\"></a>その他のバフと補足事項</h2>\n        <p>\n          タレント、スキル、アイテム以外の方法で得られるバフに関して記載します。<br />\n          これらも同系統の効果とは加算になり、競合するケースはないとみられます。<br />\n          <br />\n          エンチャントのセット効果の多くはバフを持ちます。<br />\n          これらのバフはメインのみが対象となります。\n          <ul>\n            <li>バスター：アタック/マジック+5%、味方ターンでの戦闘時、アタック/ダメージ耐性+15%</li>\n            <li>チャージ：アタック/マジック+5%、自ユニットのHPが75%以上の時、アタック/マジック/ディフェンス/レジスト+10%</li>\n            <li>フェザー：アタック/マジック+5%、与ダメージ+10%、行動終了時、確率(40%)で移動+1(1ターン)</li>\n            <li>\n              クイック：アタック/マジック+5%、アクティブスキルでダメージを与えた時、そのスキルのクールダウン-1(発動してから2ターン毎に発動可能)<br />\n              <span class=\"note\">この「2ターン毎」は再行動では短縮できず、純粋にターン経過を要する</span>\n            </li>\n            <li>ノヴァ：アタック/マジック+5%、スキル与ダメージ+10%、範囲スキル使用時、更にスキル与ダメージ+10%</li>\n            <li>アイアン：最大HP+10%、ダメージ耐性+15%</li>\n            <li>リフレクト：最大HP+10%、敵ターンでの戦闘時、その戦闘後、確率(40%)で自ユニットの受けたダメージの40%を反射する</li>\n            <li>\n              バックアップ：最大HP+10%、自身を中心とした範囲3マス以内の全ての味方メインのディフェンス/レジスト+5%<br />\n              <span class=\"note\">バックアップバフ同士は競合となる。(= バックアップ持ち2人の範囲内にいても+5%止まり)</span>\n            </li>\n            <li>アイス：ディフェンス/レジスト+5%、戦闘後、確率(10%)で敵ユニットにフリーズ(1ターン)を付与する</li>\n            <li>ブライト：ディフェンス/レジスト+5%、治療効果+25%</li>\n            <li>クリスタル：ディフェンス/レジスト+5%、自ユニットのHPが50%以下の時、戦闘後、確率(40%)でメイン、サポートそれぞれのHPが最大の20%回復</li>\n            <li>ストライク：クリティカル率+7%、クリティカルダメージ倍率+30%</li>\n            <li>ブレイク：クリティカル率+7%、味方ターンでの戦闘時、かつ敵ユニットのHPが50%以上の時、与ダメージ+20%</li>\n          </ul>\n          <br />\n          マスタークラス特性にはバフを得るものがあります。<br />\n          以下いずれもマスタークラス 3 での効果で、「自ユニットの」の記載がないものはメインのみが対象です。<br />\n          <ul>\n            <li>ランサー：アタックに基礎ディフェンス値の 30% を加算、敵ターンでの戦闘時、自ユニットのディフェンス+10%</li>\n            <li>\n              ライダー：味方ターンでの戦闘時、自ユニットのアタックに 移動したマス×10% 加算 (最大50%)<br />\n              <span class=\"note\">再行動した場合、移動したマスは 2 回目の行動には引き継がれず、積み直しとなる。</span>\n            </li>\n            <li>\n              エアリアル：隣接する味方ユニットが 2 体以内のとき、自ユニットの最大 HP 以外の全能力+20%<br />\n              <span class=\"note\">2 体以内 = 0 or 1 or 2 体。斜めマスは含まない。</span>\n            </li>\n            <li>シューター：自ユニットにディフェンス無視+30%付与</li>\n            <li>\n              ソーサラー：自ユニットにレジスト無視+30%付与<br />\n              <span class=\"note\">防御無視効果については下記ダメージ計算を参照。</span>\n            </li>\n          </ul>\n          <br />\n          スターフォースクエストでは、所持している全キャラの☆の合計×0.2% 分 アタックとマジックへのバフを得ます。<span class=\"note\">= ☆500 で +100%。</span><br />\n          <br />\n          <b>装備の効果は特に記載がない場合メインのみが対象</b>である点に注意が必要です。<br />\n          サポートも対象の効果は「自ユニットの」という記述があり、区別されています。<br />\n          <span class=\"note\">例: <b-link :ref=\"po\">天蝎の天鎧</b-link> のダメージ耐性はメインのみが対象、<b-link :ref=\"po\">乙女の天衣</b-link> のダメージ耐性はサポートも対象。</span><br />\n          同様に、アミュレットの効果はサポートのみが対象となります。シールドはサポートが倒れている場合発動しません。<br />\n          <br />\n          アンドロメダの<b-link :ref=\"po\">神に勝る美</b-link>やオリオンの<b-link :ref=\"po\">オレの女に手は出させない</b-link>は、HP が 75% ちょうどの場合、以上以下両方の効果が発動します。<br />\n          <span class=\"note\"><b-link :ref=\"po\">天秤の天帽</b-link>などの自傷効果で 25% 減らすことができるが、最大 HP が 4 で割り切れる数でないと 76% になってしまう模様。</span><br />\n        </p>\n\n        <h2><a name=\"damage\" href=\"#damage\"></a>ダメージ計算</h2>\n        <DamageSimulator />\n        <p>\n          れじぇくろのダメージ計算式は以下のようになっています。<br />\n          <code>ダメージ＝(攻撃側の攻撃力－受ける側の防御力)×(スキルのダメージ倍率)×(与ダメージバフ・デバフ)×(ダメージ耐性バフ・デバフ)×(クリティカルダメージ倍率)×乱数×10</code><br />\n          <br />\n          <ul>\n            <li>メイン・サポート個別にこの計算が行われる。</li>\n            <li>最後の ×10 は 1 戦闘に 10 回攻撃が行われるということで、戦闘アニメーションONだと 1 攻撃あたりのダメージが表示される。</li>\n            <li>\n              攻撃力と防御力は、物理攻撃の場合アタック&ディフェンス、魔法攻撃の場合マジック&レジスト。\n              <ul>\n                <li>\n                  「敵ユニットのディフェンス/レジストのn%分を無視して攻撃できる」の能力を持つ場合、効果量分相手の防御力を差し引く。<br />\n                  ただし、この効果はディフェンス/レジストデバフへ加算する形で処理されるようで、他のデバフと合わせて 70% が効果の上限となる。\n                </li>\n              </ul>\n            </li>\n            <li>\n              スキルのダメージ倍率は 攻撃力－防御力 の後の数値にかかる。<span class=\"note\">なので、倍率の低い範囲攻撃は高防御の敵に特別弱いわけではない。</span>\n              <ul>\n                <li>特定の兵種に対して特攻があるスキルは、その兵種に対する専用の倍率が設定されている。</li>\n              </ul>\n            </li>\n            <li>\n              与ダメージバフは無印、物理攻撃、スキル、通常攻撃など様々な種類があるが、全て加算の関係。\n              <ul>\n                <li>クラス相性の書の与ダメージアップも扱いとしては与ダメージバフらしく、加算の関係になる。</li>\n              </ul>\n            </li>\n            <li>\n              ダメージ耐性デバフも同様で、無印、物理攻撃などいくつかの種類があるが、全て加算の関係。\n            </li>\n            <li>\n              ダメージ耐性バフ・デバフと与ダメージバフ・デバフは掛け算の関係。\n              <ul>\n                <li>ダメージ耐性バフと与ダメージデバフはどちらも 70% が効果の上限。<span class=\"note\">両方最大まで盛ると 0.3×0.3=9% まで被ダメージを抑え込める。</span></li>\n              </ul>\n            </li>\n            <li>\n              クリティカル発生時はクリティカルダメージ倍率が適用される。この倍率は 30% + バフ効果量。\n              <ul>\n                <li>クリティカル発生率は テクニック÷10 + クリティカル率バフ - 相手のクリティカル率耐性 とみられる。</li>\n                <li>\n                  ただし、サポートの攻撃はクリティカルが発生しない模様。<br />\n                  <span class=\"note\">ユニット対象バフでクリティカル率 100% にしてもサポートのダメージにはクリティカルダメージ倍率が適用されない。</span>\n                </li>\n              </ul>\n            </li>\n            <li>乱数による振れ幅はわずかで、±2% 程度。</li>\n            <li>\n              遠距離攻撃キャラが近接攻撃した場合、最終ダメージに 0.6 倍される。\n              <ul>\n                <li>メイン・サポート両方に個別に適用。</li>\n                <li>\n                  「遠距離攻撃キャラ」の定義は、装備やバフを含まない基礎射程が 2 であること、である模様。<br />\n                  <span class=\"note\">基礎射程 1 のキャラを<b-link :ref=\"po\">蒼水晶の槍</b-link>や<b-link :ref=\"po\">天導の聖火</b-link>で射程を伸ばして近接攻撃しても 0.6 倍はされない。</span>\n                </li>\n              </ul>\n            </li>\n            <li>\n              2回攻撃を持つ場合、最初の一斉攻撃の後、相手が生き残っていたら再度攻撃を行う。<br />\n              <span class=\"note\">ギルクエ EX で高スコアを狙う場合、最初の一斉攻撃で倒れない相手を狙う。</span>\n            </li>\n            <li>\n              反射を持つ場合、戦闘後、生き残っていたら受けたダメージの効果量 % 分を固定ダメージとして相手に返す。\n              <ul>\n                <li>戦闘後に発動するデバフなどについても同様で、戦闘後生き残っていないと発動しない。</li>\n                <li><b-link :ref=\"po\">ラストスタンド</b-link>などで復活しても撃破された扱いであるらしく、発動しない。</li>\n              </ul>\n            </li>\n            <li>戦闘の前後に発生する固定ダメージは、防御力やシールドの影響を受けず、バフ・デバフも乗らない、文字通り固定値のダメージを与える。</li>\n            <li>\n              サポートは常に先に攻撃の対象になり、生きている限りダメージを受けるのはサポートになる。(後述の範囲攻撃を除く)\n              <ul>\n                <li>サポートが倒れた時、超過分のダメージがメインに流れることはない。<span class=\"note\">= HP1 でも 1 発は攻撃を反らせる。</span></li>\n                <li>サポートは倒れると攻撃にも参加しなくなる。アミュレットのシールドも発動しなくなる。</li>\n              </ul>\n            </li>\n            <li>\n              範囲攻撃の場合、計算式は同じだが、戦闘の前後に発動するバフ・デバフなどが発動しないこと、メインとサポート両方に攻撃が行くこと、<br />サポートが攻撃に参加しないことなどが異なる。\n              <ul>\n                <li>ダメージを与えたときに発動する効果などは発動する。</li>\n                <li>クリティカル判定はメイン・サポート個別に行われる。</li>\n                <li>\n                  範囲攻撃によりメインがサポートより先に倒れた場合、ユニット自体撃破された扱いになる。<br />\n                  <span class=\"note\">つまり、範囲攻撃の連打でやられるようなケースでは、サポートをいくら固くしても対策にならない。</span>\n                </li>\n              </ul>\n            </li>\n            <li>\n              単体攻撃でありながら範囲攻撃のようにメインとサポート両方同時攻撃のスキルも存在する。\n              <ul>\n                <li>扱いとしては範囲攻撃 (非戦闘攻撃) とみられ、戦闘の前後に発動するバフ・デバフが発動せず、シールドやガードも無視する。</li>\n                <li>スターフォースクエストの敵の単体攻撃スキルはこのタイプ。2 回攻撃のようなものなので、知らないと予想外のダメージに驚くことになる。</li>\n              </ul>\n            </li>\n          </ul>\n        </p>\n\n        <h2><a name=\"status\" href=\"#status\"></a>基本ステータスについて</h2>\n        <StatusSimulator />\n        <p class=\"desc\">\n          基本ステータスとは、戦闘前に決定するステータス値で、キャラ画面の情報で表示されるものがそれになります。<br />\n          割合バフや「能力値の n %を加算」系の効果は基本ステータスに対する割合として機能します。戦闘力も基本ステータスから算出されます。<br />\n          基本ステータスは以下のように算出されます。<br />\n          <br />\n          メインの場合：<br />\n          <code>基本ステータス＝(初期値＋レベル上昇値＋☆上昇値＋好感度ボーナス＋マスターボーナス)×(記憶の書＋強化ボード)×(割合エンチャント)＋装備＋固定値エンチャント</code><br />\n          <br />\n          サポートの場合：<br />\n          <code>基本ステータス＝(初期値＋レベル上昇値＋☆上昇値＋好感度ボーナス＋マスターボーナス)×(記憶の書＋強化ボード＋基本ステータス系アミュレットスキル)＋装備</code><br />\n          <br />\n          <ul>\n            <li>\n              初期値、レベル上昇値、☆による上昇値 はキャラ固有\n              <ul>\n                <li>レベルと☆による上昇は 1レベル / 1☆ あたりの上昇量が決まっており、リニアに増えていく方式</li>\n                <li>1☆ あたりの上昇量は大体 4 レベル分くらいになっている模様</li>\n              </ul>\n            </li>\n            <li>\n              <b>エンゲージは基本ステータスには影響しない</b>\n              <ul>\n                <li>戦闘力にのみ若干影響がある（<a href=\"#battle_power\">戦闘力</a>を参照）</li>\n              </ul>\n            </li>\n            <li>好感度ボーナスは全開放時 <span style=\"background: white\">[100, 25, 15, 25, 15, 0]</span> ([HP, アタック, ディフェンス, マジック, レジスト, テクニック] の順、以後共通)</li>\n            <li>\n              マスターボーナスはクラスレベルに応じて得られる上昇値で、メインとサポートで内容が異なる\n              <b-table small outlined :items=\"stat.masterBonus\"></b-table>\n            </li>\n            <li>\n              記憶の書と強化ボードの合計はカンスト時以下になる\n              <b-table small outlined :items=\"stat.bookBonus\"></b-table>\n            </li>\n            <li>\n              エンチャントの上限は割合と固定値でそれぞれ以下になる (SSR の場合。テクニックには影響しないので除外)\n              <b-table small outlined :items=\"stat.enchantBonus\"></b-table>\n              <ul>\n                <li>アクセサリの場合他にクリティカル率があり、こちらは 15% が上限。テクニックとは別物で基本ステータスには影響しない</li>\n                <li>\n                  エンチャントの2セット特典 (バスターの アタック/マジック+5% など) も基本ステータスへの割合強化として扱われる<br />\n                  <span class=\"note\">ストライクの2セット特典の クリティカル率+7% は基本ステータスには影響しないため、戦闘力的には不利を被る</span>\n                </li>\n              </ul>\n            </li>\n            <li>\n              アミュレットスキルは割合上昇のみで、上限は以下になる (こちらも SSR の場合。テクニックには影響しないので除外)\n              <b-table small outlined :items=\"stat.amuletBonus\"></b-table>\n              <ul>\n                <li>スキル1は戦闘時に効果を発揮するタイプで、基本ステータスには影響しない</li>\n              </ul>\n            </li>\n          </ul>\n        </p>\n\n        <h2><a name=\"battle_power\" href=\"#battle_power\"></a>戦闘力について</h2>\n        <BattlePointSimulator />\n        <p>\n          戦闘力は以下のように算出されます。<br />\n          <br />\n          <code>戦闘力＝A(ステータスに基づく基礎値) × B(☆やマスターレベルなどによる倍率)</code><br />\n          A の内訳：<br />\n          <code>HP×0.05＋攻撃力×2×(1.0＋テクニック×0.0003)＋ディフェンス×2＋レジスト×2</code><br />\n          B の内訳：<br />\n          <code>\n            1.0＋☆の数×0.1＋マスターレベル×0.1<br />\n            ＋メインの使用スキルコスト×0.03＋エンゲージ後スキルの数×0.05＋メインの装備の☆合計×0.02＋エンチャントが4セット揃っている場合0.1<br />\n            ＋サポートのスキルの数×0.05\n          </code><br />\n          <br />\n          <ul>\n            <li>\n              攻撃力はそのキャラの攻撃タイプがアタックであればアタック、マジックであればマジック\n              <ul>\n                <li>アタックキャラのマジック、マジックキャラのアタックは戦闘力に計上されない</li>\n              </ul>\n            </li>\n            <li>\n              テクニックはクリティカルを模していると見られ、1000 で攻撃力 1.3 倍相当の効果となる\n              <ul>\n                <li>1000 が計上される上限となっているかもしれないが、現状そこまで伸ばす方法がなく検証不能</li>\n              </ul>\n            </li>\n            <li>\n              ステータス値はメインとサポートの合計\n              <ul>\n                <li>サポートの攻撃力にもメインのテクニックによる割合が乗る</li>\n                <li>メインがアタック、サポートがマジック (またはその逆) の場合でも攻撃力として合算され、それにテクニックによる割合が乗る</li>\n              </ul>\n            </li>\n            <li>\n              ☆の数やマスターレベルもメインとサポートの合計\n              <ul>\n                <li>倍率の加算になるため、サポートとリンクすると戦闘力は単純に合計するよりもずっと大きくなる</li>\n              </ul>\n            </li>\n            <li>エンチャントは 4 セット揃えたとき倍率に 0.1 が加算される</li>\n            <li>\n              装備の効果は基本ステータス値が上がるもののみ戦闘力に計上される\n              <ul>\n                <li>サポートのアミュレットも同様で、戦闘開始後に効果を発揮するもの (割合バフやステータス値の n% を加算系など) は計上されない</li>\n                <li>アクセサリのエンチャントのクリティカル率も計上されない</li>\n              </ul>\n            </li>\n          </ul>\n        </p>\n\n      </div>\n    </div>\n\n    <template v-for=\"(e, i) in popoverElements\">\n      <b-popover :target=\"e.element\" :key=\"i\" triggers=\"hover focus\" custom-class=\"item_po\" :title=\"e.name\" placement=\"top\">\n        <div class=\"flex\">\n          <div><b-img-lazy :src=\"getImageURL(e.item.icon)\" width=\"50\" height=\"50\" /></div>\n          <div><span v-html=\"descToHtml(e.item)\"></span><span v-if=\"e.item.note\" class=\"note\" v-html=\"noteToHtml(e.item)\"></span></div>\n        </div>\n        <div v-if=\"e.item.owners\" class=\"owners\">\n          所持者:<br />\n          <b-img-lazy v-for=\"(owner, oi) in e.item.owners\" :key=\"oi\" :src=\"getImageURL(owner.icon)\" :title=\"descToTitle(owner)\" width=\"50\" height=\"50\" />\n        </div>\n      </b-popover>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport DamageSimulator from './simulator/DamageSimulator.vue'\nimport BattlePointSimulator from './simulator/BattlePointSimulator.vue'\nimport StatusSimulator from './simulator/StatusSimulator.vue'\n\nimport jsonMainActive from '../assets/main_active.json'\nimport jsonMainPassive from '../assets/main_passive.json'\nimport jsonMainTalents from '../assets/main_talents.json'\nimport jsonMainChrs from '../assets/main_characters.json'\nimport jsonSupportActive from '../assets/support_active.json'\nimport jsonSupportPassive from '../assets/support_passive.json'\nimport jsonSupportChrs from '../assets/support_characters.json'\nimport jsonItems from '../assets/items.json'\nimport common from \"./common\";\n\nexport default {\n  name: 'About',\n  components: {\n    Navigation,\n    DamageSimulator,\n    BattlePointSimulator,\n    StatusSimulator,\n  },\n  mixins: [common],\n\n  data() {\n    return {\n      popoverElements: [],\n\n      stat: {\n        masterBonus: [\n          { \"種類\": \"メイン\", \"レベル1\": [200, 0, 0, 0, 0, 0], \"レベル2\": [400, 0, 0, 0, 0, 0], \"レベル3\": [800, 0, 0, 0, 0, 0] },\n          { \"種類\": \"サポート\", \"レベル1\": [300, 15, 8, 15, 8, 0], \"レベル2\": [600, 30, 16, 30, 16, 0], \"レベル3\": [1200, 55, 28, 55, 28, 0] },\n        ],\n        bookBonus: [\n          { \"種類\": \"メイン\", \"上昇率 (%)\": [150, 140, 130, 140, 130, 50] },\n          { \"種類\": \"サポート\", \"上昇率 (%)\": [110, 120, 110, 120, 110, 0] },\n        ],\n        enchantBonus: [\n          { \"種類\": \"武器\", \"割合 (%)\": [10, 15, 5, 15, 5], \"固定値\": [131, 31, 7, 31, 7] },\n          { \"種類\": \"鎧\", \"割合 (%)\": [15, 5, 15, 5, 15], \"固定値\": [200, 11, 19, 11, 19] },\n          { \"種類\": \"兜\", \"割合 (%)\": [15, 5, 15, 5, 15], \"固定値\": [200, 11, 19, 11, 19] },\n          { \"種類\": \"アクセサリ\", \"割合 (%)\": [10, 10, 10, 10, 10], \"固定値\": [131, 21, 13, 21, 13] },\n          { \"種類\": \"合計\", \"割合 (%)\": [50, 35, 45, 35, 45], \"固定値\": [662, 74, 58, 74, 58] },\n        ],\n        amuletBonus: [\n          { \"種類\": \"月アミュレットスキル2\", \"割合 (%)\": [7.5, 7.5, 7.5, 7.5, 7.5] },\n          { \"種類\": \"太陽アミュレットスキル2\", \"割合 (%)\": [7.5, 7.5, 7.5, 7.5, 7.5] },\n          { \"種類\": \"合計\", \"割合 (%)\": [15, 15, 15, 15, 15] },\n        ],\n\n        classBonusBase: [\n          { \"攻撃側\": \"ソルジャー\", \"ソルジャー\":  0, \"ランサー\": 45, \"ライダー\":-35, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ランサー\",   \"ソルジャー\":-35, \"ランサー\":  0, \"ライダー\": 45, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ライダー\",   \"ソルジャー\": 45, \"ランサー\":-35, \"ライダー\":  0, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"エアリアル\", \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\":  0, \"アサシン\": 45, \"シューター\":-35, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"アサシン\",   \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\":-35, \"アサシン\":  0, \"シューター\": 45, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"シューター\", \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\": 45, \"アサシン\":-35, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ソーサラー\", \"ソルジャー\": 20, \"ランサー\": 20, \"ライダー\": 20, \"エアリアル\":-15, \"アサシン\":-15, \"シューター\":-15, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"セイント\",   \"ソルジャー\":-15, \"ランサー\":-15, \"ライダー\":-15, \"エアリアル\": 20, \"アサシン\": 20, \"シューター\": 20, \"ソーサラー\": 0, \"セイント\": 0 },\n        ],\n        classBonusMax: [\n          { \"攻撃側\": \"ソルジャー\", \"ソルジャー\":  0, \"ランサー\": 75, \"ライダー\":-35, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ランサー\",   \"ソルジャー\":-35, \"ランサー\":  0, \"ライダー\": 75, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ライダー\",   \"ソルジャー\": 75, \"ランサー\":-35, \"ライダー\":  0, \"エアリアル\":  0, \"アサシン\":  0, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"エアリアル\", \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\":  0, \"アサシン\": 75, \"シューター\":-35, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"アサシン\",   \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\":-35, \"アサシン\":  0, \"シューター\": 75, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"シューター\", \"ソルジャー\":  0, \"ランサー\":  0, \"ライダー\":  0, \"エアリアル\": 75, \"アサシン\":-35, \"シューター\":  0, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"ソーサラー\", \"ソルジャー\": 35, \"ランサー\": 35, \"ライダー\": 35, \"エアリアル\":-15, \"アサシン\":-15, \"シューター\":-15, \"ソーサラー\": 0, \"セイント\": 0 },\n          { \"攻撃側\": \"セイント\",   \"ソルジャー\":-15, \"ランサー\":-15, \"ライダー\":-15, \"エアリアル\": 35, \"アサシン\": 35, \"シューター\": 35, \"ソーサラー\": 0, \"セイント\": 0 },\n        ],\n      },\n    };\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: 解説\";\n\n    this.mainActive = structuredClone(jsonMainActive);\n    this.mainPassive = structuredClone(jsonMainPassive);\n    this.mainTalents = structuredClone(jsonMainTalents);\n    this.mainChrs = structuredClone(jsonMainChrs);\n    this.supActive = structuredClone(jsonSupportActive);\n    this.supPassive = structuredClone(jsonSupportPassive);\n    this.supChrs = structuredClone(jsonSupportChrs);\n    this.items = structuredClone(jsonItems);\n\n    this.setupCharacters(this.mainChrs, this.mainActive, this.mainPassive, this.mainTalents);\n    this.setupCharacters(this.supChrs, this.supActive, this.supPassive);\n    this.setupItems(this.items);\n\n    this.searchTable = new Map();\n    for (let s of [...this.mainActive, ...this.mainPassive, ...this.mainTalents, ...this.supActive, ...this.supPassive, ...this.items])\n      this.searchTable.set(s.name, s);\n\n    this.specialBuffSkillsSingle = [];\n    this.specialBuffSkillsMulti = [];\n    for (const skill of this.mainActive) {\n      if (!skill.isSymbolSkill) {\n        for (const effect of skill.buff ?? []) {\n          if (effect.hasSpecialSlot) {\n            if (effect.target == \"自身\" || effect.target == \"単体\")\n              this.specialBuffSkillsSingle.push(skill);\n            else\n              this.specialBuffSkillsMulti.push(skill);\n            break;\n          }\n        }\n      }\n    }\n  },\n\n  mounted() {\n  },\n\n  methods: {\n    findItem(name) {\n      const r = this.searchTable.get(name);\n      if (!r)\n        console.log(`${name} not found`);\n      return r;\n    },\n\n    po(e) {\n      if (e) {\n        let el = e.$el;\n        if (!this.popoverElements.find(e => e === el)) {\n          this.popoverElements.push({\n            name: el.innerText,\n            item: this.findItem(el.innerText),\n            element: el,\n          });\n        }\n      }\n    },\n\n    n2percent(n) {\n      if (typeof (n) === 'number')\n        return n == 0 ? \"-\" : n > 0 ? `+${n}%` : `${n}%`;\n      else\n        return `<b>${n}</b>`;\n    },\n  },\n\n  computed: {\n  }\n}\n</script>\n\n<style scoped>\ndiv.about {\n  padding: 20px;\n  margin: 5px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  background: rgb(245, 245, 245);\n  box-shadow: 0 3px 6px rgba(140,149,159,0.5);\n}\n\n.about h2 {\n  font-size: 1.75em;\n}\n\n.about p {\n  margin-bottom: 30px;\n}\n\n.about ul {\n  list-style-type: disc;\n  margin: 0;\n}\n\n.about li {\n  display: list-item;\n  margin: 0 15px;\n}\n\n.gdocs {\n  max-width: 1125px !important;\n  width: 1125px !important;\n}\n\n.item_po {\n  max-width: 430px !important;\n}\n\n.note {\n  font-size: 80%;\n  color: rgb(150, 150, 150);\n}\n\n.panel {\n  padding: 10px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  display: inline-block;\n  background: white;\n}\n\n.panel h6 {\n  margin-bottom: 5px;\n}\n</style>\n\n<style>\n.desc .table {\n  width: auto;\n  margin: 3px;\n}\n.input-dropdown button {\n  padding: 0.1em;\n}\n\nlabel.disabled {\n  color: rgb(180, 180, 180);\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=606f84c5&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=606f84c5&prod&scoped=true&lang=css&\"\nimport style1 from \"./About.vue?vue&type=style&index=1&id=606f84c5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"606f84c5\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation')],1),_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"70px\"},style:(_vm.style)},[_c('div',{staticClass:\"about\"},[_vm._m(0),_c('p',[_vm._v(\" 2023/11 現在、マスターランクを切り替えるボタンが表示されなくなるバグが確認されています。\"),_c('br'),_vm._v(\" この状況に陥るとマスターランクを 11 以上に上げられなくなってしまいます。\"),_c('br'),_vm._v(\" 以下はこの状態に陥った際、切り替えボタンを復活させる方法です。\"),_c('br'),_c('br'),_vm._v(\" 前提として、ブラウザ版で、かつブラウザは Chrome か Edge である必要があります。\"),_c('br'),_vm._v(\" 実行後は各種設定がリセットされるため、普段使っているのとは違う方で実行するといいでしょう。\"),_c('br'),_vm._v(\" (実行するブラウザでのみ設定がリセットされボタンが復活します)\"),_c('br'),_vm._v(\" なお、開発者ツールを使います。開発者ツールを扱うことに抵抗がある人はやめておいたほうがいいでしょう。\"),_c('br'),_c('br'),_vm._m(1),_c('pre',{staticClass:\"code\"},[_vm._v(\"window.indexedDB.open(\\\"/idbfs\\\").onsuccess = (event) => {\\n  let db = event.target.result;\\n  let tx = db.transaction(\\\"FILE_DATA\\\", \\\"readwrite\\\");\\n  let store = tx.objectStore(\\\"FILE_DATA\\\");\\n  store.getAllKeys().onsuccess = (event) => {\\n    for(const key of event.target.result) {\\n      if(key.endsWith(\\\"/PlayerPrefs\\\")) {\\n        store.get(key).onsuccess = (event) => {\\n          let data = event.target.result;\\n          const masterRankOn = new Uint8Array([0x55, 0x6E, 0x69, 0x74, 0x79, 0x50, 0x72, 0x66, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x10, 0x4D, 0x61, 0x73, 0x74, 0x65, 0x72, 0x52, 0x61, 0x6E, 0x6B, 0x43, 0x68, 0x61, 0x6E, 0x67, 0x65, 0x02, 0x7B, 0x7D]);\\n          data.contents = masterRankOn;\\n          store.put(data, key).onsuccess = (event) => {\\n            console.log(event.target.result);\\n          };\\n        };\\n      }\\n    }\\n  };\\n};\\n\")]),_c('b-link',{attrs:{\"href\":\"img/misc/masterrank1.jpg\",\"target\":\"_blank\"}},[_c('b-img',{attrs:{\"src\":\"img/misc/masterrank1.jpg\",\"height\":\"300px\"}})],1),_c('b-link',{attrs:{\"href\":\"img/misc/masterrank2.jpg\",\"target\":\"_blank\"}},[_c('b-img',{attrs:{\"src\":\"img/misc/masterrank2.jpg\",\"height\":\"300px\"}})],1)],1)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('a',{attrs:{\"name\":\"master-rank-bug\",\"href\":\"#master-rank-bug\"}}),_vm._v(\"マスターランク切り替えボタンについて\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"ゲームのページを開き、Ctrl + Shift + I を押す (開発者ツールが出てくる)\")]),_c('li',[_vm._v(\"開発者ツールの「アプリケーション」に移動\")]),_c('li',[_vm._v(\"下記スクリーンショットの下の方にあるフレームを選ぶところで \\\"index.html\\\" を選択 (デフォルトは \\\"top\\\" になってるはず)\")]),_c('li',[_vm._v(\"index.html が選択された状態で下記スクリプトをコンソールにコピペし、実行\")]),_c('li',[_vm._v(\"ゲーム再起動 (ページリロード) すると、各種設定が初期化された上でボタンが復活しているはず\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n    </div>\n\n    <div class=\"content\" style=\"margin-top: 70px;\" :style=\"style\">\n      <div class=\"about\">\n\n        <h2><a name=\"master-rank-bug\" href=\"#master-rank-bug\"></a>マスターランク切り替えボタンについて</h2>\n        <p>\n          2023/11 現在、マスターランクを切り替えるボタンが表示されなくなるバグが確認されています。<br />\n          この状況に陥るとマスターランクを 11 以上に上げられなくなってしまいます。<br />\n          以下はこの状態に陥った際、切り替えボタンを復活させる方法です。<br />\n          <br />\n          前提として、ブラウザ版で、かつブラウザは Chrome か Edge である必要があります。<br />\n          実行後は各種設定がリセットされるため、普段使っているのとは違う方で実行するといいでしょう。<br />\n          (実行するブラウザでのみ設定がリセットされボタンが復活します)<br />\n          なお、開発者ツールを使います。開発者ツールを扱うことに抵抗がある人はやめておいたほうがいいでしょう。<br />\n          <br />\n          <ul>\n            <li>ゲームのページを開き、Ctrl + Shift + I を押す (開発者ツールが出てくる)</li>\n            <li>開発者ツールの「アプリケーション」に移動</li>\n            <li>下記スクリーンショットの下の方にあるフレームを選ぶところで \"index.html\" を選択 (デフォルトは \"top\" になってるはず)</li>\n            <li>index.html が選択された状態で下記スクリプトをコンソールにコピペし、実行</li>\n            <li>ゲーム再起動 (ページリロード) すると、各種設定が初期化された上でボタンが復活しているはず</li>\n          </ul>\n          <pre class=\"code\">\nwindow.indexedDB.open(\"/idbfs\").onsuccess = (event) => {\n  let db = event.target.result;\n  let tx = db.transaction(\"FILE_DATA\", \"readwrite\");\n  let store = tx.objectStore(\"FILE_DATA\");\n  store.getAllKeys().onsuccess = (event) => {\n    for(const key of event.target.result) {\n      if(key.endsWith(\"/PlayerPrefs\")) {\n        store.get(key).onsuccess = (event) => {\n          let data = event.target.result;\n          const masterRankOn = new Uint8Array([0x55, 0x6E, 0x69, 0x74, 0x79, 0x50, 0x72, 0x66, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x10, 0x4D, 0x61, 0x73, 0x74, 0x65, 0x72, 0x52, 0x61, 0x6E, 0x6B, 0x43, 0x68, 0x61, 0x6E, 0x67, 0x65, 0x02, 0x7B, 0x7D]);\n          data.contents = masterRankOn;\n          store.put(data, key).onsuccess = (event) => {\n            console.log(event.target.result);\n          };\n        };\n      }\n    }\n  };\n};\n</pre>\n          <b-link href=\"img/misc/masterrank1.jpg\" target=\"_blank\"><b-img src=\"img/misc/masterrank1.jpg\" height=\"300px\" /></b-link>\n          <b-link href=\"img/misc/masterrank2.jpg\" target=\"_blank\"><b-img src=\"img/misc/masterrank2.jpg\" height=\"300px\" /></b-link>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>import Navigation from './Navigation.vue'\nimport common from \"./common\";\n\nexport default {\n  name: 'Misc',\n  components: {\n    Navigation,\n  },\n  mixins: [common],\n\n  data() {\n    return {\n    };\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: その他\";\n  },\n\n  mounted() {\n  },\n\n  methods: {\n  },\n\n  computed: {\n  }\n}</script>\n\n<style scoped>\n  div.about {\n    padding: 20px;\n    margin: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    background: rgb(245, 245, 245);\n    box-shadow: 0 3px 6px rgba(140,149,159,0.5);\n  }\n\n  .about h2 {\n    font-size: 1.75em;\n  }\n\n  .about p {\n    margin-bottom: 30px;\n  }\n\n  .about ul {\n    list-style-type: disc;\n    margin: 0;\n  }\n\n  .about li {\n    display: list-item;\n    margin: 0 15px;\n  }\n\n  .gdocs {\n    max-width: 1125px !important;\n    width: 1125px !important;\n  }\n\n  .item_po {\n    max-width: 430px !important;\n  }\n\n  .note {\n    font-size: 80%;\n    color: rgb(150, 150, 150);\n  }\n\n  .panel {\n    padding: 10px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    display: inline-block;\n    background: white;\n  }\n\n  .panel h6 {\n    margin-bottom: 5px;\n  }\n\n  .code {\n    padding: 20px;\n    margin: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    background: rgb(230, 230, 235);\n    box-shadow: 0 3px 6px rgba(140,149,159,0.5);\n  }\n\n</style>\n\n<style>\n  .desc .table {\n    width: auto;\n    margin: 3px;\n  }\n\n  .input-dropdown button {\n    padding: 0.1em;\n  }\n\n  label.disabled {\n    color: rgb(180, 180, 180);\n  }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Misc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Misc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Misc.vue?vue&type=template&id=11a6a01a&scoped=true&\"\nimport script from \"./Misc.vue?vue&type=script&lang=js&\"\nexport * from \"./Misc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Misc.vue?vue&type=style&index=0&id=11a6a01a&prod&scoped=true&lang=css&\"\nimport style1 from \"./Misc.vue?vue&type=style&index=1&id=11a6a01a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11a6a01a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"root\",on:{\"mousemove\":_vm.onMouseMove,\"click\":function($event){return _vm.onCellRClick(null)}}},[_c('div',{staticClass:\"header\",class:{ 'hidden': !_vm.showHeader }},[_c('Navigation')],1),_c('div',{staticClass:\"about\",staticStyle:{\"margin-top\":\"55px\"}},[_c('div',{staticClass:\"menu-content\",staticStyle:{\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-settings\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"マップデータ：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.battleData ? _vm.battleData.uid : '',\"size\":\"sm\",\"id\":\"battle_selector\",\"disabled\":_vm.simulation!=null}},_vm._l((_vm.battleList),function(battle,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.selectBattle(battle.uid, true); _vm.updateURL();}}},[_vm._v(\" \"+_vm._s(battle.uid)+\" \")])}),1)],1)])]),_c('div',{staticClass:\"menu-panel\",attrs:{\"id\":\"cb-settings\"}},[_c('div',{staticClass:\"menu-widgets flex\"},[_c('div',{staticClass:\"widget\"},[_c('span',[_vm._v(\"敵情報：\")]),_c('b-dropdown',{attrs:{\"text\":_vm.displayTypes[_vm.displayType],\"size\":\"sm\",\"id\":\"detail_selector\"}},_vm._l((_vm.displayTypes),function(c,i){return _c('b-dropdown-item',{key:i,staticClass:\"d-flex flex-column\",on:{\"click\":function($event){_vm.displayType=i}}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1)])])])]),_c('div',{staticClass:\"content\",style:(_vm.style)},[_c('div',{staticClass:\"main-panel\"},[(!_vm.simulation)?_c('b-tabs',{model:{value:(_vm.phaseTabIndex),callback:function ($$v) {_vm.phaseTabIndex=$$v},expression:\"phaseTabIndex\"}},_vm._l((_vm.phaseList),function(phase){return _c('b-tab',{key:phase.id,attrs:{\"title\":phase.desc},on:{\"click\":function($event){_vm.selectPhase(phase.id, true); _vm.updateURL();}}})}),1):_vm._e(),_c('div',{staticStyle:{\"padding\":\"10px\",\"background-color\":\"white\",\"display\":\"flex\"}},[_c('div',{ref:\"cells\",staticClass:\"grid-container\"},_vm._l((_vm.cells),function(cell,i){return _c('div',{key:i,class:_vm.getCellClass(cell),attrs:{\"set\":_vm.unit=_vm.findUnitByCoord(cell.coord),\"id\":cell.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.onClickCell(cell)},\"mouseup\":function($event){if('button' in $event && $event.button !== 1)return null;$event.preventDefault();$event.stopPropagation();return _vm.onCellRClick(cell)},\"mousedown\":function($event){if('button' in $event && $event.button !== 1)return null;$event.preventDefault();$event.stopPropagation();return _vm.dummyHandler()},\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onCellRClick(cell)},\"mouseover\":function($event){return _vm.onEnterCell(cell)},\"mouseleave\":function($event){return _vm.onLeaveCell(cell)}}},[(_vm.unit?.isEnemy && _vm.unit?.hasSupport)?[_c('b-img',{staticClass:\"center\",staticStyle:{\"position\":\"relative\",\"left\":\"8px\",\"top\":\"-8px\",\"z-index\":\"1\"},attrs:{\"src\":_vm.getImageURL(_vm.unit.main.class),\"width\":\"30\",\"height\":\"30\"}}),_c('b-img',{staticClass:\"center\",staticStyle:{\"position\":\"relative\",\"left\":\"-8px\",\"top\":\"8px\",\"z-index\":\"0\"},attrs:{\"src\":_vm.getImageURL(_vm.unit.support.class),\"width\":\"30\",\"height\":\"30\"}})]:(_vm.unit?.isEnemy && _vm.unit?.main)?[_c('b-img',{staticClass:\"center\",attrs:{\"src\":_vm.getImageURL(_vm.unit.main.class),\"width\":\"40\",\"height\":\"40\"}})]:(_vm.unit?.isPlayer)?[_c('div',{attrs:{\"draggable\":\"\"},on:{\"dragstart\":function($event){return _vm.onDragCell(cell)},\"drop\":function($event){return _vm.onDropCell(cell)},\"dragover\":function($event){$event.preventDefault();return _vm.dummyHandler()}}},[_c('b-img',{staticClass:\"center\",attrs:{\"src\":_vm.getImageURL(_vm.unit.main.icon),\"width\":\"50\",\"height\":\"50\"}})],1)]:_vm._e()],2)}),0),_c('div',{staticClass:\"enemy-list\"},[_vm._l((_vm.activeEnemyUnits),function(unit){return [_c('div',{key:unit.fid,staticClass:\"character\",class:{ 'highlighted': _vm.isUnitHighlighted(unit) },attrs:{\"id\":'enemy_'+unit.fid}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.icon),\"title\":unit.main.name,\"width\":\"80\",\"height\":\"80\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\"},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(unit.main.name+' (メイン)'))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.class),\"title\":'クラス:'+unit.main.class,\"height\":\"25\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.damageType),\"title\":'攻撃タイプ:'+unit.main.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.main.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.main.move))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"レベル:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(unit.main.level))])])],1),(unit.main.status)?_c('div',{staticClass:\"status2\",domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(unit.main.status))}}):_vm._e()]),_c('div',{staticClass:\"skills\"},[_vm._l((unit.main.skills),function(skill,si){return [(!skill.isNormalAttack)?_c('div',{key:si,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":'enemy_'+unit.fid+'_skill'+si}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":'enemy_'+unit.fid+'_skill'+si,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])])]):_vm._e()]})],2)])]),(unit.hasSupport && _vm.displayType >= 2)?_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.icon),\"title\":unit.support.name,\"width\":\"80\",\"height\":\"80\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\"},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(unit.support.name+' (サポート)'))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.class),\"title\":'クラス:'+unit.support.class,\"height\":\"25\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.damageType),\"title\":'攻撃タイプ:'+unit.support.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.support.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('span',{staticClass:\"param-name\"},[_vm._v(\"レベル:\")]),_c('span',{staticClass:\"param-value\"},[_vm._v(_vm._s(unit.support.level))])])],1),(unit.support.status)?_c('div',{staticClass:\"status2\",domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(unit.support.status))}}):_vm._e()])])]):_vm._e()])]})],2)])],1)]),(_vm.simulation)?_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"unit-panel\"},[(_vm.actionsToSelect.length)?_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('b-button',{staticStyle:{\"width\":\"45px\",\"height\":\"45px\",\"margin-right\":\"5px\"},attrs:{\"size\":\"sm\"}},[_vm._v(\" 待機 \")]),_vm._l((_vm.actionsToSelect),function(skill,si){return _c('b-link',{key:si,on:{\"click\":function($event){return _vm.onClickAction(skill)}}},[_c('b-img',{class:_vm.getActionClass(skill),attrs:{\"src\":_vm.getImageURL(skill.icon),\"title\":_vm.descToTitle(skill),\"width\":\"50\"}})],1)})],2):_vm._e(),_c('div',[_c('h5',[_vm._v(\" ターン\"+_vm._s(_vm.simulation.turn)+\" : \"+_vm._s(_vm.simulation.isPlayerTurn ? 'プレイヤー': 'エネミー')+\"フェイズ \")]),_c('b-button',{staticStyle:{\"width\":\"10em\",\"margin-right\":\"1em\"},attrs:{\"size\":\"sm\",\"disabled\":_vm.simulation.turn == _vm.simulation.maxTurn && _vm.simulation.isEnemyTurn},on:{\"click\":function($event){return _vm.endTurn()}}},[_vm._v(\" ターン終了 \")]),_c('b-button',{staticStyle:{\"width\":\"14em\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.endSimulation()}}},[_vm._v(\" シミュレーション終了 \")])],1)]),_vm._m(0)]):_c('div',{staticClass:\"content\",staticStyle:{\"margin-top\":\"30px\"}},[_c('div',{staticClass:\"unit-panel\"},[_c('div',{staticClass:\"flex\"},[_c('b-form-input',{staticStyle:{\"width\":\"12em\"},attrs:{\"placeholder\":\"編成名\",\"disabled\":_vm.simulation!=null},model:{value:(_vm.slotName),callback:function ($$v) {_vm.slotName=$$v},expression:\"slotName\"}}),_c('b-dropdown',{staticStyle:{\"width\":\"10em\",\"margin-left\":\"0.5em\"},attrs:{\"size\":\"sm\",\"text\":\"編成をセーブ\",\"disabled\":_vm.simulation!=null}},_vm._l((_vm.slotNames),function(name,i){return _c('b-dropdown-item',{key:i,on:{\"click\":function($event){return _vm.saveUnits(i)}}},[_vm._v(\"スロット\"+_vm._s(i)+\": \"+_vm._s(name))])}),1),_c('b-dropdown',{staticStyle:{\"width\":\"10em\",\"margin-left\":\"0.5em\"},attrs:{\"size\":\"sm\",\"text\":\"編成をロード\",\"disabled\":_vm.simulation!=null}},[_vm._l((_vm.slotNames),function(name,i){return _c('b-dropdown-item',{key:i,on:{\"click\":function($event){return _vm.loadUnits(i)}}},[_vm._v(\"スロット\"+_vm._s(i)+\": \"+_vm._s(name))])}),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.loadUnits(99)}}},[_vm._v(\"バックアップ\")])],2),_c('b-button',{staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"size\":\"sm\",\"disabled\":_vm.simulation!=null},on:{\"click\":function($event){return _vm.clearUnits()}}},[_vm._v(\" 編成をクリア \")]),_c('b-button',{staticStyle:{\"width\":\"14em\",\"margin-left\":\"4em\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.beginSimulation()}}},[_vm._v(\" シミュレーション開始 \")])],1)])]),_c('div',{staticClass:\"content\",style:(_vm.style)},[_c('div',{staticClass:\"main-panel\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"20px\"}},[_c('b-tabs',{model:{value:(_vm.unitTabIndex),callback:function ($$v) {_vm.unitTabIndex=$$v},expression:\"unitTabIndex\"}},_vm._l((_vm.playerUnits),function(unit,ui){return _c('b-tab',{key:ui,staticStyle:{\"background-color\":\"white\",\"min-width\":\"1520px\",\"min-height\":\"500px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('h2',{staticStyle:{\"font-size\":\"1em\"},attrs:{\"draggable\":\"\"},on:{\"dragstart\":function($event){return _vm.onDragUnit(unit)},\"drop\":function($event){return _vm.onDropUnit(unit)},\"dragover\":function($event){$event.preventDefault();return _vm.dummyHandler()}}},[_vm._v(\" ユニット\"+_vm._s(ui+1)+\" \"),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main?.icon),\"width\":\"30\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support?.icon),\"width\":\"30\"}})],1)]},proxy:true}],null,true)},[(!_vm.simulation)?_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('b-button',{staticStyle:{\"width\":\"10em\"},attrs:{\"id\":`btn-edit-unit${ui}`},on:{\"click\":function($event){unit.showEditor=!unit.showEditor}}},[_vm._v(\"編集\")]),_c('b-popover',{attrs:{\"target\":`btn-edit-unit${ui}`,\"custom-class\":\"status-simulator-popover\",\"show\":unit.showEditor,\"delay\":{show:0, hide:250},\"no-fade\":\"\"},on:{\"update:show\":function($event){return _vm.$set(unit, \"showEditor\", $event)}}},[_c('StatusSimulator',{attrs:{\"embed\":\"\",\"data\":unit.editorData},on:{\"change\":function($event){return unit.edit($event)}}}),_c('div',{staticClass:\"flex\"},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){unit.showEditor=false}}},[_vm._v(\"閉じる\")])],1)],1)],1):_vm._e(),_c('div',{staticClass:\"flex\",staticStyle:{\"align-items\":\"flex-start\"}},[(unit.main.cid)?_c('div',{staticClass:\"character\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.icon),\"title\":unit.main.name,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\"},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(unit.main.name))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.class),\"title\":'クラス:'+unit.main.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.symbol),\"title\":'シンボル:'+unit.main.symbol,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.rarity),\"title\":'レアリティ:'+unit.main.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.main.damageType),\"title\":'攻撃タイプ:'+unit.main.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.main.range))])],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('移動'),\"title\":\"移動\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.main.move))])],1)],1),_c('div',{staticClass:\"status2\",domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(unit.main.status))}})]),_c('div',{staticClass:\"skills\"},[_vm._l((unit.main.skills),function(skill,si){return [(!skill.isNormalAttack)?_c('div',{key:`skill${si}`,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":`unit${ui}_main_skill${si}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":`unit${ui}_main_skill${si}`,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])])]):_vm._e()]})],2),_c('div',{staticClass:\"skills\"},_vm._l((unit.main.items),function(skill,si){return _c('div',{key:`item${si}`,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":`unit${ui}_main_item${si}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":`unit${ui}_main_item${si}`,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[(skill.slot)?_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.slot),\"title\":'部位:'+skill.slot,\"height\":\"20\"}}):_vm._e(),_vm._v(\" \"+_vm._s(skill.name)+\" \")],1)]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])])])}),0)])])]):_vm._e(),(unit.support.cid)?_c('div',{staticClass:\"character\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"portrait\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.icon),\"title\":unit.support.name,\"width\":\"100\",\"height\":\"100\",\"rounded\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 1),expression:\"displayType >= 1\"}],staticClass:\"detail\"},[_c('div',{staticClass:\"info\"},[_c('h5',{domProps:{\"innerHTML\":_vm._s(_vm.chrNameToHtml(unit.support.name))}}),_c('div',{staticClass:\"status\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.class),\"title\":'クラス:'+unit.support.class,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.supportType),\"title\":'サポートタイプ:'+unit.support.supportType,\"height\":\"25\"}}),_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.rarity),\"title\":'レアリティ:'+unit.support.rarity,\"height\":\"20\"}}),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(unit.support.damageType),\"title\":'攻撃タイプ:'+unit.support.damageType,\"width\":\"20\",\"height\":\"20\"}})],1),_c('div',{staticClass:\"param-box\"},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL('射程'),\"title\":\"射程\",\"width\":\"18\",\"height\":\"18\"}}),_c('span',[_vm._v(_vm._s(unit.support.range))])],1)],1),_c('div',{staticClass:\"status2\",domProps:{\"innerHTML\":_vm._s(_vm.statusToHtml(unit.support.status))}})]),_c('div',{staticClass:\"skills\"},_vm._l((unit.support.skills),function(skill,si){return _c('div',{key:`skill${si}`,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":`unit${ui}_sup_skill${si}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":`unit${ui}_sup_skill${si}`,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_vm._v(_vm._s(skill.name))]),_c('div',{staticClass:\"param-group\",domProps:{\"innerHTML\":_vm._s(_vm.skillParamsToHtml(skill))}})]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])])])}),0),_c('div',{staticClass:\"skills\"},_vm._l((unit.support.items),function(skill,si){return _c('div',{key:`item${si}`,staticClass:\"skill\",class:_vm.getSkillClass(skill)},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"icon\",attrs:{\"id\":`unit${ui}_sup_item${si}`}},[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.icon),\"with\":\"50\",\"height\":\"50\"}}),(_vm.displayType==1)?_c('b-popover',{attrs:{\"target\":`unit${ui}_sup_item${si}`,\"triggers\":\"hover focus\",\"delay\":{show:0, hide:250},\"no-fade\":\"\",\"title\":skill.name,\"placement\":\"top\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}})])]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displayType >= 2),expression:\"displayType >= 2\"}],staticClass:\"desc\"},[_c('div',{staticClass:\"flex\"},[_c('h6',[_c('b-img-lazy',{attrs:{\"src\":_vm.getImageURL(skill.slot),\"title\":'部位:'+skill.slot,\"height\":\"20\"}}),_vm._v(\" \"+_vm._s(skill.name)+\" \")],1)]),_c('p',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.descToHtml(skill))}}),(skill.note)?_c('span',{staticClass:\"note\",domProps:{\"innerHTML\":_vm._s(_vm.noteToHtml(skill))}}):_vm._e()])])])])}),0)])])]):_vm._e()])])}),1)],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"unit-panel\"},[_vm._v(\" シミュレーションモードでは実際のゲームのようにユニットを操作できます。\"),_c('br'),_vm._v(\" しかし、あくまで検証用であるため、異なる点もあります。大きな違いを以下に挙げます。\"),_c('br'),_c('ul',[_c('li',[_vm._v(\"移動可能範囲は表示されますが、それを無視して無限に移動できます。\")]),_c('li',[_vm._v(\"無限に再行動できます。\")]),_c('li',[_vm._v(\"CT 中のアクティブや使用済みサポートアクティブも使用可能です。\"),_c('br'),_vm._v(\" (本来使用不能なスキルはアイコンが灰色になるので区別できます)\")]),_c('li',[_vm._v(\"敵ユニットは自動では行動しません。\"),_c('b',[_vm._v(\"敵フェイズでは敵ユニットを手動で操作する必要があります\")]),_vm._v(\"。\"),_c('br'),_vm._v(\" (敵の挙動の正確な再現が困難であるため)\")])])])\n}]\n\nexport { render, staticRenderFns }","export class BaseUnit {\n  isEnemy = false;\n  isPlayer = false;\n\n  base = BaseUnit.emptyUnit;\n  sim = null;\n  editorData = [];\n  showEditor = false;\n\n  static get emptyUnit() {\n    return {\n      coord: [0, 0],\n      main: {\n        cid: \"\",\n        skills: [],\n        items: [],\n        status: [0, 0, 0, 0, 0, 0], // 基礎ステ\n      },\n      support: {\n        cid: \"\",\n        skills: [],\n        items: [],\n        status: [0, 0, 0, 0, 0, 0], // 基礎ステ\n      },\n    };\n  }\n\n  get coord() {\n    //return this.base.coord;\n    return this.sim ? this.sim.coord : this.base.coord;\n  }\n  set coord(v) {\n    if (this.sim)\n      this.sim.coord = v;\n    else\n      this.base.coord = v;\n  }\n  get main() {\n    return this.sim ? this.sim.main : this.base.main;\n  }\n  get support() {\n    return this.sim ? this.sim.support : this.base.support;\n  }\n  get hasSupport() {\n    return this.base.support.cid;\n  }\n  get actions() {\n    return this.sim ? this.sim.actions : [];\n  }\n\n  get move() {\n    return this.sim ? this.sim.main.move : this.main.move;\n  }\n  get range() {\n    return this.sim ? this.sim.main.range : this.main.range;\n  }\n  get isActive() {\n    return this.sim ? this.sim.isActive : false;\n  }\n\n  constructor(isPlayer = true) {\n    if (isPlayer)\n      this.isPlayer = true;\n    else\n      this.isEnemy = true;\n    this.initialize();\n  }\n  initialize() {\n    const emp = BaseUnit.emptyUnit;\n    Object.assign(this.base.main, emp.main);\n    Object.assign(this.base.support, emp.support);\n    this.showEditor = false;\n    this.editorData = [];\n\n    const mergeChrData = $vue().mergeChrData;\n    mergeChrData(this.base.main, null);\n    mergeChrData(this.base.support, null);\n  }\n  swap(v) {\n    const swapProperty = $vue().swapProperty;\n    swapProperty(this.base, v.base, \"main\");\n    swapProperty(this.base, v.base, \"support\");\n    swapProperty(this, v, \"editorData\");\n  }\n\n  saveState() {\n    this.sim?.saveState();\n  }\n  loadState() {\n    this.sim?.loadState();\n  }\n\n  serialize() {\n    const serializeChr = function (src) {\n      return {\n        cid: src.cid,\n        skills: src.skills.map(a => a.uid),\n        items: src.items.map(a => a.uid),\n        status: src.status,\n      };\n    };\n    let r = {\n      main: serializeChr(this.base.main),\n      support: serializeChr(this.base.support),\n      editorData: [...this.editorData],\n    };\n    return r;\n  }\n  deserialize(r) {\n    const findItemByUid = $vue().findItemByUid;\n    const mergeChrData = $vue().mergeChrData;\n    const deserializeChr = function (dst, src) {\n      const chr = findItemByUid(src.cid);\n      mergeChrData(dst, chr);\n      dst.cid = src.cid;\n      dst.skills = src.skills.map(findItemByUid);\n      dst.items = src.items.map(findItemByUid);\n      dst.status = [...src.status];\n    };\n    deserializeChr(this.base.main, r.main);\n    deserializeChr(this.base.support, r.support);\n    this.editorData = [...r.editorData];\n  }\n  edit(ss) {\n    const findItemByUid = $vue().findItemByUid;\n    const copyArray = $vue().copyArray;\n    const mergeChrData = $vue().mergeChrData;\n    // エディタ側のオブジェクトとこちら側のオブジェクトは別個体なため、uid を元にこちら側のオブジェクトに差し替える。\n\n    let main = this.base.main;\n    const mainChr = findItemByUid(ss.main.character.value?.uid);\n    mergeChrData(main, mainChr);\n    main.cid = mainChr?.uid ?? \"\";\n    main.skills = [];\n    if (mainChr) {\n      main.skills = [mainChr.talent, ...ss.mainSkills].filter(a => a).map(a => findItemByUid(a.uid));\n    }\n    main.items = [...ss.mainEnchantPassive, ...ss.mainItems].filter(a => a).map(a => findItemByUid(a.uid));\n    main.status = ss.statMainResult.slice(0, 6);\n\n    let support = this.base.support;\n    const supChr = findItemByUid(ss.support.character.value?.uid);\n    mergeChrData(support, supChr);\n    support.cid = supChr?.uid ?? \"\";\n    support.skills = [];\n    if (supChr) {\n      support.skills = [...supChr.skills].filter(a => a).map(a => findItemByUid(a.uid));\n    }\n    support.items = ss.supportItems.filter(a => a).map(a => findItemByUid(a.uid));\n    support.status = ss.statSupportResult.slice(0, 6);\n\n    copyArray(this.editorData, ss.serialize());\n    //console.log(this);\n  }\n}\n\nfunction makeSimEffect(effect) {\n  let self = Object.create(effect);\n  self.stack = 1;\n  self.time = Infinity; // 残有効時間\n  self.isStopped = true; // 自己バフはかけたターンは時間経過しない。そのためのフラグ。\n  self.enabled = true; // 有効か。基本的には time > 0 なら有効、そうでなければ無効だが、ユーザーが強制的に有効にすることもある。\n\n  self.serialize = function () {\n    return {\n      stack: self.stack,\n      time: self.time,\n      isStopped: self.isStopped,\n      enabled: self.enabled,\n    };\n  }\n  self.deserialize = function (r) {\n    self.stack = r.stack;\n    self.time = r.time;\n    self.isStopped = r.isStopped;\n    self.enabled = r.enabled;\n  }\n\n  self.activate = function (bySelf) {\n    if (self.duration) {\n      self.time = self.duration;\n      if (bySelf) {\n        self.isStopped = false;\n      }\n    }\n  }\n  self.evaluateCondition = function (target, caster, battleCtx) {\n    const condExp = function(val1, cmp, val2) {\n      const table = {\n        \"==\": () => val1 == val2,\n        \">\": () => val1 > val2,\n        \"<\": () => val1 < val2,\n        \">=\": () => val1 >= val2,\n        \"<=\": () => val1 <= val2,\n        \"!=\": () => val1 != val2,\n      };\n      return table[cmp];\n    }\n\n    const cond = self.condition;\n    let ok = true;\n    if (cond) {\n      if (cond.turn) {\n        const params = cond.turn;\n        if (!condExp(battleCtx.turn, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.hp || cond.targetHp) {\n        const params = cond.hp ?? cond.targetHp;\n        if (!condExp(target.hpRate, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.mainHp) {\n        const params = cond.mainHp;\n        if (!condExp(target.hpRateMain, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.supportHp) {\n        const params = cond.supportHp;\n        if (!condExp(target.hpRateSupport, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.nearAllyCount) {\n        const params = cond.nearAllyCount.condition;\n        if (!condExp(target.getNearAllyCount(cond.nearAllyCount.area), params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.nearEnemyCount) {\n        const params = cond.nearEnemyCount.condition;\n        if (!condExp(target.getNearEnemyCount(cond.nearAllyCount.area), params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.activeBuffCount || cond.targetActiveBuffCount) {\n        const params = cond.activeBuffCount ?? cond.targetActiveBuffCount;\n        if (!condExp(target.activeBuffCount, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.activeDebuffCount || cond.targetActiveDebuffCount) {\n        const params = cond.activeDebuffCount ?? cond.targetActiveDebuffCount;\n        if (!condExp(target.activeDebuffCount, params[0], params[1])) {\n          ok = false;\n        }\n      }\n      if (cond.token || cond.targetToken) {\n        const params = cond.token ?? cond.targetToken;\n        // todo\n      }\n\n      if (cond.onClass || cond.onEnemyClass) {\n        if (!cond.onClass.includes(target.main.class)) {\n          ok = false;\n        }\n      }\n      if (cond.onSymbol) {\n        if (!cond.onSymbol.includes(target.main.symbol)) {\n          ok = false;\n        }\n      }\n      if (cond.onOwnTurn) {\n        if ((battleCtx.isPlayerTurn && !target.isPlayer) || (battleCtx.isEnemyTurn && !target.isEnemy)) {\n          ok = false;\n        }\n      }\n      if (cond.onEnemyTurn) {\n        if ((battleCtx.isPlayerTurn && target.isPlayer) || (battleCtx.isEnemyTurn && target.isEnemy)) {\n          ok = false;\n        }\n      }\n      if (cond.onCloseCombat) {\n        if (battleCtx.range > 1) {\n          ok = false;\n        }\n      }\n      if (cond.onRangedCombat) {\n        if (battleCtx.range == 1) {\n          ok = false;\n        }\n      }\n      if (cond.onDamage) {\n        // todo\n      }\n      if (cond.onCriticalit) {\n        // todo\n      }\n      if (cond.onKill) {\n        // todo\n      }\n    }\n    return ok;\n  }\n  self.evaluateBuff = function (target, caster, battleCtx) {\n  }\n  self.evaluateDebuff = function (target, caster, battleCtx) {\n  }\n\n  self.onTurnBegin = function () {\n  }\n  self.onSimulationBegin = function () {\n  }\n  self.onSimulationEnd = function () {\n  }\n  self.onAttackBegin = function () {\n  }\n  self.onAttackEnd = function () {\n  }\n  self.onActionEnd = function () {\n    if (!self.isStopped && self.time > 0) {\n      if (--self.time == 0) {\n        self.enabled = false;\n      }\n    }\n  }\n  self.onTurnEnd = function () {\n    self.isStopped = false;\n  }\n\n  self._getValue = function (battleCtx, baseStat) {\n    let r = 0;\n    const effect = self;\n    if (effect.value) {\n      r = effect.value;\n      if (effect.maxStack) {\n        // 効果が重複するタイプ\n        // フルスペック時の効果を返す\n        r *= self.stack;\n      }\n    }\n    else if (effect.variable) {\n      // HP 割合などに応じて効果が上下するタイプ\n      // フルスペック時の効果を返す\n      if (Array.isArray(effect.variable.max)) {\n        r = effect.variable.max[effect.variable.max.length - 1];\n      }\n      else {\n        r = effect.variable.max;\n      }\n    }\n    else if (effect.add) {\n      // \"アタックの n% をマジックに加算\" など\n      // 正確な評価は困難だが 0 にはしたくないので、とりあえず 1/4 したのをスコアにしておく\n      r = effect.add.rate * 0.25;\n    }\n    return r;\n  }\n  return self;\n}\n\nfunction makeSimCustomEffect(type) {\n  let self = {\n    effectType: 0,\n    value: 0,\n  };\n  let vue = $vue();\n  self.effectType = typeof (type) === 'string' ? vue.getEffectIndex(type) : type;\n\n  self.serialize = function () {\n    return {\n      effectType: this.effectType,\n      value: this.value,\n    };\n  }\n  self.deserialize = function (r) {\n    this.effectType = r.effectType;\n    this.value = r.value;\n  }\n  return self;\n}\n\nfunction makeSimSkill(skill, ownerChr) {\n  let self = Object.create(skill);\n  self.owner = ownerChr;\n  if (self.isActive) {\n    self.coolTime = 0;\n  }\n  self.effects = []; // SimEffect\n\n  for (let effect of [...(self.buff ?? []), ...(self.debuff ?? [])]) {\n    self.effects.push(makeSimEffect(effect));\n  }\n\n  self.serialize = function () {\n    let r = {\n      effects: self.effects.map(a => a.serialize()),\n    };\n    if (self.isActive) {\n      r.coolTime = self.coolTime;\n    }\n    return r;\n  }\n  self.deserialize = function (r) {\n    if (self.isActive) {\n      self.coolTime = r.coolTime;\n    }\n    self.effects = r.effects.map(function (data) {\n      let tmp = makeSimEffect();\n      tmp.deserialize(data);\n      return tmp;\n    });\n  }\n\n  Object.defineProperty(self, 'available', {\n    get: () => { return !self.isActive || self.coolTime <= 0; },\n  });\n\n  self.activate = function (bySelf) {\n    for (let e of self.effects) {\n      e.activate(bySelf);\n    }\n  }\n  self.fire = function () {\n    console.log(self);\n    if (self.isActive) {\n      self.coolTime = self.ct ?? Infinity;\n    }\n  }\n  self.onTurnBegin = function () {\n    for (let e of self.effects) {\n      e.onTurnBegin();\n    }\n  }\n  self.onSimulationBegin = function () {\n    for (let e of self.effects) {\n      e.onSimulationBegin();\n    }\n  }\n  self.onSimulationEnd = function () {\n    for (let e of self.effects) {\n      e.onSimulationEnd();\n    }\n  }\n  self.onAttackBegin = function () {\n    for (let e of self.effects) {\n      e.onAttackBegin();\n    }\n  }\n  self.onAttackEnd = function () {\n    for (let e of self.effects) {\n      e.onAttackEnd();\n    }\n  }\n  self.onActionEnd = function () {\n    if (self.coolTime > 0) {\n      --self.coolTime;\n    }\n    for (let e of self.effects) {\n      e.onActionEnd();\n    }\n  }\n  self.onTurnEnd = function () {\n    for (let e of self.effects) {\n      e.onTurnEnd();\n    }\n  }\n  return self;\n}\n\nclass SimUnit {\n  base = null; // BaseUnit\n  isDormant = false; // 配置前 (出現ターン前) のユニットは true\n  coord = [0, 0];\n  affectedSkills = []; // SimSkill\n  customEffects = [];\n  main = {\n    bufP: [],\n    bufF: [],\n    status: [0, 0, 0, 0, 0, 0],\n    hp: 0,\n  };\n  support = {\n    bufP: [],\n    bufF: [],\n    status: [0, 0, 0, 0, 0, 0],\n    hp: 0,\n  };\n\n  get fid() { return this.base.fid; }\n  get phase() { return this.base.phase; }\n  get isActive() { return !this.isDormant && this.main.hp > 0; }\n\n  constructor(unit) {\n    unit.sim = this;\n    this.base = unit;\n    this.coord = [...unit.base.coord];\n\n    if (this.phase != \"0\") {\n      this.isDormant = true;\n    }\n\n    const addBattleProps = function (chr, base) {\n      chr.unit = this;\n      chr.bufP = [];\n      chr.bufF = [];\n      chr.status = [...base.status];\n      chr.hp = chr.status[0];\n\n      let skills = base.skills ? base.skills.map(skill => makeSimSkill(skill, chr)) : [];\n      if (chr.isMain) {\n        // メインのスキルリストに通常攻撃を追加\n        let atk = makeSimSkill($vue().findItemByUid(chr.damageType == \"アタック\" ? \"9999999\" : \"9999998\"));\n        Object.defineProperty(atk, 'range', {\n          get: () => chr.range,\n        });\n        skills = [atk, ...skills];\r\n      }\n      if (skills.length) {\n        Object.defineProperty(chr, 'skills', {\n          get: () => skills,\n        });\n      }\n\n      Object.defineProperty(chr, 'statusBase', {\n        value: base.status,\n        writable: false,\n      });\n    }.bind(this);\n    {\n      this.main = Object.create(unit.base.main);\n      addBattleProps(this.main, unit.base.main);\n    }\n    if (unit.base.support) {\n      this.support = Object.create(unit.base.support);\n      addBattleProps(this.support, unit.base.support);\n    }\n\n    let vue = $vue();\n    if (unit) {\n      // パッシブ/タレントを収集\n      const skills = [...(unit.main.skills ?? []), ...(unit.support?.skills ?? []),\n      ...(unit.main ? vue.getClassPassiveMain(unit.main.class) : []),\n      ...(unit.support ? vue.getClassPassiveSupport(unit.support.class) : []),\n      ...(unit.main.items ?? []),\n      ];\n      for (let skill of skills) {\n        if (skill.isTalent || skill.isPassive || skill.isItem) {\n          this.applySkill(skill, true);\n        }\n      }\n    }\n  }\n\n  serialize() {\n    let r = {};\n    r.coord = [...this.coord];\n    SimUnit.copyProps(r.main, this.main);\n    SimUnit.copyProps(r.support, this.support);\n    return r;\n  }\n  deserialize(r) {\n    this.coord = [...r.coord];\n    SimUnit.copyProps(this.main, r.main);\n    SimUnit.copyProps(this.support, r.support);\n  }\n\n  onSimulationBegin() {\n  }\n  onSimulationEnd() {\n    this.base.sim = null;\n  }\n\n  get hpRate() { return 0; }\n  get hpRateMain() { return 0; }\n  get hpRateSupport() { return 0; }\n  get activeBuffCount() { return 0; }\n  get activeDebuffCount() { return 0; }\n\n  getNearAllyCount(args) {\n    return 0;\n  }\n  getNearEnemyCount(args) {\n    return 0;\n  }\n\n  get actions() {\n    return [...(this.base.main?.skills ?? []), ...(this.base.support?.skills ?? [])].filter(a => a.isActive);\n  }\n\n  applySkill(skill, self = false) {\n    let s = this.affectedSkills.find(a => a.skill === skill);\n    if (!s) {\n      s = makeSimSkill(skill, self);\n      this.affectedSkills.push(s);\n    }\n    s.activate(self);\n  }\n  applyCustomEffect(effectType, value) {\n    this.customEffects.push(makeSimCustomEffect(effectType, value));\n  }\n\n  evaluateEffects(battleCtx) {\n\n  }\n\n  onTurnBegin() {\n  }\n  beforeAttack() {\n  }\n  afterAttack() {\n  }\n  onActionEnd() {\n  }\n  onTurnEnd() {\n  }\n\n  static copyProps(dst, src) {\n    if (!src)\n      return;\n    for (const k in src) {\n      if (Object.hasOwn(src, k)) {\n        const v = src[k];\n        if (Array.isArray(v)) {\n          dst[k] = [...v];\n        }\n        else {\n          dst[k] = v;\n        }\n      }\n    }\n  }\n}\n\nexport class SimContext\n{\n  static instance = null;\n  battleId = \"\";\n\n  divX = 15;\n  divY = 15;\n  maxTurn = 5;\n\n  units = [];\n  turn = 1;\n  isPlayerTurn = true;\n\n  attacker = null;\n  defender = null;\n  results = []; // CombatResult\n\n  constructor(xd, yd, baseUnits) {\n    SimContext.instance = this;\n    this.divX = xd;\n    this.divY = yd;\n    this.units = baseUnits.map(a => new SimUnit(a));\n  }\n  findUnitByBase(baseUnit) {\n    return this.units.find(a => a.base === baseUnit);\n  }\n\n  get currentPhase() {\n    return `${this.turn}${this.isPlayerTurn ? 'P' : 'E'}`;\r\n  }\n  get activeUnits() { return this.units.filter(u => !u.isDormant); }\n\n  get isEnemyTurn() { return !this.isPlayerTurn; }\n  set isEnemyTurn(v) { this.isPlayerTurn = !v; }\n\n  isOwnTurn(unit) {\n    return unit && ((unit.isPlayer && this.isPlayerTurn) || (unit.isEnemy && this.isEnemyTurn));\n  }\n\n\n\n  passTurn() {\n    if (this.isPlayerTurn) {\n      this.isPlayerTurn = false;\n      this.onPlayerTurnEnd();\n      this.onEnemyTurnBegin();\n    }\n    else if (this.turn < this.maxTurn) {\n      ++this.turn;\n      this.isPlayerTurn = true;\n      this.onEnemyTurnEnd();\n      this.onPlayerTurnBegin();\n    }\n    else {\n      console.log(\"End of Battle\");\r\n    }\n  }\n\n  onSimulationBegin() {\n    for (let u of this.units) {\n      u.onSimulationBegin();\n    }\n    this.onPlayerTurnBegin();\n  }\n  onSimulationEnd() {\n    for (let u of this.units) {\n      u.onSimulationEnd();\n    }\n    SimContext.instance = null;\n  }\n\n  onPlayerTurnBegin() {\n    for (let u of this.activeUnits) {\n      if (u.isPlayer) {\n        u.onTurnBegin();\n      }\n    }\n  }\n  onPlayerTurnEnd() {\n    for (let u of this.activeUnits) {\n      if (u.isPlayer) {\n        u.onTurnEnd();\n      }\n    }\n  }\n\n  onEnemyTurnBegin() {\n    const phase = this.currentPhase;\n    for (let u of this.units) {\n      if (u.isDormant && u.phase == phase) {\n        this.placeUnit(u, u.coord);\r\n      }\n    }\n    for (let u of this.activeUnits) {\n      if (u.isEnemy) {\n        u.onTurnBegin();\n      }\n    }\n  }\n  onEnemyTurnEnd() {\n    for (let u of this.activeUnits) {\n      if (u.isEnemy) {\n        u.onTurnEnd();\n      }\n    }\n  }\n\n\n  findUnitByCoord(coord) {\n    for (const u of this.activeUnits) {\n      if (u.coord[0] == coord[0] && u.coord[1] == coord[1])\n        return u;\n    }\n    return null;\n  }\n  isValidCoord(coord) {\n    return (coord[0] >= 0 && coord[0] < this.divX) &&\n      (coord[1] >= 0 && coord[1] < this.divY);\n  }\n  placeUnit(unit, coord) {\n    // 指定座標が専有されていた場合はずらす\n    const subCoord = [\n      [0, 0],\n      [0, -1], [1, 0], [0, 1], [-1, 0],\n      [0, -2], [1, -1], [2, 0], [1, 1], [0, 2], [-1, 1], [-2, 0], [-1, -1]\n    ];\n    for (const sc of subCoord) {\n      let c = [coord[0] + sc[0], coord[1] + sc[1]];\n      if (this.isValidCoord(c) && !this.findUnitByCoord(c)) {\n        unit.coord = c;\n        unit.isDormant = false;\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport class CombatResult\n{\n  attacker = {\n    unit: null,\n    damageMain: 0,\n    damageSupport: 0,\n  };\n  defender = {\n    unit: null,\n    damageMain: 0,\n    damageSupport: 0,\n  };\n\n  constructor() {\n  }\n}\n\n\nexport class PathFinder\n{\n  cells = [];\n  xdiv = 0;\n  ydiv = 0;\n\n  constructor(xdiv, ydiv) {\n    this.xdiv = xdiv;\n    this.ydiv = ydiv;\n    this.cells = new Array(xdiv * ydiv);\n    for (let y = 0; y < this.ydiv; ++y) {\n      for (let x = 0; x < this.xdiv; ++x) {\n        this.cells[this.ydiv * y + x] = {\n          moveDistance: -1,\n          shootDistance: -1,\n          isObstacle: false,\n          isOccupied: false,\n        };\n      }\n    }\n  }\n  getCell(x, y) {\n    if ((x >= 0 && x < this.xdiv) && (y >= 0 && y < this.ydiv)) {\n      return this.cells[this.ydiv * y + x];\n    }\n    return null;\n  }\n\n  isReachable(pos) {\n    return (this.getCell(pos[0], pos[1])?.moveDistance ?? -1) >= 0;\n  }\n  isShootable(pos) {\n    return (this.getCell(pos[0], pos[1])?.shootDistance ?? -1) >= 0;\n  }\n  setStart(pos) {\n    let c = this.getCell(pos[0], pos[1]);\n    if (c) {\n      c.moveDistance = 0;\n    }\n  }\n  setObstacles(units) {\n    for (const u of units) {\n      let c = this.getCell(u.coord[0], u.coord[1]);\n      if (c) {\n        c.isObstacle = true;\n      }\n    }\n  }\n  setOccupied(units) {\n    for (const u of units) {\n      let c = this.getCell(u.coord[0], u.coord[1]);\n      if (c) {\n        c.isOccupied = true;\n      }\n    }\n  }\n  buildPath(move, range, rangeShape = null) {\n    if (range == \"単体\")\n      range = 1;\n    else if (range == \"全体\")\n      range = 99;\n\n    for (let m = 0; m < move; ++m) {\n      for (let y = 0; y < this.ydiv; ++y) {\n        for (let x = 0; x < this.xdiv; ++x) {\n          this._chartCell(x, y, m);\n        }\n      }\n    }\n    for (let y = 0; y < this.ydiv; ++y) {\n      for (let x = 0; x < this.xdiv; ++x) {\n        this._shootCell(x, y, range, rangeShape);\n      }\n    }\n  }\n\n  _chartCell(x, y, distance) {\n    let c = this.getCell(x, y);\n    if (c.isObstacle || c.moveDistance > -1) {\n      return;\n    }\n    const neighbors = [\n      this.getCell(x + 1, y + 0),\n      this.getCell(x + 0, y + 1),\n      this.getCell(x - 1, y + 0),\n      this.getCell(x + 0, y - 1),\n    ];\n    for (let n of neighbors) {\n      if (n && n.moveDistance == distance) {\n        c.moveDistance = distance + 1;\n      }\n    }\n  }\n  _shootCell(x, y, range, shape) {\n    let c = this.getCell(x, y);\n    if (c.moveDistance < 0 || c.isOccupied) {\n      return;\n    }\n\n    const fillCell = function (rx, ry, distance) {\n      let c = this.getCell(x + rx, y + ry);\n      if (c && (c.shootDistance < 0 || distance < c.shootDistance)) {\n        c.shootDistance = distance;\n      }\n    }.bind(this);\n\n    let df = null;\n    if (shape == \"周囲\") {\n      df = function (rx, ry) {\n        let d = Math.max(Math.abs(rx), Math.abs(ry));\n        if (d <= range) {\n          fillCell(rx, ry, d);\n        }\n      };\n    }\n    else if (shape == \"直線\") {\n      df = function (rx, ry) {\n        let d = Math.abs(rx) + Math.abs(ry);\n        if (d <= range && (rx == 0 || ry == 0)) {\n          fillCell(rx, ry, d);\n        }\n      };\n    }\n    else {\n      df = function (rx, ry) {\n        let d = Math.abs(rx) + Math.abs(ry);\n        if (d <= range) {\n          fillCell(rx, ry, d);\n        }\n      };\n    }\n\n    for (let rx = -range; rx <= range; ++rx) {\n      for (let ry = -range; ry <= range; ++ry) {\n        df(rx, ry);\n      }\n    }\n  }\n}\n\nfunction $vue() {\n  return window.$vue;\r\n}\nfunction $sim() {\n  return SimContext.instance;\r\n}\nfunction $findObjectByUid(uid) {\n  return $vue().findObjectByUid(uid);\r\n}\n","<template>\n  <div class=\"root\" @mousemove=\"onMouseMove\" @click=\"onCellRClick(null)\">\n    <div class=\"header\" :class=\"{ 'hidden': !showHeader }\">\n      <Navigation />\n    </div>\n    <div class=\"about\" style=\"margin-top: 55px;\">\n      <div class=\"menu-content\" style=\"flex-wrap: nowrap\">\n        <div class=\"menu-panel\" id=\"cb-settings\">\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <span>マップデータ：</span>\n              <b-dropdown :text=\"battleData ? battleData.uid : ''\" size=\"sm\" id=\"battle_selector\" :disabled=\"simulation!=null\">\n                <b-dropdown-item v-for=\"(battle, i) in battleList\" class=\"d-flex flex-column\" :key=\"i\" @click=\"selectBattle(battle.uid, true); updateURL();\">\n                  {{ battle.uid }}\n                </b-dropdown-item>\n              </b-dropdown>\n            </div>\n          </div>\n        </div>\n        <div class=\"menu-panel\" id=\"cb-settings\">\n          <div class=\"menu-widgets flex\">\n            <div class=\"widget\">\n              <span>敵情報：</span>\n              <b-dropdown :text=\"displayTypes[displayType]\" size=\"sm\" id=\"detail_selector\">\n                <b-dropdown-item class=\"d-flex flex-column\" v-for=\"(c, i) in displayTypes\" :key=\"i\" @click=\"displayType=i\">\n                  {{ c }}\n                </b-dropdown-item>\n              </b-dropdown>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"content\" :style=\"style\">\n      <div class=\"main-panel\">\n        <b-tabs v-if=\"!simulation\" v-model=\"phaseTabIndex\">\n          <b-tab v-for=\"phase in phaseList\" :title=\"phase.desc\" @click=\"selectPhase(phase.id, true); updateURL();\" :key=\"phase.id\"></b-tab>\n        </b-tabs>\n\n        <div style=\"padding: 10px; background-color: white; display: flex;\">\n          <div ref=\"cells\" class=\"grid-container\">\n            <div v-for=\"(cell, i) in cells\" :key=\"i\" :set=\"unit=findUnitByCoord(cell.coord)\" :class=\"getCellClass(cell)\" :id=\"cell.id\"\n                 @click.stop=\"onClickCell(cell)\"\n                 @click.middle.prevent.stop=\"onCellRClick(cell)\" @mousedown.middle.prevent.stop=\"dummyHandler()\"\n                 @click.right.prevent.stop=\"onCellRClick(cell)\"\n                 @mouseover=\"onEnterCell(cell)\" @mouseleave=\"onLeaveCell(cell)\">\n              <template v-if=\"unit?.isEnemy && unit?.hasSupport\">\n                <b-img :src=\"getImageURL(unit.main.class)\" class=\"center\"\n                            width=\"30\" height=\"30\" style=\"position: relative; left: 8px; top: -8px; z-index: 1;\" />\n                <b-img :src=\"getImageURL(unit.support.class)\" class=\"center\"\n                            width=\"30\" height=\"30\" style=\"position: relative; left: -8px; top: 8px; z-index: 0;\" />\n              </template>\n              <template v-else-if=\"unit?.isEnemy && unit?.main\">\n                <b-img :src=\"getImageURL(unit.main.class)\" class=\"center\" width=\"40\" height=\"40\" />\n              </template>\n              <template v-else-if=\"unit?.isPlayer\">\n                <div draggable @dragstart=\"onDragCell(cell)\" @drop=\"onDropCell(cell)\" @dragover.prevent=\"dummyHandler()\">\n                  <b-img :src=\"getImageURL(unit.main.icon)\" class=\"center\" width=\"50\" height=\"50\" />\n                </div>\n              </template>\n            </div>\n          </div>\n\n          <div class=\"enemy-list\">\n            <template v-for=\"unit in activeEnemyUnits\">\n              <div class=\"character\" :class=\"{ 'highlighted': isUnitHighlighted(unit) }\" :id=\"'enemy_'+unit.fid\" :key=\"unit.fid\">\n                <div class=\"flex\">\n                  <div class=\"portrait\">\n                    <b-img-lazy :src=\"getImageURL(unit.main.icon)\" :title=\"unit.main.name\" width=\"80\" height=\"80\" rounded />\n                  </div>\n                  <div class=\"detail\" v-show=\"displayType >= 1\">\n                    <div class=\"info\">\n                      <h5 v-html=\"chrNameToHtml(unit.main.name+' (メイン)')\"></h5>\n                      <div class=\"status\">\n                        <b-img-lazy :src=\"getImageURL(unit.main.class)\" :title=\"'クラス:'+unit.main.class\" height=\"25\" />\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(unit.main.damageType)\" :title=\"'攻撃タイプ:'+unit.main.damageType\" width=\"20\" height=\"20\" /></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{unit.main.range}}</span></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{unit.main.move}}</span></div>\n                        <div class=\"param-box\"><span class=\"param-name\">レベル:</span><span class=\"param-value\">{{unit.main.level}}</span></div>\n                      </div>\n                      <div v-if=\"unit.main.status\" class=\"status2\" v-html=\"statusToHtml(unit.main.status)\" />\n                    </div>\n                    <div class=\"skills\">\n                      <template v-for=\"(skill, si) in unit.main.skills\">\n                        <div v-if=\"!skill.isNormalAttack\" class=\"skill\" :class=\"getSkillClass(skill)\" :key=\"si\">\n                          <div class=\"flex\">\n                            <div class=\"icon\" :id=\"'enemy_'+unit.fid+'_skill'+si\">\n                              <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                              <b-popover v-if=\"displayType==1\" :target=\"'enemy_'+unit.fid+'_skill'+si\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                                <div class=\"flex\">\n                                  <div v-html=\"descToHtml(skill)\"></div>\n                                </div>\n                              </b-popover>\n                            </div>\n                            <div class=\"desc\" v-show=\"displayType >= 2\">\n                              <div class=\"flex\">\n                                <h6>{{ skill.name }}</h6>\n                                <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                              </div>\n                              <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                            </div>\n                          </div>\n                        </div>\n                      </template>\n                    </div>\n                  </div>\n                </div>\n\n                <div v-if=\"unit.hasSupport && displayType >= 2\" class=\"flex\">\n                  <div class=\"portrait\">\n                    <b-img-lazy :src=\"getImageURL(unit.support.icon)\" :title=\"unit.support.name\" width=\"80\" height=\"80\" rounded />\n                  </div>\n                  <div class=\"detail\" v-show=\"displayType >= 1\">\n                    <div class=\"info\">\n                      <h5 v-html=\"chrNameToHtml(unit.support.name+' (サポート)')\"></h5>\n                      <div class=\"status\">\n                        <b-img-lazy :src=\"getImageURL(unit.support.class)\" :title=\"'クラス:'+unit.support.class\" height=\"25\" />\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(unit.support.damageType)\" :title=\"'攻撃タイプ:'+unit.support.damageType\" width=\"20\" height=\"20\" /></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{unit.support.range}}</span></div>\n                        <div class=\"param-box\"><span class=\"param-name\">レベル:</span><span class=\"param-value\">{{unit.support.level}}</span></div>\n                      </div>\n                      <div v-if=\"unit.support.status\" class=\"status2\" v-html=\"statusToHtml(unit.support.status)\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"simulation\" class=\"content\" style=\"margin-top: 20px\" @click.stop=\"\">\n      <div class=\"unit-panel\">\n        <div v-if=\"actionsToSelect.length\" style=\"margin-bottom: 20px\">\n          <b-button size=\"sm\" style=\"width: 45px; height: 45px; margin-right: 5px;\">\n            待機\n          </b-button>\n          <b-link v-for=\"(skill, si) of actionsToSelect\" :key=\"si\" @click=\"onClickAction(skill)\">\n            <b-img :src=\"getImageURL(skill.icon)\" :title=\"descToTitle(skill)\" :class=\"getActionClass(skill)\" width=\"50\" />\n          </b-link>\n        </div>\n        <div>\n          <h5>\n            ターン{{ simulation.turn }} : {{ simulation.isPlayerTurn ? 'プレイヤー': 'エネミー' }}フェイズ\n          </h5>\n          <b-button size=\"sm\" @click=\"endTurn()\" style=\"width: 10em; margin-right: 1em;\"\n                    :disabled=\"simulation.turn == simulation.maxTurn && simulation.isEnemyTurn\">\n            ターン終了\n          </b-button>\n          <b-button size=\"sm\" @click=\"endSimulation()\" style=\"width: 14em;\">\n            シミュレーション終了\n          </b-button>\n        </div>\n      </div>\n\n      <div class=\"unit-panel\">\n        シミュレーションモードでは実際のゲームのようにユニットを操作できます。<br />\n        しかし、あくまで検証用であるため、異なる点もあります。大きな違いを以下に挙げます。<br />\n        <ul>\n          <li>移動可能範囲は表示されますが、それを無視して無限に移動できます。</li>\n          <li>無限に再行動できます。</li>\n          <li>CT 中のアクティブや使用済みサポートアクティブも使用可能です。<br />\n          (本来使用不能なスキルはアイコンが灰色になるので区別できます)</li>\n          <li>敵ユニットは自動では行動しません。<b>敵フェイズでは敵ユニットを手動で操作する必要があります</b>。<br />\n          (敵の挙動の正確な再現が困難であるため)</li>\n        </ul>\n      </div>\n    </div>\n    <div v-else class=\"content\" style=\"margin-top: 30px\">\n      <div class=\"unit-panel\">\n        <div class=\"flex\">\n          <b-form-input v-model=\"slotName\" placeholder=\"編成名\" :disabled=\"simulation!=null\" style=\"width: 12em\"></b-form-input>\n          <b-dropdown size=\"sm\" text=\"編成をセーブ\" :disabled=\"simulation!=null\" style=\"width: 10em; margin-left: 0.5em;\">\n            <b-dropdown-item v-for=\"(name, i) in slotNames\" :key=i @click=\"saveUnits(i)\">スロット{{i}}: {{name}}</b-dropdown-item>\n          </b-dropdown>\n          <b-dropdown size=\"sm\" text=\"編成をロード\" :disabled=\"simulation!=null\" style=\"width: 10em; margin-left: 0.5em;\">\n            <b-dropdown-item v-for=\"(name, i) in slotNames\" :key=i @click=\"loadUnits(i)\">スロット{{i}}: {{name}}</b-dropdown-item>\n            <b-dropdown-item @click=\"loadUnits(99)\">バックアップ</b-dropdown-item>\n          </b-dropdown>\n          <b-button size=\"sm\" @click=\"clearUnits()\" :disabled=\"simulation!=null\" style=\"width: 10em; margin-left: 1em;\">\n            編成をクリア\n          </b-button>\n          <b-button size=\"sm\" style=\"width: 14em; margin-left: 4em;\" @click=\"beginSimulation()\">\n            シミュレーション開始\n          </b-button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"content\" :style=\"style\">\n      <div class=\"main-panel\" style=\"margin-top: 10px; margin-bottom: 20px;\">\n        <b-tabs v-model=\"unitTabIndex\">\n          <b-tab v-for=\"(unit, ui) in playerUnits\" :key=\"ui\" style=\"background-color: white; min-width: 1520px; min-height: 500px;\">\n            <template #title>\n              <h2 style=\"font-size: 1em;\" draggable @dragstart=\"onDragUnit(unit)\" @drop=\"onDropUnit(unit)\" @dragover.prevent=\"dummyHandler()\">\n                ユニット{{ui+1}}\n                <b-img-lazy :src=\"getImageURL(unit.main?.icon)\" width=\"30\" />\n                <b-img-lazy :src=\"getImageURL(unit.support?.icon)\" width=\"30\" />\n              </h2>\n            </template>\n            <div v-if=\"!simulation\" style=\"padding: 10px;\">\n              <b-button :id=\"`btn-edit-unit${ui}`\" @click=\"unit.showEditor=!unit.showEditor\" style=\"width: 10em;\">編集</b-button>\n              <b-popover :target=\"`btn-edit-unit${ui}`\" custom-class=\"status-simulator-popover\" :show.sync=\"unit.showEditor\" :delay=\"{show:0, hide:250}\" no-fade>\n                <StatusSimulator embed :data=\"unit.editorData\" @change=\"unit.edit($event)\" />\n                <div class=\"flex\">\n                  <b-button size=\"sm\" @click=\"unit.showEditor=false\">閉じる</b-button>\n                </div>\n              </b-popover>\n            </div>\n\n            <div class=\"flex\" style=\"align-items: flex-start;\">\n              <div v-if=\"unit.main.cid\" class=\"character\">\n                <div class=\"flex\">\n                  <div class=\"portrait\">\n                    <b-img-lazy :src=\"getImageURL(unit.main.icon)\" :title=\"unit.main.name\" width=\"100\" height=\"100\" rounded />\n                  </div>\n                  <div class=\"detail\" v-show=\"displayType >= 1\">\n                    <div class=\"info\">\n                      <h5 v-html=\"chrNameToHtml(unit.main.name)\"></h5>\n                      <div class=\"status\">\n                        <b-img-lazy :src=\"getImageURL(unit.main.class)\" :title=\"'クラス:'+unit.main.class\" height=\"25\" />\n                        <b-img-lazy :src=\"getImageURL(unit.main.symbol)\" :title=\"'シンボル:'+unit.main.symbol\" height=\"25\" />\n                        <b-img-lazy :src=\"getImageURL(unit.main.rarity)\" :title=\"'レアリティ:'+unit.main.rarity\" height=\"20\" />\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(unit.main.damageType)\" :title=\"'攻撃タイプ:'+unit.main.damageType\" width=\"20\" height=\"20\" /></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{unit.main.range}}</span></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('移動')\" title=\"移動\" width=\"18\" height=\"18\" /><span>{{unit.main.move}}</span></div>\n                      </div>\n                      <div class=\"status2\" v-html=\"statusToHtml(unit.main.status)\" />\n                    </div>\n                    <div class=\"skills\">\n                      <template v-for=\"(skill, si) in unit.main.skills\">\n                        <div class=\"skill\" v-if=\"!skill.isNormalAttack\" :class=\"getSkillClass(skill)\" :key=\"`skill${si}`\">\n                          <div class=\"flex\">\n                            <div class=\"icon\" :id=\"`unit${ui}_main_skill${si}`\">\n                              <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                              <b-popover v-if=\"displayType==1\" :target=\"`unit${ui}_main_skill${si}`\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                                <div class=\"flex\">\n                                  <div v-html=\"descToHtml(skill)\"></div>\n                                </div>\n                              </b-popover>\n                            </div>\n                            <div class=\"desc\" v-show=\"displayType >= 2\">\n                              <div class=\"flex\">\n                                <h6>{{ skill.name }}</h6>\n                                <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                              </div>\n                              <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                            </div>\n                          </div>\n                        </div>\n                      </template>\n                    </div>\n                    <div class=\"skills\">\n                      <div class=\"skill\" v-for=\"(skill, si) in unit.main.items\" :class=\"getSkillClass(skill)\" :key=\"`item${si}`\">\n                        <div class=\"flex\">\n                          <div class=\"icon\" :id=\"`unit${ui}_main_item${si}`\">\n                            <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                            <b-popover v-if=\"displayType==1\" :target=\"`unit${ui}_main_item${si}`\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                              <div class=\"flex\">\n                                <div v-html=\"descToHtml(skill)\"></div>\n                              </div>\n                            </b-popover>\n                          </div>\n                          <div class=\"desc\" v-show=\"displayType >= 2\">\n                            <div class=\"flex\">\n                              <h6>\n                                <b-img-lazy v-if=\"skill.slot\" :src=\"getImageURL(skill.slot)\" :title=\"'部位:'+skill.slot\" height=\"20\" />\n                                {{ skill.name }}\n                              </h6>\n                            </div>\n                            <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-if=\"unit.support.cid\" class=\"character\">\n                <div class=\"flex\">\n                  <div class=\"portrait\">\n                    <b-img-lazy :src=\"getImageURL(unit.support.icon)\" :title=\"unit.support.name\" width=\"100\" height=\"100\" rounded />\n                  </div>\n                  <div class=\"detail\" v-show=\"displayType >= 1\">\n                    <div class=\"info\">\n                      <h5 v-html=\"chrNameToHtml(unit.support.name)\"></h5>\n                      <div class=\"status\">\n                        <b-img-lazy :src=\"getImageURL(unit.support.class)\" :title=\"'クラス:'+unit.support.class\" height=\"25\" />\n                        <b-img-lazy :src=\"getImageURL(unit.support.supportType)\" :title=\"'サポートタイプ:'+unit.support.supportType\" height=\"25\" />\n                        <b-img-lazy :src=\"getImageURL(unit.support.rarity)\" :title=\"'レアリティ:'+unit.support.rarity\" height=\"20\" />\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL(unit.support.damageType)\" :title=\"'攻撃タイプ:'+unit.support.damageType\" width=\"20\" height=\"20\" /></div>\n                        <div class=\"param-box\"><b-img-lazy :src=\"getImageURL('射程')\" title=\"射程\" width=\"18\" height=\"18\" /><span>{{unit.support.range}}</span></div>\n                      </div>\n                      <div class=\"status2\" v-html=\"statusToHtml(unit.support.status)\" />\n                    </div>\n                    <div class=\"skills\">\n                      <div class=\"skill\" v-for=\"(skill, si) in unit.support.skills\" :class=\"getSkillClass(skill)\" :key=\"`skill${si}`\">\n                        <div class=\"flex\">\n                          <div class=\"icon\" :id=\"`unit${ui}_sup_skill${si}`\">\n                            <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                            <b-popover v-if=\"displayType==1\" :target=\"`unit${ui}_sup_skill${si}`\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                              <div class=\"flex\">\n                                <div v-html=\"descToHtml(skill)\"></div>\n                              </div>\n                            </b-popover>\n                          </div>\n                          <div class=\"desc\" v-show=\"displayType >= 2\">\n                            <div class=\"flex\">\n                              <h6>{{ skill.name }}</h6>\n                              <div class=\"param-group\" v-html=\"skillParamsToHtml(skill)\"></div>\n                            </div>\n                            <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"skills\">\n                      <div class=\"skill\" v-for=\"(skill, si) in unit.support.items\" :class=\"getSkillClass(skill)\" :key=\"`item${si}`\">\n                        <div class=\"flex\">\n                          <div class=\"icon\" :id=\"`unit${ui}_sup_item${si}`\">\n                            <b-img-lazy :src=\"getImageURL(skill.icon)\" with=\"50\" height=\"50\" />\n                            <b-popover v-if=\"displayType==1\" :target=\"`unit${ui}_sup_item${si}`\" triggers=\"hover focus\" :delay=\"{show:0, hide:250}\" no-fade :title=\"skill.name\" placement=\"top\">\n                              <div class=\"flex\">\n                                <div v-html=\"descToHtml(skill)\"></div>\n                              </div>\n                            </b-popover>\n                          </div>\n                          <div class=\"desc\" v-show=\"displayType >= 2\">\n                            <div class=\"flex\">\n                              <h6>\n                                <b-img-lazy :src=\"getImageURL(skill.slot)\" :title=\"'部位:'+skill.slot\" height=\"20\" />\n                                {{ skill.name }}\n                              </h6>\n                            </div>\n                            <p><span v-html=\"descToHtml(skill)\"></span><span v-if=\"skill.note\" class=\"note\" v-html=\"noteToHtml(skill)\"></span></p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </b-tab>\n        </b-tabs>\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Navigation from './Navigation.vue'\nimport jsonEnemyMainChrs from '../assets/enemy_main_characters.json'\nimport jsonEnemySupportChrs from '../assets/enemy_support_characters.json'\nimport jsonBattle from '../assets/battle.json'\nimport commonjs from \"./common.js\";\nimport lookupjs from \"./simulator/lookup.js\";\nimport StatusSimulator from './simulator/StatusSimulator.vue'\nimport * as ldb from \"./simulator/simulation.js\";\n\nexport default {\n  name: 'Battle',\n  components: {\n    Navigation,\n    StatusSimulator,\n  },\n  mixins: [commonjs,lookupjs],\n\n  data() {\n    return {\n      displayTypes: [\n        \"アイコン\",\n        \"シンプル\",\n        \"詳細\",\n      ],\n      phaseList: [\n        { index: 0, id: \"0\", desc: \"初期配置\" },\n        { index: 1, id: \"1E\", desc: \"1T敵フェイズ\" },\n        { index: 2, id: \"2E\", desc: \"2T敵フェイズ\" },\n        { index: 3, id: \"3E\", desc: \"3T敵フェイズ\" },\n        { index: 4, id: \"4E\", desc: \"4T敵フェイズ\" },\n      ],\n\n      divX: 15,\n      divY: 15,\n\n      battleList: [],\n      battleId: \"\",\n      battleData: null,\n      cells: [],\n      phase: \"\",\n      path: null,\n      skillRange: null,\n      skillArea: null,\n\n      selectedUnit: null, // unit\n      actionsToSelect: [], // skill\n      selectedSkill: null, // skill\n      selectedTarget: null, // unit\n      hoveredCell: null, // cell\n\n      tools: {},\n      toolStack: [],\n\n      phaseTabIndex: 0,\n      prevURL: \"\",\n\n      slotNames: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      slotName: \"\",\n      enemyUnits: [],\n      playerUnits: [\n        new ldb.BaseUnit(),\n        new ldb.BaseUnit(),\n        new ldb.BaseUnit(),\n        new ldb.BaseUnit(),\n        new ldb.BaseUnit(),\n      ],\n      unitTabIndex: 0,\n\n      simPhaseList: [\n        { index: 0, id: \"1P\", desc: \"1Tプレイヤー\" },\n        { index: 1, id: \"1E\", desc: \"1Tエネミー\" },\n        { index: 2, id: \"2P\", desc: \"2Tプレイヤー\" },\n        { index: 3, id: \"2E\", desc: \"2Tエネミー\" },\n        { index: 4, id: \"3P\", desc: \"3Tプレイヤー\" },\n        { index: 5, id: \"3E\", desc: \"3Tエネミー\" },\n        { index: 6, id: \"4P\", desc: \"4Tプレイヤー\" },\n        { index: 7, id: \"4E\", desc: \"4Tエネミー\" },\n        { index: 8, id: \"5P\", desc: \"5Tプレイヤー\" },\n        { index: 9, id: \"5E\", desc: \"5Tエネミー\" },\n      ],\n      simulation: null,\n    };\n  },\n\n  beforeCreate() {\n    window.$vue = this;\n  },\n\n  created() {\n    document.title = \"れじぇくろDB: ギルドクエストEX\";\n\n    this.setupDB();\n\n    this.enemyMainChrs = structuredClone(jsonEnemyMainChrs).filter(a => !a.hidden);\n    this.enemySupChrs = structuredClone(jsonEnemySupportChrs).filter(a => !a.hidden);\n    this.setupCharacters(this.enemyMainChrs, this.mainActive, this.mainPassive, this.mainTalents);\n    this.setupCharacters(this.enemySupChrs, this.supActive, this.supPassive);\n\n    this.battleList = structuredClone(jsonBattle);\n    for (let battle of this.battleList) {\n      for (let enemy of battle.enemies) {\n        {\n          const chr = this.enemyMainChrs.find(c => c.uid == enemy.main.cid);\n          this.mergeChrData(enemy.main, chr);\n          enemy.main.skills = [\n            this.searchTableWithUid.get(enemy.main.talent),\n            ...enemy.main.skills.map(id => this.searchTableWithUid.get(id)),\n          ];\n          enemy.main.status = this.getNPCChrStatus(chr, enemy.main.level, enemy.main.statusRate);\n        }\n        if (enemy.support) {\n          const chr = this.enemySupChrs.find(c => c.uid == enemy.support.cid);\n          this.mergeChrData(enemy.support, chr);\n          enemy.support.status = this.getNPCChrStatus(chr, enemy.support.level, enemy.support.statusRate);\n        }\n\n        let unit = new ldb.BaseUnit(false);\n        unit.fid = enemy.fid;\n        unit.phase = enemy.phase;\n        unit.coord = enemy.coord;\n        this.moveProperty(unit.base, enemy, \"main\");\n        this.moveProperty(unit.base, enemy, \"support\");\n        enemy.unit = unit;\n      }\n    }\n\n    for (let i = 0; i <= 9; ++i) {\n      let data = JSON.parse(localStorage.getItem(`battle.slot${i}`));\n      if (data?.name) {\n        this.setArrayElement(this.slotNames, i, data.name);\n      }\n    }\n  },\n\n  mounted() {\n    const divX = this.divX;\n    const divY = this.divY;\n    let cells = new Array(divX * divY);\n    for (let y = 0; y < divY; ++y) {\n      for (let x = 0; x < divX; ++x) {\n        let i = y * divX + x;\n        cells[i] = {\n          id: `c${this.zeroPad(x)}${this.zeroPad(y)}`,\n          coord: [x, y],\n        };\n      }\n    }\n    this.cells = cells;\n\n    let cellStyle = this.$refs.cells.style;\n    cellStyle.gridTemplateColumns = Array(divX).fill(\"50px\").join(\" \");\n    cellStyle.gridTemplateRows = Array(divY).fill(\"50px\").join(\" \");\n\n    this.selectBattle(this.battleList.slice(-1)[0].uid);\n    this.selectPhase(\"0\");\n    this.$nextTick(function () {\n      // 即時実行するとなんか tab の連動が追いつかないっぽいので $nextTick で行う\n      this.decodeURL();\n    });\n\n    this.setupTools();\n\n    window.onpopstate = function () {\n      this.decodeURL(true);\n    }.bind(this);\n  },\n\n  computed: {\n    activeEnemyUnits() {\n      if (this.simulation) {\n        return this.enemyUnits.filter(a => a.isActive);\n      }\n      else {\n        return this.enemyUnits.filter(a => a.phase == this.phase || a.fid == \"E01\");\n      }\n    },\n    allActiveUnits() {\n      if (this.simulation) {\n        return [...this.playerUnits, ...this.enemyUnits].filter(a => a.isActive);\n      }\n      else {\n        return [...this.playerUnits, ...this.enemyUnits].filter(a => a.phase == this.phase || a.fid == \"E01\");\n      }\n    },\n  },\n\n  methods: {\n    setupTools() {\n      // tool 変遷：\n      // nonSimulation (非シミュレーション時)\n      // selectUnit -> unitAction -> selectTarget -> (fireSkill)\n      //                                          -> previewArea -> (fireSkill)\n      //                          -> previewArea -> (fireSkill)\n\n      let self = this;\n      this.tools = {\n        nonSimulation: {\n          onClickCell(cell) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            if (!unit || self.selectedUnit === unit) {\n              // 空セル、もしくは自身が選択されたらキャンセル\n              this.onCancel();\r\n            }\n            else if(unit) {\n              // ユニット選択処理\n              self.selectUnit(unit);\n              if (unit) {\n                self.tools.moveUnit.buildPath(unit);\r\n                if (unit.isEnemy) {\n                  self.scrollTo(`enemy_${unit.fid}`);\n                }\n              }\n            }\n          },\r\n          onCancel() {\r\n            self.selectUnit(null);\r\n            self.path = null;\r\n          },\r\n          onRenderCell(cell, r) {\r\n            self.tools.moveUnit.onRenderCell(cell, r);\r\n          },\r\n        },\n\n        selectUnit: {\n          onClickCell(cell) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            // ユニット選択処理\n            self.selectUnit(unit);\n            if (unit?.isEnemy) {\n              self.scrollTo(`enemy_${unit.fid}`);\n            }\n\n            if (unit) {\n              self.pushTool(self.tools.moveUnit);\r\n            }\n          },\r\n          onClickAction(skill) {\r\n          },\r\n          onCancel() {\r\n          },\r\n          onRenderCell(cell, r) {\r\n          },\r\n        },\n\n        moveUnit: {\n          buildPath(unit) {\n            let pf = new ldb.PathFinder(self.divX, self.divY);\n            if (unit.isEnemy) {\n              pf.setObstacles(self.allActiveUnits.filter(a => a.isPlayer && a.main.cid));\n              pf.setOccupied(self.allActiveUnits.filter(a => a.isEnemy && a !== unit));\n            }\n            if (unit.isPlayer) {\n              pf.setObstacles(self.allActiveUnits.filter(a => a.isEnemy));\n              pf.setOccupied(self.allActiveUnits.filter(a => a.isPlayer && a.main.cid && a !== unit));\n            }\n            pf.setStart(unit.coord);\n            pf.buildPath(unit.move, unit.range);\n            self.path = pf;\n          },\n\n          onEnable() {\n            this.buildPath(self.selectedUnit);\n            if (self.simulation.isOwnTurn(self.selectedUnit)) {\n              self.actionsToSelect = self.selectedUnit.actions;\r\n            }\n          },\n          onDisable() {\n            self.selectUnit(null);\r\n            self.path = null;\r\n            self.actionsToSelect = [];\r\n          },\n          onClickCell(cell) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            let sim = self.simulation;\n            if (unit) {\n              if (self.selectedUnit === unit) {\n                // 自身が選択されたらキャンセル\n                self.popTool();\n              }\n              else {\n                // 別のユニットが選択されたらそちらに切り替え\n                this.onDisable();\r\n                self.selectUnit(unit);\n                this.onEnable();\r\n              }\n            }\n            else {\n              // ユニット移動処理\n              // プレイヤーターンならプレイヤー側、敵ターンなら敵側のユニットだけ移動を許可\n              if (sim.isOwnTurn(self.selectedUnit)) {\n                self.selectedUnit.coord = cell.coord;\n              }\n            }\n          },\r\n          onClickAction(skill) {\r\n            self.popToolUntil(self.tools.moveUnit);\r\n            self.selectAction(skill);\r\n\r\n            if (skill) {\r\n              if (skill.isSelfTarget || skill.isRadialAreaTarget) {\r\n                self.pushTool(self.tools.previewArea);\r\n              }\r\n              else {\r\n                self.pushTool(self.tools.selectTarget);\r\n              }\r\n            }\r\n          },\r\n          onCancel() {\r\n            self.popTool();\r\n          },\r\n          onRenderCell(cell, r) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            const selected = self.selectedUnit;\n            if (unit) {\n              if (unit.isEnemy)\n                r.push(\"enemy-cell\");\n              if (unit.isPlayer)\n                r.push(\"player-cell\");\n              if (unit === selected)\n                r.push(\"selected\");\n            }\n            if (self.path) {\n              if (self.path.isReachable(cell.coord)) {\n                if (!unit) {\n                  r.push(\"move-range\");\n                  if (cell === self.hoveredCell && self.simulation?.isOwnTurn(selected)) {\n                    r.push(\"hovered\");\n                  }\n                }\n              }\n              else if (self.path.isShootable(cell.coord)) {\n                r.push(\"attack-range\");\n                if (cell === self.hoveredCell && unit && selected && self.simulation?.isOwnTurn(selected) && unit.isPlayer != selected.isPlayer) {\n                  r.push(\"hovered\");\n                }\n              }\n            }\n            if (self.simulation?.isOwnTurn(selected) && !unit) {\n              r.push(\"click-to-move\");\n            }\n          },\r\n        },\n\n        selectTarget: {\n          onEnable() {\n            let skill = self.selectedSkill;\n            let pf = new ldb.PathFinder(self.divX, self.divY);\n            pf.setStart(self.selectedUnit.coord);\n            pf.buildPath(0, skill.range ?? 1);\n            self.skillRange = pf;\n          },\n          onDisable() {\n            self.selectedSkill = null;\r\n            self.skillRange = null;\r\n            self.targetUnit = null;\r\n          },\n          onClickCell(cell) {\r\n            if (self.skillRange.isShootable(cell.coord)) {\r\n              let skill = self.selectedSkill;\n              const unit = self.findUnitByCoord(cell.coord);\n              if (unit) {\r\n                self.targetUnit = unit;\r\n                if (skill.isAreaTarget) {\r\n                  self.pushTool(self.tools.previewArea);\r\n                }\r\n                else {\r\n                  // fireSkill\r\n                }\r\n              }\r\n            }\r\n          },\r\n          onClickAction(skill) {\r\n            self.tools.moveUnit.onClickAction(skill);\r\n          },\r\n          onCancel() {\r\n            self.popTool();\r\n          },\r\n          onRenderCell(cell, r) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            const selected = self.selectedUnit;\n            if (self.skillRange.isShootable(cell.coord)) {\n              r.push(\"area-range\");\n              if (cell === self.hoveredCell && unit && selected && self.simulation?.isOwnTurn(selected) && unit.isPlayer != selected.isPlayer) {\n                r.push(\"hovered\");\n              }\n            }\n          },\r\n        },\n\n        previewArea: {\n          onEnable() {\n            let skill = self.selectedSkill;\n            let pf = new ldb.PathFinder(self.divX, self.divY);\n            pf.setStart((self.targetUnit ?? self.selectedUnit).coord);\n            pf.buildPath(0, skill.area, skill.areaShape);\n            self.skillArea = pf;\n          },\n          onDisable() {\n            if (self.toolStack.at(-2) !== self.tools.selectTarget) {\n              self.selectedSkill = null;\r\n            }\n            self.skillArea = null;\r\n          },\n          onClickCell(cell) {\r\n            if (self.skillArea.isShootable(cell.coord)) {\r\n              let skill = self.selectedSkill;\n              const unit = self.findUnitByCoord(cell.coord);\n              if (unit) {\r\n                if (!self.targetUnit || unit === self.targetUnit) {\r\n                  // fireSkill\r\n                }\r\n                else {\r\n                  this.onDisable();\r\n                  self.targetUnit = unit;\r\n                  this.onEnable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          onClickAction(skill) {\r\n            self.tools.moveUnit.onClickAction(skill);\r\n          },\r\n          onCancel() {\r\n            self.popTool();\r\n          },\r\n          onRenderCell(cell, r) {\r\n            const unit = self.findUnitByCoord(cell.coord);\n            const selected = self.selectedUnit;\n            if (self.skillArea.isShootable(cell.coord)) {\n              r.push(\"attack-range\");\n              if (cell === self.hoveredCell && unit && selected && self.simulation?.isOwnTurn(selected) && unit.isPlayer != selected.isPlayer) {\n                r.push(\"hovered\");\n              }\n            }\n          },\r\n        },\n      };\n\n      this.toolStack = [this.tools.nonSimulation];\n    },\n\n    clearTools() {\n      while (this.popTool()) {}\r\n    },\n    pushTool(tool) {\n      if (tool.onEnable) {\n        tool.onEnable();\n      }\n      this.pushArray(this.toolStack, tool);\r\n    },\n    popTool() {\n      if (this.toolStack.length > 0) {\n        let tool = this.toolStack.at(-1);\r\n        if (tool.onDisable) {\r\n          tool.onDisable();\r\n        }\r\n        this.popArray(this.toolStack);\r\n        return true;\r\n      }\n      return false;\n    },\n    popToolUntil(tool) {\n      while (this.toolStack.at(-1) !== tool) {\n        this.popTool();\r\n      }\n    },\n\n    zeroPad(num, pad = 2) {\n      return String(num).padStart(pad, '0');\n    },\n\n    selectBattle(bid, clear = false) {\n      this.enemyUnits = [];\n      const battle = this.battleList.find(a => a.uid == bid);\n      if (!battle)\n        return;\n      this.battleId = bid;\n      this.battleData = battle;\n      this.enemyUnits = battle.enemies.map(a => a.unit);\n\n      if (clear) {\n        this.selectPhase(\"0\", clear);\n      }\n\n      for (let i = 0; i < battle.allies.length; ++i) {\n        let ally = battle.allies[i];\n        ally.unit = this.playerUnits[i];\n        ally.unit.fid = ally.fid;\n        ally.unit.phase = ally.phase;\n        ally.unit.coord = ally.coord;\n      }\n    },\n\n    selectPhase(pid, clear = false) {\n      let phase = this.phaseList.find(p => p.id == pid);\n      if (!phase)\n        return;\n\n      this.phaseTabIndex = phase.index;\n      this.phase = pid;\n\n      if (clear) {\n        this.selectUnit(null);\n      }\n    },\n\n    findUnitByCoord(coord) {\n      for (const u of this.allActiveUnits) {\n        if (u.coord[0] == coord[0] && u.coord[1] == coord[1])\n          return u;\n      }\n      return null;\n    },\n\n    selectUnit(unit) {\n      this.selectedUnit = unit;\n      if (unit) {\n        if (unit.isEnemy) {\n          this.scrollTo(`unit_${unit.fid}`);\n        }\n        if (unit.isPlayer) {\n          const idx = this.playerUnits.findIndex(a => a.fid == unit.fid);\n          this.unitTabIndex = idx;\n        }\n      }\n    },\n\n    selectAction(skill) {\n      this.selectedSkill = skill;\n    },\n\n    selectTarget(targetUnit) {\n      let skill = this.selectedSkill;\r\n      if (skill.isAreaTarget) {\n        let pf = new ldb.PathFinder(this.divX, this.divY);\n        pf.setStart(this.selectedUnit.coord);\n        pf.buildPath(0, skill.area, skill.areaShape);\n        this.skillArea = pf;\n      }\r\n      else {\r\n        this.selectedTarget = targetUnit;\r\n      }\r\n    },\n\n    fireAction(targetUnit) {\n    },\n\n    cancelAction() {\n      this.toolStack.at(-1)?.onCancel();\n    },\n\n    mergeChrData(dst, src) {\n      const props = [\n        \"isMain\", \"isSupport\",\n        \"name\", \"icon\", \"class\", \"rarity\", \"symbol\", \"supportType\", \"damageType\", \"range\", \"move\",\n      ];\n      if (src) {\n        for (const prop of props) {\n          if (prop in src)\n            dst[prop] = src[prop];\n          else\n            delete dst[prop];\n        }\n      }\n      else {\n        for (const prop of props) {\n          delete dst[prop];\n        }\n      }\n    },\n\n    getSkillClass(skill) {\n      return {\n        active: skill.isActive,\n        passive: skill.isPassive,\n      }\n    },\n\n    isUnitHighlighted(unit) {\n      return unit && (unit === this.selectedUnit);\n    },\n\n    getCellClass(cell) {\n      let r = [\"grid-cell\", \"border-l\", \"border-t\"];\n      if (cell.coord[0] == this.divX - 1) {\n        r.push(\"border-r\");\n      }\n      if (cell.coord[1] == this.divY - 1) {\n        r.push(\"border-b\");\n      }\n\n      let tool = this.toolStack.at(-1);\n      tool.onRenderCell(cell, r);\n      return r;\n    },\n    getActionClass(skill) {\n      let r = [\"action\"];\n      if (skill === this.selectedSkill) {\n        r.push(\"selected\");\n      }\n      if (!skill.available) {\n        r.push(\"grayscale\");\n      }\n      return r;\n    },\n\n    scrollTo(id) {\n      this.$nextTick(function () {\n        let e = document.getElementById(id);\n        if (e) {\n          e.scrollIntoView({block: \"nearest\"});\n        }\n      });\n    },\n\n    onEnterCell(cell) {\n      this.hoveredCell = cell;\n      const unit = this.findUnitByCoord(cell.coord);\n      if (unit?.isEnemy) {\n        //this.scrollTo(`enemy_${unit.fid}`);\n      }\n    },\n    onLeaveCell(cell) {\n      if (this.hoveredCell === cell) {\n        this.hoveredCell = null;\n      }\n    },\n    onClickCell(cell) {\n      let tool = this.toolStack.at(-1);\n      if (tool && tool.onClickCell) {\n        tool.onClickCell(cell);\n      }\n    },\n    onCellRClick(cell) {\n      this.cancelAction();\n    },\n    onClickAction(skill) {\n      let tool = this.toolStack.at(-1);\n      if (tool && tool.onClickAction) {\n        tool.onClickAction(skill);\n      }\n    },\n\n    updateURL() {\n      let seri = new this.URLSerializer();\n      seri.b = this.battleId;\n      if (this.phase != \"0\")\n        seri.p = this.phase;\n      if (this.selectedUnit)\n        seri.u = this.selectedUnit.fid;\n\n      let url = seri.serialize();\n      if (url != this.prevURL) {\n        window.history.pushState(null, null, url);\n        this.prevURL = url;\n        return true;\n      }\n      return false;\n    },\n    decodeURL(initState = false) {\n      let data = new this.URLSerializer({\n        b: \"\",\n        p: \"\",\n        u: \"\",\n      });\n\n      if (data.deserialize(window.location.href) || initState) {\n        if (data.b)\n          this.selectBattle(data.b);\n        if (data.p)\n          this.selectPhase(data.p);\n        else if (data.b)\n          this.selectPhase(\"0\");\n        if (data.u)\n          this.selectUnit(data.u);\n      }\n    },\n\n\n    beginSimulation() {\n      this.selectUnit(null);\n      if (!this.simulation) {\n        this.simulation = new ldb.SimContext(this.divX, this.divY, [...this.playerUnits, ...this.enemyUnits]);\n        this.simulation.onSimulationBegin();\n\n        this.clearTools();\n        this.pushTool(this.tools.selectUnit);\n      }\n    },\n    endSimulation() {\n      this.selectUnit(null);\n      if (this.simulation) {\n        this.simulation.onSimulationEnd();\n        this.simulation = null;\n\n        this.clearTools();\n        this.pushTool(this.tools.nonSimulation);\n      }\n    },\n\n    endTurn() {\n      this.simulation?.passTurn();\n    },\n\n    onDragUnit(unit) {\n      this.draggingUnit = unit;\n    },\n    onDropUnit(unit) {\n      if (this.draggingUnit && !this.simulation) {\n        if (this.draggingUnit && unit) {\n          this.draggingUnit.swap(unit);\n        }\n      }\n      this.draggingUnit = null;\n      this.selectUnit(null);\n    },\n    onDragCell(cell) {\n      this.onDragUnit(this.findUnitByCoord(cell.coord));\n    },\n    onDropCell(cell) {\n      this.onDropUnit(this.findUnitByCoord(cell.coord));\n    },\n    dummyHandler() {\n    },\n\n\n    // in-place array copy\n    copyArray(dst, src) {\n      dst.length = src.length;\n      for (let i = 0; i < src.length; ++i)\n        dst[i] = src[i];\n    },\n    appendArray(dst, src) {\n      let pos = dst.length;\n      dst.length = dst.length + src.length;\n      for (let i = 0; i < src.length; ++i)\n        dst[pos++] = src[i];\n    },\n\n    clearUnits() {\n      for (let unit of this.playerUnits) {\n        unit.initialize();\n      }\n    },\n    saveUnits(slot = 0) {\n      let old = JSON.parse(localStorage.getItem(`battle.slot${slot}`));\n      if (old?.units) {\n        localStorage.setItem(`battle.slot99`, JSON.stringify(old));\n      }\n\n      this.setArrayElement(this.slotNames, slot, this.slotName);\n      let data = {\n        name: this.slotName,\n        units: this.playerUnits.map(a => a.serialize()),\n      };\n      localStorage.setItem(`battle.slot${slot}`, JSON.stringify(data));\n    },\n    loadUnits(slot = 0) {\n      let data = JSON.parse(localStorage.getItem(`battle.slot${slot}`));\n      if (data) {\n        this.slotName = data.name ?? \"\";\n        for (let i = 0; i < this.playerUnits.length; ++i) {\n          this.playerUnits[i].deserialize(data.units[i]);\n        }\n      }\n      else {\n        for (let unit of this.playerUnits) {\n          unit.initialize();\n        }\n      }\n      this.selectUnit(null);\n    },\n\n    dbgTest() {\n    },\n  },\n}\n</script>\n\n<style scoped>\n  .main-panel {\n    padding-top: 10px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    display: inline-block;\n    background: rgb(245, 245, 245);\n    box-shadow: 0 3px 6px rgba(140,149,159,0.5);\n  }\n\n  .grid-container {\n    display: grid;\n    /*\n      grid-gap によるボーダーの描画は、どうも画面のスケールが 100% でないときにムラができるっぽいので、\n      旧来の border-(left|right|top|bottom) でなんとかする。\n\n      grid-gap: 1px;\n      padding: 1px;\n      background: rgb(180,185,195);\n    */\n    margin-right: 20px;\n  }\n  .grid-cell {\n    display: flex;\n    justify-content: center;\n    background: white;\n  }\n  .bordered {\n    border: 1px solid rgb(180,185,195);\n  }\n  .border-l {\n    border-left: 1px solid rgb(180,185,195);\n  }\n  .border-r {\n    border-right: 1px solid rgb(180,185,195);\n  }\n  .border-t {\n    border-top: 1px solid rgb(180,185,195);\n  }\n  .border-b {\n    border-bottom: 1px solid rgb(180,185,195);\n  }\n\n  .enemy-cell {\n    background: rgb(255, 160, 160);\n    cursor: pointer;\n  }\n  .enemy-cell.selected {\n    background: rgb(255, 80, 80);\n  }\n\n  .player-cell {\n    background: rgb(140, 160, 255);\n    cursor: grab;\n  }\n  .player-cell.selected {\n    background: rgb(80, 80, 255);\n  }\n\n  .move-range {\n    background: rgb(200, 220, 255);\n  }\n  .move-range.hovered {\n    background: rgb(140, 160, 255);\n  }\n  .attack-range {\n    background: rgb(255, 200, 190);\n  }\n  .attack-range.hovered {\n    background: rgb(255, 90, 80);\n  }\r\n  .area-range {\r\n    background: rgb(255, 235, 190);\r\n  }\n  .click-to-move {\n    cursor: move;\n  }\n  .click-to-attack {\n    cursor: grabbing;\n  }\n\n  .enemy-list {\n    max-height: 750px;\n    overflow-y: scroll;\n  }\n  .enemy-panel {\n  }\n\n  .center {\n    margin: auto;\n  }\n\n  .unit-panel {\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.3rem;\n    display: inline-block;\n    background: rgb(245, 245, 245);\n    box-shadow: 0 3px 6px rgba(140,149,159,0.5);\n    padding: 10px;\n    margin: 5px;\n  }\n\n  .content ul {\n    list-style-type: disc;\n    margin: 0;\n  }\n  .content li {\n    display: list-item;\n    margin: 0 15px;\n  }\r\n\r\n  .action {\r\n    border: 1px solid rgba(255, 255, 255, 0);\r\n    border-radius: 0.3rem;\r\n    background-color: rgba(255, 255, 255, 0);\r\n  }\r\n  .action.selected {\r\n    border: 1px solid rgba(255, 0, 0, 255);\n    background-color: rgba(255, 0, 0, 255);\r\n  }\n  .grayscale {\n    filter: grayscale(100%);\n  }\n\n</style>\n<style>\n  .table {\n    margin-bottom: 1px;\n  }\n\n  .desc .table {\n    width: auto;\n    margin: 3px;\n  }\n\n  .input-dropdown button {\n    padding: 0.1em;\n  }\n\n  .table-sm td {\n    padding: 1px;\n    vertical-align: middle;\n  }\n\n  input::placeholder {\n    color: rgb(190, 190, 190) !important;\n    font-size: small !important;\n  }\n\n  .popover {\n    max-width: 450px;\n  }\n  .status-simulator-popover {\n    max-width: 880px !important;\n    width: 880px !important;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Battle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Battle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Battle.vue?vue&type=template&id=701c3d78&scoped=true&\"\nimport script from \"./Battle.vue?vue&type=script&lang=js&\"\nexport * from \"./Battle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Battle.vue?vue&type=style&index=0&id=701c3d78&prod&scoped=true&lang=css&\"\nimport style1 from \"./Battle.vue?vue&type=style&index=1&id=701c3d78&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"701c3d78\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport MainCharacters from './components/MainCharacters.vue'\nimport SupportCharacters from './components/SupportCharacters.vue'\nimport Items from './components/Items.vue'\nimport Lookup from './components/Lookup.vue'\nimport About from './components/About.vue'\nimport Misc from './components/Misc.vue'\nimport Battle from './components/Battle.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: '/' ,\n  routes: [\n    {\n      path: '/',\n      name: 'index',\n      component: MainCharacters\n    },\n    {\n      path: '/main.html',\n      name: 'main',\n      component: MainCharacters\n    },\n    {\n      path: '/support.html',\n      name: 'support',\n      component: SupportCharacters\n    },\n    {\n      path: '/item.html',\n      name: 'item',\n      component: Items\n    },\n    {\n      path: '/lookup.html',\n      name: 'lookup',\n      component: Lookup\n    },\n    {\n      path: '/about.html',\n      name: 'about',\n      component: About\n    },\n    {\n      path: '/misc.html',\n      name: 'misc',\n      component: Misc\n    },\n    {\n      path: '/battle.html',\n      name: 'battle',\n      component: Battle\n    }\n  ]\n})","import Vue from 'vue'\nimport App from './App.vue'\nimport BootstrapVue from 'bootstrap-vue'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport \"./components/style.css\";\nimport router from './router'\n\nVue.use(BootstrapVue)\nVue.config.productionTip = false\n\nVue.prototype.$idSeed = 0;\nVue.prototype.$genUniqueId = function () {\n  return ++Vue.prototype.$idSeed;\n};\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklegeclodb\"] = self[\"webpackChunklegeclodb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4763); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","components","component","staticClass","on","onMouseMove","class","showHeader","model","value","searchTabIndex","callback","$$v","expression","_l","skillTypeFilter","c","i","key","state","$event","$set","updateQuery","_v","_s","skillTypes","staticStyle","tagSearchPattern","tagCategory","tc","tci","ref","refInFor","display","onTagDropdownShow","onTagDropdownHide","getFilteredMainTags","tags","t","mainTagTable","id","genTagID","setTagSearchPattern","hideTagDropdown","domProps","count","note","_e","subTagTable","show","hide","onSubtagPopoverShow","onSubtagPopoverHide","getFilteredSubTags","st","tagTable","freeSearchPattern","_m","classFilter","getImageURL","classes","engageFilter","symbolFilter","symbols","rarityFilter","rarities","damageTypeFilter","damageTypes","settingsTabIndex","displayCounts","displayCount","displayTypes","displayType","switchEngageAll","sortTypes","sortType","sortOrders","sortOrder","stat","base","level","star","param","index","label","min","max","_n","updateStatus","type","boosts","resetStatus","style","getPageCount","items","length","displayCountNum","onPage","page","scrollToBottom","pagedItems","chr","icon","directives","rawName","isInfoHighlighted","chrNameToHtml","symbol","rarity","damageType","range","move","date","engage","status","statusToHtml","isTalentHighlighted","talent","descToHtml","skillNameToHtml","descs","current","ds","di","desc","enabled","switchEngage","noteToHtml","tag","skills","skill","si","getSkillClass","setSkillFilter","owners","owner","oi","moveToChr","skillParamsToHtml","summon","smi","statusLvs","scrollToTop","devmode","props","data","mounted","imageTable","jsonImageTable","preventShowHideHeaderOnScroll","lastScrollPosition","sortBySlot","tagIDSeed","mainTagIDSeed","predefinedMainTags","tagSearchPatternPrev","tagSearchFn","freeSearchPatternPrev","freeSearchFn","created","route","getRouteName","tmp","localStorage","getItem","parseInt","window","addEventListener","onScroll","beforeDestroy","removeEventListener","watch","v","setItem","computed","NaN","isNaN","methods","pos","scrollY","document","documentElement","scrollTop","Math","abs","updateURL","p","ret","$route","hideHeader","scroll","scrollTo","body","scrollHeight","event","clientY","escapeRE","str","replace","console","log","compareDate","a","b","appendSet","dst","iteratable","add","sortSet","compare","sorted","Array","from","sort","clear","partitionSet","condition","push","delete","reorderSet","patterns","has","applyPage","array","n","start","end","slice","ceil","getPageOf","finder","findIndex","floor","partitionSubtags","subtagSet","match","reorderSubtag","k","getMainTagIfSubTag","m","startsWith","indexOf","addMainTag","constants","tagNotes","addSubTag","main","sub","subtags","Set","registerTag","mainTag","registerTags","countTags","resetTagCounts","Object","values","getMainTags","keys","r","subTags","isFilterEnabled","filter","fillFilter","filterMatch","isArray","txt","wholeWord","escape","trim","hidePopover","$nextTick","bind","setFreeSearchPattern","matchTags","re","matchContent","item","getSearchMask","isSearchPatternSet","removeMarkup","text","replaceAll","replaced","descToTitle","isMain","isSupport","isItem","statusToText","isActive","isPassive","ctToText","areaToText","rangeToText","cost","map","join","ct","areaShape","area","prefix","conv","list","flatMap","splice","modified","RegExp","e","includes","updateTagCounts","keepDropdown","readyToHide","preventDefault","popoverTarget","prevPopover","$refs","$root","$emit","serializeFilter","deserializeFilter","copyToClipboard","navigator","clipboard","writeText","URLSerializer","constructor","serialize","params","toString","deserialize","url","decodeURIComponent","numHandled","q","split","kvp","getMainChrStatus","master","loveBonus","boost","statusInit","statusLv","statusStar","round","getSupportChrStatus","amulet","additional","getItemStatus","getNPCChrStatus","rate","lowerBound","seq","first","last","middle","toNumber","parseFloat","toInt","parseValue","s","getBattlePower","getMainBattlePower","skillCost","itemStar","enchantComplete","engageSkillCount","getSupportBattlePower","skillCount","getEstimatedItemBattlePower","api","baseAP","baseTec","ap","getEffectIndex","effectType","effectTypes","jsonConstants","isPublicTarget","target","isSelfTarget","effectParamsToTags","miscTags","isSymbolSkill","fixedDamage","find","buffCancel","buffSteal","doubleAttack","postfix","cond","onEnemyTurn","multiMove","onKill","multiAction","probability","damageRate","buffToS","effectCategory","effect","tagFilter","isDebuff","duration","isBuff","includeDemeritTags","ephemeral","includeSelfTags","includeAreaTags","variant","buff","f","debuff","statusEffects","immune","drawback","setupSkill","self","isSingleTarget","isRadialAreaTarget","isAreaTarget","isDamageSkill","setupSlot","typeId","slot","isMainSkill","isSupportSkill","hasSpecialSlot","setParent","defineProperty","writable","negativeEffects","isStatusEffect","isImmune","includeSkillEffectTags","uid","setupItems","consts","allClasses","classIds","cls","classFlags","rarityId","slotId","itemTypes","setupCharacters","characters","activeSkills","passiveSkills","talents","isTalent","skillTable","Map","set","grabSkill","get","error","arrayToScalar","obj","prop","effects","classId","symbolId","damageTypeId","supportType","supportTypeId","supportTypes","handleSummons","sch","skillsBase","isEngageSkill","setArrayElement","ary","idx","pushArray","popArray","moveProperty","src","swapProperty","field","objectEqual","obj1","obj2","keys1","keys2","hasOwn","Navigation","mixins","active","passive","resist","action","other","hp","atk","def","mag","res","tec","enableUpdateURL","prevURL","rawItems","setupDB","dstTags","handledTags","handlePredefinedTags","resetAllFilters","resetFilter","isSkillHighlighted","applyTalentFilter","applySkillTypeFilter","applyClassFilter","applySearchPatterns","filterItem","ok","doCount","highlighted","seri","decodeURL","skillType","free","supportTypeFilter","itemTypeFilter","itemClassesToHtml","isDescHighlighted","equipments","itemType","tabIndex","scopedSlots","_u","fn","proxy","options","optionFields","presetPAtk","presetMAtk","presetPDef","presetMDef","getParamsUrl","buffs","forEach","reset","buffFields","parent","limit","weight","debuffs","prioritized","mainChrs","addPrioritized","excluded","addExcluded","progress","completed","result","allEffectsToHtml","ei","highlight","po","ri","chrEffectsToHtml","character","effectsToHtml","support","enumerate","popoverElements","element","classfilter","symbolfilter","nullable","onClick","filteredChrs","required","chrs","default","rarityfilter","closeonclick","filterChr","pending","BitFlags","arg","size","data_","Uint32Array","byte","bit","isGetSet","getOwnPropertyDescriptor","g","mainActive","structuredClone","jsonMainActive","mainPassive","jsonMainPassive","mainTalents","jsonMainTalents","jsonMainChrs","hidden","supActive","jsonSupportActive","supPassive","jsonSupportPassive","supChrs","jsonSupportChrs","jsonItems","localeCompare","weapons","armors","helmets","accessories","amulets1","amulets2","searchTableWithUid","searchTableWithName","itemCount","effectTypeIndex","effectTypeNames","effectTypeTable","slotIndex","slotTable","et","enumerateEffects","setupFilter","getClassPassiveMain","className","table","getClassPassiveSupport","getEnchantPassiveList","getEnchantPassive","enchantName","filterMatchMainChr","filterMatchSupChr","removeEffectsOfSameType","doRemove","countEffect","timing","sign","getParamClass","disabled","ctx","lines","getEffectValue","additionalClass","onBattle","unit","title","usedEffects","conflictedEffects","getElementById","classList","remove","getEffectValues","effectList","Int32Array","fill","effectParamsToHtml","recs","_addPriorityItem","cb","_isInPrioritizeList","removePrioritized","isPrioritized","removeExcluded","isExcluded","maxStack","variable","arrays","findItemByUid","findItemByName","matchClass","mainCanEquip","supportCanEquip","aux","amuletType","validateItems","mainItems","supItems","supportItems","weapon","armor","helmet","accessory","amulet1","amulet2","serializeParams","handleOptions","handleFilter","handleBuffs","handleExcludes","undefined","deserializeParams","d","shift","location","href","encodeURIComponent","JSON","stringify","parseParamsUrl","parse","optionValues","opt","handler","deep","updated","beginSearch","ChrSelector","initialState","history","historyIndex","limit_","findItem","createUsedFlags","pickMax","highest","doSearch","targets","totalAmount","usedSlots","usedSkills","isAvailable","markAsUsed","hitLimit","acceptEffects","prepassSkill","score","prepassChr","pickCandidates","scoreBoost","sctx","scoreList","cctx","equipmentsScore","updateState","skillsScore","tmpSkills","summonScore","update","bestScore","bestSkillCount","bestResult","supScores","supportScore","mainScores","children","results","mctx","searchRecursive","updateBest","setTimeout","enableBuf","enableDebuf","presetAll","enabledEffects","skillScore","addSkill","scoreTableChr","CombinationBufSimulator","SelfBufSimulator","handleURLUpdate","specialBuffSkillsSingle","specialBuffSkillsMulti","classBonusBase","null","n2percent","classBonusMax","masterBonus","bookBonus","enchantBonus","amuletBonus","supportEnabled","attacked","dmgResult","dmgUrl","mainEnabled","atkBuf","skillDamageRate","damageBuf","critical","criticalDamageRate","rangedPenalty","defBuf","shield","calcDamage","damage","bpResult","bpUrl","stars","eqStars","enchant","calcBattlePower","embed","getSkillIcon","setMainChr","mainBoosts","mainSkills","onSkillDrag","onSkillDrop","dummyHandler","mainSkillList","mainItemSlots","mainClass","mainEnchantPassive","mainEnchants","valueP","valueF","statMainResult","setSupChr","supportBoosts","supItemSlots","supportEnchants","statSupportResult","autoEquipTypes","autoEquip","highscoreSearch","highscoreData","highscoreFields","row","highscoreReplay","statUrl","slotfilter","slots","filteredItems","excludes","chrSelector","currentChr","ItemSelector","SkillSelector","supportAmulet1Skill","supportAmulet2Skill","amulet1Skills","amulet2Skills","AUTO_EQUIP_TYPE","BATTLE_POWER","DAMAGE","DEBUF","ATTACK_POWER","HP","DEF","RES","RESET","prevMainEngage","draggingSkillIdx","updateItemScore","dmgTypes","debufTypes","isAttackSkillSet","dmgEffects","debufEffects","autoMainSkill","autoMainSkillImpl","getSkillBPRate","autoEquipImpl","enchants","enchantPassive","sortf","cmdlists","exec","hpP","hpF","atkP","atkF","defP","defF","magP","magF","resP","resF","cl","pickItemsMain","pickOptimalEnchants","pickItemsSupport","pickOptialAmuletSkills","msa","ssa","bp","mains","supports","getStatMainArgs","enchantsP","enchantsF","getStatSupportArgs","calcStatMainImpl","bpr","calcStatMain","calcStatSupportImpl","calcStatSupport","onChange","DamageSimulator","BattlePointSimulator","StatusSimulator","onCellRClick","battleData","simulation","battleList","battle","selectBattle","phaseTabIndex","phaseList","phase","selectPhase","cells","cell","getCellClass","findUnitByCoord","coord","stopPropagation","onClickCell","button","onEnterCell","onLeaveCell","isEnemy","hasSupport","isPlayer","onDragCell","onDropCell","activeEnemyUnits","fid","isUnitHighlighted","isNormalAttack","actionsToSelect","onClickAction","getActionClass","turn","isPlayerTurn","maxTurn","isEnemyTurn","endTurn","endSimulation","slotName","slotNames","saveUnits","loadUnits","clearUnits","beginSimulation","unitTabIndex","playerUnits","ui","onDragUnit","onDropUnit","showEditor","editorData","edit","cid","BaseUnit","emptyUnit","sim","actions","initialize","emp","assign","mergeChrData","$vue","swap","saveState","loadState","serializeChr","deserializeChr","ss","copyArray","mainChr","supChr","makeSimEffect","create","stack","time","Infinity","isStopped","activate","bySelf","evaluateCondition","caster","battleCtx","condExp","val1","cmp","val2","targetHp","hpRate","mainHp","hpRateMain","supportHp","hpRateSupport","nearAllyCount","getNearAllyCount","nearEnemyCount","getNearEnemyCount","activeBuffCount","targetActiveBuffCount","activeDebuffCount","targetActiveDebuffCount","token","targetToken","onClass","onEnemyClass","onSymbol","onOwnTurn","onCloseCombat","onRangedCombat","onDamage","onCriticalit","evaluateBuff","evaluateDebuff","onTurnBegin","onSimulationBegin","onSimulationEnd","onAttackBegin","onAttackEnd","onActionEnd","onTurnEnd","_getValue","baseStat","makeSimCustomEffect","vue","makeSimSkill","ownerChr","coolTime","fire","SimUnit","isDormant","bufP","bufF","addBattleProps","applySkill","copyProps","args","affectedSkills","applyCustomEffect","customEffects","evaluateEffects","beforeAttack","afterAttack","static","SimContext","xd","yd","baseUnits","instance","divX","divY","units","findUnitByBase","baseUnit","currentPhase","activeUnits","u","isOwnTurn","passTurn","onPlayerTurnEnd","onEnemyTurnBegin","onEnemyTurnEnd","onPlayerTurnBegin","placeUnit","isValidCoord","subCoord","sc","PathFinder","xdiv","ydiv","y","x","moveDistance","shootDistance","isObstacle","isOccupied","getCell","isReachable","isShootable","setStart","setObstacles","setOccupied","buildPath","rangeShape","_chartCell","_shootCell","distance","neighbors","shape","fillCell","rx","ry","df","battleId","path","skillRange","skillArea","selectedUnit","selectedSkill","selectedTarget","hoveredCell","tools","toolStack","enemyUnits","simPhaseList","beforeCreate","enemy","cellStyle","allActiveUnits","setupTools","nonSimulation","onCancel","onRenderCell","selectUnit","moveUnit","pf","onEnable","onDisable","selectTarget","previewArea","clearTools","pushTool","tool","popTool","popToolUntil","zeroPad","ally","selectAction","fireAction","cancelAction","block","appendArray","dbgTest","Vue","Router","mode","routes","MainCharacters","SupportCharacters","Items","Lookup","About","Misc","Battle","BootstrapVue","router","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","o","enumerable","globalThis","Function","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}